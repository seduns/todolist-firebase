var NS=Object.defineProperty,xS=Object.defineProperties;var PS=Object.getOwnPropertyDescriptors;var gc=Object.getOwnPropertySymbols;var sI=Object.prototype.hasOwnProperty,oI=Object.prototype.propertyIsEnumerable;var iI=(n,e,t)=>e in n?NS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})sI.call(e,t)&&iI(n,t,e[t]);if(gc)for(var t of gc(e))oI.call(e,t)&&iI(n,t,e[t]);return n},oe=(n,e)=>xS(n,PS(e));var aI=(n,e)=>{var t={};for(var r in n)sI.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&gc)for(var r of gc(n))e.indexOf(r)<0&&oI.call(n,r)&&(t[r]=n[r]);return t};var A=(n,e,t)=>new Promise((r,i)=>{var s=u=>{try{c(t.next(u))}catch(l){i(l)}},o=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((t=t.apply(n,e)).next())});function cI(n,e){return Object.is(n,e)}var Le=null,mc=!1,yc=1,wn=Symbol("SIGNAL");function he(n){let e=Le;return Le=n,e}function uI(){return Le}var po={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Th(n){if(mc)throw new Error("");if(Le===null)return;Le.consumerOnSignalRead(n);let e=Le.nextProducerIndex++;if(wc(Le),e<Le.producerNode.length&&Le.producerNode[e]!==n&&fo(Le)){let t=Le.producerNode[e];Ic(t,Le.producerIndexOfThis[e])}Le.producerNode[e]!==n&&(Le.producerNode[e]=n,Le.producerIndexOfThis[e]=fo(Le)?fI(n,Le,e):0),Le.producerLastReadVersion[e]=n.version}function OS(){yc++}function lI(n){if(!(fo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===yc)){if(!n.producerMustRecompute(n)&&!Ch(n)){n.dirty=!1,n.lastCleanEpoch=yc;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=yc}}function dI(n){if(n.liveConsumerNode===void 0)return;let e=mc;mc=!0;try{for(let t of n.liveConsumerNode)t.dirty||kS(t)}finally{mc=e}}function hI(){return Le?.consumerAllowSignalWrites!==!1}function kS(n){n.dirty=!0,dI(n),n.consumerMarkedDirty?.(n)}function _c(n){return n&&(n.nextProducerIndex=0),he(n)}function bh(n,e){if(he(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(fo(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ic(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ch(n){wc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(lI(t),r!==t.version))return!0}return!1}function Ah(n){if(wc(n),fo(n))for(let e=0;e<n.producerNode.length;e++)Ic(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function fI(n,e,t){if(pI(n),n.liveConsumerNode.length===0&&gI(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=fI(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ic(n,e){if(pI(n),n.liveConsumerNode.length===1&&gI(n))for(let r=0;r<n.producerNode.length;r++)Ic(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];wc(i),i.producerIndexOfThis[r]=e}}function fo(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function wc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function pI(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function gI(n){return n.producerNode!==void 0}function mI(n){let e=Object.create(FS);e.computation=n;let t=()=>{if(lI(e),Th(e),e.value===vc)throw e.error;return e.value};return t[wn]=e,t}var Eh=Symbol("UNSET"),Dh=Symbol("COMPUTING"),vc=Symbol("ERRORED"),FS=oe(k({},po),{value:Eh,dirty:!0,error:null,equal:cI,producerMustRecompute(n){return n.value===Eh||n.value===Dh},producerRecomputeValue(n){if(n.value===Dh)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Dh;let t=_c(n),r;try{r=n.computation()}catch(i){r=vc,n.error=i}finally{bh(n,t)}if(e!==Eh&&e!==vc&&r!==vc&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function LS(){throw new Error}var yI=LS;function vI(){yI()}function _I(n){yI=n}var VS=null;function II(n){let e=Object.create(EI);e.value=n;let t=()=>(Th(e),e.value);return t[wn]=e,t}function Sh(n,e){hI()||vI(),n.equal(n.value,e)||(n.value=e,US(n))}function wI(n,e){hI()||vI(),Sh(n,e(n.value))}var EI=oe(k({},po),{equal:cI,value:void 0});function US(n){n.version++,OS(),dI(n),VS?.()}function Y(n){return typeof n=="function"}function Ii(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ec=Ii(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Tr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Se=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(s){e=s instanceof Ec?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{DI(s)}catch(o){e=e??[],o instanceof Ec?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ec(e)}}add(e){var t;if(e&&e!==this)if(this.closed)DI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Tr(t,e)}remove(e){let{_finalizers:t}=this;t&&Tr(t,e),e instanceof n&&e._removeParent(this)}};Se.EMPTY=(()=>{let n=new Se;return n.closed=!0,n})();var Rh=Se.EMPTY;function Dc(n){return n instanceof Se||n&&"closed"in n&&Y(n.remove)&&Y(n.add)&&Y(n.unsubscribe)}function DI(n){Y(n)?n():n.unsubscribe()}var jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wi={setTimeout(n,e,...t){let{delegate:r}=wi;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=wi;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Tc(n){wi.setTimeout(()=>{let{onUnhandledError:e}=jt;if(e)e(n);else throw n})}function go(){}var TI=Mh("C",void 0,void 0);function bI(n){return Mh("E",void 0,n)}function CI(n){return Mh("N",n,void 0)}function Mh(n,e,t){return{kind:n,value:e,error:t}}var br=null;function Ei(n){if(jt.useDeprecatedSynchronousErrorHandling){let e=!br;if(e&&(br={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=br;if(br=null,t)throw r}}else n()}function AI(n){jt.useDeprecatedSynchronousErrorHandling&&br&&(br.errorThrown=!0,br.error=n)}var Cr=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Dc(e)&&e.add(this)):this.destination=$S}static create(e,t,r){return new Di(e,t,r)}next(e){this.isStopped?xh(CI(e),this):this._next(e)}error(e){this.isStopped?xh(bI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xh(TI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jS=Function.prototype.bind;function Nh(n,e){return jS.call(n,e)}var Ph=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){bc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){bc(r)}else bc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){bc(t)}}},Di=class extends Cr{constructor(e,t,r){super();let i;if(Y(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&jt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Nh(e.next,s),error:e.error&&Nh(e.error,s),complete:e.complete&&Nh(e.complete,s)}):i=e}this.destination=new Ph(i)}};function bc(n){jt.useDeprecatedSynchronousErrorHandling?AI(n):Tc(n)}function BS(n){throw n}function xh(n,e){let{onStoppedNotification:t}=jt;t&&wi.setTimeout(()=>t(n,e))}var $S={closed:!0,next:go,error:BS,complete:go};var Ti=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pt(n){return n}function Cc(...n){return Oh(n)}function Oh(n){return n.length===0?pt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=zS(t)?t:new Di(t,r,i);return Ei(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=SI(r),new r((i,s)=>{let o=new Di({next:c=>{try{t(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ti](){return this}pipe(...t){return Oh(t)(this)}toPromise(t){return t=SI(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function SI(n){var e;return(e=n??jt.Promise)!==null&&e!==void 0?e:Promise}function HS(n){return n&&Y(n.next)&&Y(n.error)&&Y(n.complete)}function zS(n){return n&&n instanceof Cr||HS(n)&&Dc(n)}function kh(n){return Y(n?.lift)}function le(n){return e=>{if(kh(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(n,e,t,r,i){return new Fh(n,e,t,r,i)}var Fh=class extends Cr{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function bi(){return le((n,e)=>{let t=null;n._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ci=class extends ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,kh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let t=this.getSubject();e.add(this.source.subscribe(ae(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return bi()(this)}};var RI=Ii(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var He=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ac(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new RI}next(t){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Rh:(this.currentObservers=null,s.push(t),new Se(()=>{this.currentObservers=null,Tr(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new ie;return t.source=this,t}}return n.create=(e,t)=>new Ac(e,t),n})(),Ac=class extends He{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Rh}};var ze=class extends He{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Lh={now(){return(Lh.delegate||Date).now()},delegate:void 0};var Sc=class extends Se{constructor(e,t){super()}schedule(e,t=0){return this}};var mo={setInterval(n,e,...t){let{delegate:r}=mo;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=mo;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ai=class extends Sc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return mo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&mo.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Tr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Si=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Si.now=Lh.now;var Ri=class extends Si{constructor(e,t=Si.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Vh=new Ri(Ai);var Rc=class extends Ai{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Mc=class extends Ri{};var Uh=new Mc(Rc);var gt=new ie(n=>n.complete());function MI(n){return n&&Y(n.schedule)}function NI(n){return n[n.length-1]}function Nc(n){return Y(NI(n))?n.pop():void 0}function Gn(n){return MI(NI(n))?n.pop():void 0}function jh(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function PI(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function xI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ar(n){return this instanceof Ar?(this.v=n,this):new Ar(n)}function OI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(b){return Promise.resolve(b).then(v,p)}}function c(v,b){r[v]&&(i[v]=function(M){return new Promise(function(R,F){s.push([v,M,R,F])>1||u(v,M)})},b&&(i[v]=b(i[v])))}function u(v,b){try{l(r[v](b))}catch(M){m(s[0][3],M)}}function l(v){v.value instanceof Ar?Promise.resolve(v.value.v).then(h,p):m(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,b){v(b),s.shift(),s.length&&u(s[0][0],s[0][1])}}function kI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof xI=="function"?xI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(c,u){o=n[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var xc=n=>n&&typeof n.length=="number"&&typeof n!="function";function Pc(n){return Y(n?.then)}function Oc(n){return Y(n[Ti])}function kc(n){return Symbol.asyncIterator&&Y(n?.[Symbol.asyncIterator])}function Fc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function qS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Lc=qS();function Vc(n){return Y(n?.[Lc])}function Uc(n){return OI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ar(t.read());if(i)return yield Ar(void 0);yield yield Ar(r)}}finally{t.releaseLock()}})}function jc(n){return Y(n?.getReader)}function Oe(n){if(n instanceof ie)return n;if(n!=null){if(Oc(n))return GS(n);if(xc(n))return WS(n);if(Pc(n))return KS(n);if(kc(n))return FI(n);if(Vc(n))return QS(n);if(jc(n))return YS(n)}throw Fc(n)}function GS(n){return new ie(e=>{let t=n[Ti]();if(Y(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function WS(n){return new ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function KS(n){return new ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Tc)})}function QS(n){return new ie(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function FI(n){return new ie(e=>{JS(n,e).catch(t=>e.error(t))})}function YS(n){return FI(Uc(n))}function JS(n,e){var t,r,i,s;return PI(this,void 0,void 0,function*(){try{for(t=kI(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function at(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Wn(n,e=0){return le((t,r)=>{t.subscribe(ae(r,i=>at(r,n,()=>r.next(i),e),()=>at(r,n,()=>r.complete(),e),i=>at(r,n,()=>r.error(i),e)))})}function Kn(n,e=0){return le((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function LI(n,e){return Oe(n).pipe(Kn(e),Wn(e))}function VI(n,e){return Oe(n).pipe(Kn(e),Wn(e))}function UI(n,e){return new ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function jI(n,e){return new ie(t=>{let r;return at(t,e,()=>{r=n[Lc](),at(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Bc(n,e){if(!n)throw new Error("Iterable cannot be null");return new ie(t=>{at(t,e,()=>{let r=n[Symbol.asyncIterator]();at(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function BI(n,e){return Bc(Uc(n),e)}function $I(n,e){if(n!=null){if(Oc(n))return LI(n,e);if(xc(n))return UI(n,e);if(Pc(n))return VI(n,e);if(kc(n))return Bc(n,e);if(Vc(n))return jI(n,e);if(jc(n))return BI(n,e)}throw Fc(n)}function Ce(n,e){return e?$I(n,e):Oe(n)}function W(...n){let e=Gn(n);return Ce(n,e)}function Mi(n,e){let t=Y(n)?n:()=>n,r=i=>i.error(t());return new ie(e?i=>e.schedule(r,0,i):r)}function Bh(n){return!!n&&(n instanceof ie||Y(n.lift)&&Y(n.subscribe))}var En=Ii(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(n,e){return le((t,r)=>{let i=0;t.subscribe(ae(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:ZS}=Array;function XS(n,e){return ZS(e)?n(...e):n(e)}function $c(n){return ee(e=>XS(n,e))}var{isArray:eR}=Array,{getPrototypeOf:tR,prototype:nR,keys:rR}=Object;function Hc(n){if(n.length===1){let e=n[0];if(eR(e))return{args:e,keys:null};if(iR(e)){let t=rR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function iR(n){return n&&typeof n=="object"&&tR(n)===nR}function zc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function qc(...n){let e=Gn(n),t=Nc(n),{args:r,keys:i}=Hc(n);if(r.length===0)return Ce([],e);let s=new ie(sR(r,e,i?o=>zc(i,o):pt));return t?s.pipe($c(t)):s}function sR(n,e,t=pt){return r=>{HI(e,()=>{let{length:i}=n,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)HI(e,()=>{let l=Ce(n[u],e),h=!1;l.subscribe(ae(r,p=>{s[u]=p,h||(h=!0,c--),c||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function HI(n,e,t){n?at(t,n,e):e()}function zI(n,e,t,r,i,s,o,c){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=M=>l<r?b(M):u.push(M),b=M=>{s&&e.next(M),l++;let R=!1;Oe(t(M,h++)).subscribe(ae(e,F=>{i?.(F),s?v(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();o?at(e,o,()=>b(F)):b(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(ae(e,v,()=>{p=!0,m()})),()=>{c?.()}}function Ve(n,e,t=1/0){return Y(e)?Ve((r,i)=>ee((s,o)=>e(r,s,i,o))(Oe(n(r,i))),t):(typeof e=="number"&&(t=e),le((r,i)=>zI(r,i,n,t)))}function $h(n=1/0){return Ve(pt,n)}function qI(){return $h(1)}function Ni(...n){return qI()(Ce(n,Gn(n)))}function Gc(n){return new ie(e=>{Oe(n()).subscribe(e)})}function Hh(...n){let e=Nc(n),{args:t,keys:r}=Hc(n),i=new ie(s=>{let{length:o}=t;if(!o){s.complete();return}let c=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Oe(t[h]).subscribe(ae(s,m=>{p||(p=!0,l--),c[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?zc(r,c):c),s.complete())}))}});return e?i.pipe($c(e)):i}function mt(n,e){return le((t,r)=>{let i=0;t.subscribe(ae(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Qn(n){return le((e,t)=>{let r=null,i=!1,s;r=e.subscribe(ae(t,void 0,void 0,o=>{s=Oe(n(o,Qn(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function GI(n,e,t,r,i){return(s,o)=>{let c=t,u=e,l=0;s.subscribe(ae(o,h=>{let p=l++;u=c?n(u,h,p):(c=!0,h),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Sr(n,e){return Y(e)?Ve(n,e,1):Ve(n,1)}function Yn(n){return le((e,t)=>{let r=!1;e.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Dn(n){return n<=0?()=>gt:le((e,t)=>{let r=0;e.subscribe(ae(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function zh(n){return ee(()=>n)}function Wc(n=oR){return le((e,t)=>{let r=!1;e.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function oR(){return new En}function xi(n){return le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Bt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?mt((i,s)=>n(i,s,r)):pt,Dn(1),t?Yn(e):Wc(()=>new En))}function Pi(n){return n<=0?()=>gt:le((e,t)=>{let r=[];e.subscribe(ae(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function qh(n,e){let t=arguments.length>=2;return r=>r.pipe(n?mt((i,s)=>n(i,s,r)):pt,Pi(1),t?Yn(e):Wc(()=>new En))}function Kc(n,e){return le(GI(n,e,arguments.length>=2,!0))}function Qc(...n){let e=Gn(n);return le((t,r)=>{(e?Ni(n,t,e):Ni(n,t)).subscribe(r)})}function St(n,e){return le((t,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();t.subscribe(ae(r,u=>{i?.unsubscribe();let l=0,h=s++;Oe(n(u,h)).subscribe(i=ae(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Gh(n){return le((e,t)=>{Oe(n).subscribe(ae(t,()=>t.complete(),go)),!t.closed&&e.subscribe(t)})}function xe(n,e,t){let r=Y(n)||e||t?{next:n,error:e,complete:t}:n;return r?le((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(ae(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):pt}var aR="https://g.co/ng/security#xss",V=class extends Error{constructor(e,t){super(ku(e,t)),this.code=e}};function ku(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function So(n){return{toString:n}.toString()}var Yc="__parameters__";function cR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function xw(n,e,t){return So(()=>{let r=cR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,h){let p=u.hasOwnProperty(Yc)?u[Yc]:Object.defineProperty(u,Yc,{value:[]})[Yc];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ie(n){for(let e in n)if(n[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function uR(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ut(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(ut).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function WI(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var lR=Ie({__forward_ref__:Ie});function Ki(n){return n.__forward_ref__=Ki,n.toString=function(){return ut(this())},n}function it(n){return Pw(n)?n():n}function Pw(n){return typeof n=="function"&&n.hasOwnProperty(lR)&&n.__forward_ref__===Ki}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Br(n){return{providers:n.providers||[],imports:n.imports||[]}}function Fu(n){return KI(n,kw)||KI(n,Fw)}function Ow(n){return Fu(n)!==null}function KI(n,e){return n.hasOwnProperty(e)?n[e]:null}function dR(n){let e=n&&(n[kw]||n[Fw]);return e||null}function QI(n){return n&&(n.hasOwnProperty(YI)||n.hasOwnProperty(hR))?n[YI]:null}var kw=Ie({\u0275prov:Ie}),YI=Ie({\u0275inj:Ie}),Fw=Ie({ngInjectableDef:Ie}),hR=Ie({ngInjectorDef:Ie}),j=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Lw(n){return n&&!!n.\u0275providers}var fR=Ie({\u0275cmp:Ie}),pR=Ie({\u0275dir:Ie}),gR=Ie({\u0275pipe:Ie}),mR=Ie({\u0275mod:Ie}),uu=Ie({\u0275fac:Ie}),_o=Ie({__NG_ELEMENT_ID__:Ie}),JI=Ie({__NG_ENV_ID__:Ie});function yR(n){return typeof n=="string"?n:n==null?"":String(n)}function vR(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():yR(n)}function _R(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new V(-200,n)}function op(n,e){throw new V(-201,!1)}var ne=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ne||{}),uf;function Vw(){return uf}function ct(n){let e=uf;return uf=n,e}function Uw(n,e,t){let r=Fu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ne.Optional)return null;if(e!==void 0)return e;op(n,"Injector")}var IR={},Io=IR,lf="__NG_DI_FLAG__",lu="ngTempTokenPath",wR="ngTokenPath",ER=/\n/gm,DR="\u0275",ZI="__source",Li;function TR(){return Li}function Jn(n){let e=Li;return Li=n,e}function bR(n,e=ne.Default){if(Li===void 0)throw new V(-203,!1);return Li===null?Uw(n,void 0,e):Li.get(n,e&ne.Optional?null:void 0,e)}function se(n,e=ne.Default){return(Vw()||bR)(it(n),e)}function x(n,e=ne.Default){return se(n,Lu(e))}function Lu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function df(n){let e=[];for(let t=0;t<n.length;t++){let r=it(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,s=ne.Default;for(let o=0;o<r.length;o++){let c=r[o],u=CR(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(se(i,s))}else e.push(se(r))}return e}function jw(n,e){return n[lf]=e,n.prototype[lf]=e,n}function CR(n){return n[lf]}function AR(n,e,t,r){let i=n[lu];throw e[ZI]&&i.unshift(e[ZI]),n.message=SR(`
`+n.message,i,t,r),n[wR]=i,n[lu]=null,n}function SR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==DR?n.slice(2):n;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):ut(c)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(ER,`
  `)}`}var Wt=jw(xw("Optional"),8);var Bw=jw(xw("SkipSelf"),4);function Mr(n,e){let t=n.hasOwnProperty(uu);return t?n[uu]:null}function RR(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function MR(n){return n.flat(Number.POSITIVE_INFINITY)}function ap(n,e){n.forEach(t=>Array.isArray(t)?ap(t,e):e(t))}function $w(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function du(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function NR(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function xR(n,e,t){let r=Ro(n,e);return r>=0?n[r|1]=t:(r=~r,NR(n,r,e,t)),r}function Wh(n,e){let t=Ro(n,e);if(t>=0)return n[t|1]}function Ro(n,e){return PR(n,e,1)}function PR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var Ui={},yt=[],Nr=new j(""),Hw=new j("",-1),zw=new j(""),hu=class{get(e,t=Io){if(t===Io){let r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return t}},qw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(qw||{}),nn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(nn||{}),Xn=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Xn||{});function OR(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function hf(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],c=t[r++];n.setAttribute(e,o,c,s)}else{let s=i,o=t[++r];FR(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function kR(n){return n===3||n===4||n===6}function FR(n){return n.charCodeAt(0)===64}function wo(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?XI(n,t,i,null,e[++r]):XI(n,t,i,null,null))}}return n}function XI(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let c=n[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<n.length;){let c=n[s];if(typeof c=="number")break;if(c===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var Gw="ng-template";function LR(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&OR(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(cp(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function cp(n){return n.type===4&&n.value!==Gw}function VR(n,e,t){let r=n.type===4&&!t?Gw:n.value;return e===r}function UR(n,e,t){let r=4,i=n.attrs,s=i!==null?$R(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!$t(r)&&!$t(u))return!1;if(o&&$t(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!VR(n,u,t)||u===""&&e.length===1){if($t(r))return!1;o=!0}}else if(r&8){if(i===null||!LR(n,i,u,t)){if($t(r))return!1;o=!0}}else{let l=e[++c],h=jR(u,i,cp(n),t);if(h===-1){if($t(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if($t(r))return!1;o=!0}}}}return $t(r)||o}function $t(n){return(n&1)===0}function jR(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return HR(e,n)}function BR(n,e,t=!1){for(let r=0;r<e.length;r++)if(UR(n,e[r],t))return!0;return!1}function $R(n){for(let e=0;e<n.length;e++){let t=n[e];if(kR(t))return e}return n.length}function HR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function ew(n,e){return n?":not("+e.trim()+")":e}function zR(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let c=n[++t];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!$t(o)&&(e+=ew(s,i),i=""),r=o,s=s||!$t(r);t++}return i!==""&&(e+=ew(s,i)),e}function qR(n){return n.map(zR).join(",")}function GR(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!$t(i))break;i=s}r++}return{attrs:e,classes:t}}function Qi(n){return So(()=>{let e=Zw(n),t=oe(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===qw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||nn.Emulated,styles:n.styles||yt,_:null,schemas:n.schemas||null,tView:null,id:""});Xw(t);let r=n.dependencies;return t.directiveDefs=nw(r,!1),t.pipeDefs=nw(r,!0),t.id=QR(t),t})}function WR(n){return xr(n)||Kw(n)}function KR(n){return n!==null}function $r(n){return So(()=>({type:n.type,bootstrap:n.bootstrap||yt,declarations:n.declarations||yt,imports:n.imports||yt,exports:n.exports||yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function tw(n,e){if(n==null)return Ui;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,c=Xn.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=c!==Xn.None?[r,c]:r,e[s]=o):t[s]=r}return t}function _t(n){return So(()=>{let e=Zw(n);return Xw(e),e})}function Ww(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function xr(n){return n[fR]||null}function Kw(n){return n[pR]||null}function Qw(n){return n[gR]||null}function Yw(n){let e=xr(n)||Kw(n)||Qw(n);return e!==null?e.standalone:!1}function Jw(n,e){let t=n[mR]||null;if(!t&&e===!0)throw new Error(`Type ${ut(n)} does not have '\u0275mod' property.`);return t}function Zw(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ui,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||yt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tw(n.inputs,e),outputs:tw(n.outputs),debugInfo:null}}function Xw(n){n.features?.forEach(e=>e(n))}function nw(n,e){if(!n)return null;let t=e?Qw:WR;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(KR)}function QR(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Kt(n){return{\u0275providers:n}}function YR(...n){return{\u0275providers:eE(!0,n),\u0275fromNgModule:!0}}function eE(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return ap(e,o=>{let c=o;ff(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&tE(i,s),t}function tE(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];up(i,s=>{e(s,r)})}}function ff(n,e,t,r){if(n=it(n),!n)return!1;let i=null,s=QI(n),o=!s&&xr(n);if(!s&&!o){let u=n.ngModule;if(s=QI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=n}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)ff(l,e,t,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{ap(s.imports,h=>{ff(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&tE(l,e)}if(!c){let l=Mr(i)||(()=>new i);e({provide:i,useFactory:l,deps:yt},i),e({provide:zw,useValue:i,multi:!0},i),e({provide:Nr,useValue:()=>se(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=n;up(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function up(n,e){for(let t of n)Lw(t)&&(t=t.\u0275providers),Array.isArray(t)?up(t,e):e(t)}var JR=Ie({provide:String,useValue:Ie});function nE(n){return n!==null&&typeof n=="object"&&JR in n}function ZR(n){return!!(n&&n.useExisting)}function XR(n){return!!(n&&n.useFactory)}function ji(n){return typeof n=="function"}function eM(n){return!!n.useClass}var Vu=new j(""),ru={},tM={},Kh;function lp(){return Kh===void 0&&(Kh=new hu),Kh}var Mt=class{},Eo=class extends Mt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gf(e,o=>this.processProvider(o)),this.records.set(Hw,Oi(void 0,this)),i.has("environment")&&this.records.set(Mt,Oi(void 0,this));let s=this.records.get(Vu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(zw,yt,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=he(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Jn(this),r=ct(void 0),i;try{return e()}finally{Jn(t),ct(r)}}get(e,t=Io,r=ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(JI))return e[JI](this);r=Lu(r);let i,s=Jn(this),o=ct(void 0);try{if(!(r&ne.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=oM(e)&&Fu(e);l&&this.injectableDefInScope(l)?u=Oi(pf(e),ru):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&ne.Self?lp():this.parent;return t=r&ne.Optional&&t===Io?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[lu]=c[lu]||[]).unshift(ut(e)),s)throw c;return AR(c,e,"R3InjectorError",this.source)}else throw c}finally{ct(o),Jn(s)}}resolveInjectorInitializers(){let e=he(null),t=Jn(this),r=ct(void 0),i;try{let s=this.get(Nr,yt,ne.Self);for(let o of s)o()}finally{Jn(t),ct(r),he(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(e){e=it(e);let t=ji(e)?e:it(e&&e.provide),r=rM(e);if(!ji(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Oi(void 0,ru,!0),i.factory=()=>df(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=he(null);try{return t.value===ru&&(t.value=tM,t.value=t.factory()),typeof t.value=="object"&&t.value&&sM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{he(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=it(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function pf(n){let e=Fu(n),t=e!==null?e.factory:Mr(n);if(t!==null)return t;if(n instanceof j)throw new V(204,!1);if(n instanceof Function)return nM(n);throw new V(204,!1)}function nM(n){if(n.length>0)throw new V(204,!1);let t=dR(n);return t!==null?()=>t.factory(n):()=>new n}function rM(n){if(nE(n))return Oi(void 0,n.useValue);{let e=rE(n);return Oi(e,ru)}}function rE(n,e,t){let r;if(ji(n)){let i=it(n);return Mr(i)||pf(i)}else if(nE(n))r=()=>it(n.useValue);else if(XR(n))r=()=>n.useFactory(...df(n.deps||[]));else if(ZR(n))r=()=>se(it(n.useExisting));else{let i=it(n&&(n.useClass||n.provide));if(iM(n))r=()=>new i(...df(n.deps));else return Mr(i)||pf(i)}return r}function Oi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function iM(n){return!!n.deps}function sM(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function oM(n){return typeof n=="function"||typeof n=="object"&&n instanceof j}function gf(n,e){for(let t of n)Array.isArray(t)?gf(t,e):t&&Lw(t)?gf(t.\u0275providers,e):e(t)}function sn(n,e){n instanceof Eo&&n.assertNotDestroyed();let t,r=Jn(n),i=ct(void 0);try{return e()}finally{Jn(r),ct(i)}}function aM(){return Vw()!==void 0||TR()!=null}function cM(n){return typeof n=="function"}var vt=0,J=1,G=2,qe=3,Ht=4,Qt=5,rn=6,fu=7,qt=8,Bi=9,Tn=10,Re=11,Do=12,rw=13,Yi=14,Nt=15,Pr=16,ki=17,bn=18,Uu=19,iE=20,Zn=21,Qh=22,Rt=23,Ze=25,sE=1,To=6,Cn=7,pu=8,$i=9,lt=10,gu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(gu||{});function zt(n){return Array.isArray(n)&&typeof n[sE]=="object"}function on(n){return Array.isArray(n)&&n[sE]===!0}function oE(n){return(n.flags&4)!==0}function Mo(n){return n.componentOffset>-1}function dp(n){return(n.flags&1)===1}function er(n){return!!n.template}function mu(n){return(n[G]&512)!==0}var mf=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function aE(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Ji(){return cE}function cE(n){return n.type.prototype.ngOnChanges&&(n.setInput=lM),uM}Ji.ngInherit=!0;function uM(){let n=lE(this),e=n?.current;if(e){let t=n.previous;if(t===Ui)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function lM(n,e,t,r,i){let s=this.declaredInputs[r],o=lE(n)||dM(n,{previous:Ui,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new mf(l&&l.currentValue,t,u===Ui),aE(n,e,i,t)}var uE="__ngSimpleChanges__";function lE(n){return n[uE]||null}function dM(n,e){return n[uE]=e}var iw=null;var en=function(n,e,t){iw?.(n,e,t)},hM="svg",fM="math";function Gt(n){for(;Array.isArray(n);)n=n[vt];return n}function pM(n,e){return Gt(e[n])}function xt(n,e){return Gt(e[n.index])}function dE(n,e){return n.data[e]}function gM(n,e){return n[e]}function nr(n,e){let t=e[n];return zt(t)?t:t[vt]}function mM(n){return(n[G]&4)===4}function hp(n){return(n[G]&128)===128}function yM(n){return on(n[qe])}function yu(n,e){return e==null?null:n[e]}function hE(n){n[ki]=0}function fE(n){n[G]&1024||(n[G]|=1024,hp(n)&&Bu(n))}function vM(n,e){for(;n>0;)e=e[Yi],n--;return e}function ju(n){return!!(n[G]&9216||n[Rt]?.dirty)}function yf(n){n[Tn].changeDetectionScheduler?.notify(8),n[G]&64&&(n[G]|=1024),ju(n)&&Bu(n)}function Bu(n){n[Tn].changeDetectionScheduler?.notify(0);let e=Or(n);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!hp(e)));)e=Or(e)}function pE(n,e){if((n[G]&256)===256)throw new V(911,!1);n[Zn]===null&&(n[Zn]=[]),n[Zn].push(e)}function _M(n,e){if(n[Zn]===null)return;let t=n[Zn].indexOf(e);t!==-1&&n[Zn].splice(t,1)}function Or(n){let e=n[qe];return on(e)?e[qe]:e}var re={lFrame:TE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var gE=!1;function IM(){return re.lFrame.elementDepthCount}function wM(){re.lFrame.elementDepthCount++}function EM(){re.lFrame.elementDepthCount--}function mE(){return re.bindingsEnabled}function No(){return re.skipHydrationRootTNode!==null}function DM(n){return re.skipHydrationRootTNode===n}function TM(n){re.skipHydrationRootTNode=n}function bM(){re.skipHydrationRootTNode=null}function we(){return re.lFrame.lView}function st(){return re.lFrame.tView}function Zi(n){return re.lFrame.contextLView=n,n[qt]}function Xi(n){return re.lFrame.contextLView=null,n}function ht(){let n=yE();for(;n!==null&&n.type===64;)n=n.parent;return n}function yE(){return re.lFrame.currentTNode}function CM(){let n=re.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function xo(n,e){let t=re.lFrame;t.currentTNode=n,t.isParent=e}function vE(){return re.lFrame.isParent}function AM(){re.lFrame.isParent=!1}function _E(){return gE}function sw(n){gE=n}function SM(){let n=re.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function RM(n){return re.lFrame.bindingIndex=n}function IE(){return re.lFrame.bindingIndex++}function MM(n){let e=re.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function NM(){return re.lFrame.inI18n}function xM(n,e){let t=re.lFrame;t.bindingIndex=t.bindingRootIndex=n,vf(e)}function PM(){return re.lFrame.currentDirectiveIndex}function vf(n){re.lFrame.currentDirectiveIndex=n}function OM(n){let e=re.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function wE(){return re.lFrame.currentQueryIndex}function fp(n){re.lFrame.currentQueryIndex=n}function kM(n){let e=n[J];return e.type===2?e.declTNode:e.type===1?n[Qt]:null}function EE(n,e,t){if(t&ne.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&ne.Host);)if(i=kM(s),i===null||(s=s[Yi],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=re.lFrame=DE();return r.currentTNode=e,r.lView=n,!0}function pp(n){let e=DE(),t=n[J];re.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function DE(){let n=re.lFrame,e=n===null?null:n.child;return e===null?TE(n):e}function TE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function bE(){let n=re.lFrame;return re.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var CE=bE;function gp(){let n=bE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function FM(n){return(re.lFrame.contextLView=vM(n,re.lFrame.contextLView))[qt]}function Po(){return re.lFrame.selectedIndex}function kr(n){re.lFrame.selectedIndex=n}function AE(){let n=re.lFrame;return dE(n.tView,n.selectedIndex)}function SE(){return re.lFrame.currentNamespace}var RE=!0;function mp(){return RE}function rr(n){RE=n}function LM(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=cE(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function yp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(n.contentHooks??=[]).push(-t,o),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function iu(n,e,t){ME(n,e,3,t)}function su(n,e,t,r){(n[G]&3)===t&&ME(n,e,t,r)}function Yh(n,e){let t=n[G];(t&3)===e&&(t&=16383,t+=1,n[G]=t)}function ME(n,e,t,r){let i=r!==void 0?n[ki]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[ki]+=65536),(c<s||s==-1)&&(VM(n,t,e,u),n[ki]=(n[ki]&4294901760)+u+2),u++}function ow(n,e){en(4,n,e);let t=he(null);try{e.call(n)}finally{he(t),en(5,n,e)}}function VM(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],c=n[o];i?n[G]>>14<n[ki]>>16&&(n[G]&3)===e&&(n[G]+=16384,ow(c,s)):ow(c,s)}var Vi=-1,Fr=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function UM(n){return n instanceof Fr}function jM(n){return(n.flags&8)!==0}function BM(n){return(n.flags&16)!==0}var Jh={},_f=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Lu(r);let i=this.injector.get(e,Jh,r);return i!==Jh||t===Jh?i:this.parentInjector.get(e,t,r)}};function NE(n){return n!==Vi}function vu(n){return n&32767}function $M(n){return n>>16}function _u(n,e){let t=$M(n),r=e;for(;t>0;)r=r[Yi],t--;return r}var If=!0;function Iu(n){let e=If;return If=n,e}var HM=256,xE=HM-1,PE=5,zM=0,tn={};function qM(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(_o)&&(r=t[_o]),r==null&&(r=t[_o]=zM++);let i=r&xE,s=1<<i;e.data[n+(i>>PE)]|=s}function wu(n,e){let t=OE(n,e);if(t!==-1)return t;let r=e[J];r.firstCreatePass&&(n.injectorIndex=e.length,Zh(r.data,n),Zh(e,null),Zh(r.blueprint,null));let i=vp(n,e),s=n.injectorIndex;if(NE(i)){let o=vu(i),c=_u(i,e),u=c[J].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function Zh(n,e){n.push(0,0,0,0,0,0,0,0,e)}function OE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function vp(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=UE(i),r===null)return Vi;if(t++,i=i[Yi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Vi}function wf(n,e,t){qM(n,e,t)}function kE(n,e,t){if(t&ne.Optional||n!==void 0)return n;op(e,"NodeInjector")}function FE(n,e,t,r){if(t&ne.Optional&&r===void 0&&(r=null),!(t&(ne.Self|ne.Host))){let i=n[Bi],s=ct(void 0);try{return i?i.get(e,r,t&ne.Optional):Uw(e,r,t&ne.Optional)}finally{ct(s)}}return kE(r,e,t)}function LE(n,e,t,r=ne.Default,i){if(n!==null){if(e[G]&2048&&!(r&ne.Self)){let o=QM(n,e,t,r,tn);if(o!==tn)return o}let s=VE(n,e,t,r,tn);if(s!==tn)return s}return FE(e,t,r,i)}function VE(n,e,t,r,i){let s=WM(t);if(typeof s=="function"){if(!EE(e,n,r))return r&ne.Host?kE(i,t,r):FE(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&ne.Optional))op(t);else return o}finally{CE()}}else if(typeof s=="number"){let o=null,c=OE(n,e),u=Vi,l=r&ne.Host?e[Nt][Qt]:null;for((c===-1||r&ne.SkipSelf)&&(u=c===-1?vp(n,e):e[c+8],u===Vi||!cw(r,!1)?c=-1:(o=e[J],c=vu(u),e=_u(u,e)));c!==-1;){let h=e[J];if(aw(s,c,h.data)){let p=GM(c,e,t,o,r,l);if(p!==tn)return p}u=e[c+8],u!==Vi&&cw(r,e[J].data[c+8]===l)&&aw(s,c,e)?(o=h,c=vu(u),e=_u(u,e)):c=-1}}return i}function GM(n,e,t,r,i,s){let o=e[J],c=o.data[n+8],u=r==null?Mo(c)&&If:r!=o&&(c.type&3)!==0,l=i&ne.Host&&s===c,h=ou(c,o,t,u,l);return h!==null?Lr(e,o,h,c):tn}function ou(n,e,t,r,i){let s=n.providerIndexes,o=e.data,c=s&1048575,u=n.directiveStart,l=n.directiveEnd,h=s>>20,p=r?c:c+h,m=i?c+h:l;for(let v=p;v<m;v++){let b=o[v];if(v<u&&t===b||v>=u&&b.type===t)return v}if(i){let v=o[u];if(v&&er(v)&&v.type===t)return u}return null}function Lr(n,e,t,r){let i=n[t],s=e.data;if(UM(i)){let o=i;o.resolving&&_R(vR(s[t]));let c=Iu(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?ct(o.injectImpl):null,h=EE(n,r,ne.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&LM(t,s[t],e)}finally{l!==null&&ct(l),Iu(c),o.resolving=!1,CE()}}return i}function WM(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(_o)?n[_o]:void 0;return typeof e=="number"?e>=0?e&xE:KM:e}function aw(n,e,t){let r=1<<n;return!!(t[e+(n>>PE)]&r)}function cw(n,e){return!(n&ne.Self)&&!(n&ne.Host&&e)}var Rr=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return LE(this._tNode,this._lView,e,Lu(r),t)}};function KM(){return new Rr(ht(),we())}function Oo(n){return So(()=>{let e=n.prototype.constructor,t=e[uu]||Ef(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[uu]||Ef(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ef(n){return Pw(n)?()=>{let e=Ef(it(n));return e&&e()}:Mr(n)}function QM(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[G]&2048&&!(o[G]&512);){let c=VE(s,o,t,r|ne.Self,tn);if(c!==tn)return c;let u=s.parent;if(!u){let l=o[iE];if(l){let h=l.get(t,tn,r);if(h!==tn)return h}u=UE(o),o=o[Yi]}s=u}return i}function UE(n){let e=n[J],t=e.type;return t===2?e.declTNode:t===1?n[Qt]:null}function uw(n,e=null,t=null,r){let i=jE(n,e,t,r);return i.resolveInjectorInitializers(),i}function jE(n,e=null,t=null,r,i=new Set){let s=[t||yt,YR(n)];return r=r||(typeof n=="object"?void 0:ut(n)),new Eo(s,e||lp(),r||null,i)}var dt=class n{static{this.THROW_IF_NOT_FOUND=Io}static{this.NULL=new hu}static create(e,t){if(Array.isArray(e))return uw({name:""},t,e,"");{let r=e.name??"";return uw({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=z({token:n,providedIn:"any",factory:()=>se(Hw)})}static{this.__NG_ELEMENT_ID__=-1}};var YM=new j("");YM.__NG_ELEMENT_ID__=n=>{let e=ht();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&ne.Optional)return null;throw new V(204,!1)};var JM="ngOriginalError";function Xh(n){return n[JM]}var BE=!0,$E=(()=>{class n{static{this.__NG_ELEMENT_ID__=ZM}static{this.__NG_ENV_ID__=t=>t}}return n})(),Df=class extends $E{constructor(e){super(),this._lView=e}onDestroy(e){return pE(this._lView,e),()=>_M(this._lView,e)}};function ZM(){return new Df(we())}var Hr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ze(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Tf=class extends He{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,aM()&&(this.destroyRef=x($E,{optional:!0})??void 0,this.pendingTasks=x(Hr,{optional:!0})??void 0)}emit(e){let t=he(null);try{super.next(e)}finally{he(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Se&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Pe=Tf;function Eu(...n){}function HE(n){let e,t;function r(){n=Eu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function lw(n){return queueMicrotask(()=>n()),()=>{n=Eu}}var _p="isAngularZone",Du=_p+"_ID",XM=0,_e=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pe(!1),this.onMicrotaskEmpty=new Pe(!1),this.onStable=new Pe(!1),this.onError=new Pe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=BE}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,nN(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(_p)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,eN,Eu,Eu);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},eN={};function Ip(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function tN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){HE(()=>{n.callbackScheduled=!1,bf(n),n.isCheckStableRunning=!0,Ip(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),bf(n)}function nN(n){let e=()=>{tN(n)},t=XM++;n._inner=n._inner.fork({name:"angular",properties:{[_p]:!0,[Du]:t,[Du+t]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(rN(u))return r.invokeTask(s,o,c,u);try{return dw(n),r.invokeTask(s,o,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),hw(n)}},onInvoke:(r,i,s,o,c,u,l)=>{try{return dw(n),r.invoke(s,o,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!iN(u)&&e(),hw(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,bf(n),Ip(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function bf(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function dw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function hw(n){n._nesting--,Ip(n)}var Cf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pe,this.onMicrotaskEmpty=new Pe,this.onStable=new Pe,this.onError=new Pe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function rN(n){return zE(n,"__ignore_ng_zone__")}function iN(n){return zE(n,"__scheduler_tick__")}function zE(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var An=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Xh(e);for(;t&&Xh(t);)t=Xh(t);return t||null}},sN=new j("",{providedIn:"root",factory:()=>{let n=x(_e),e=x(An);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function oN(){return es(ht(),we())}function es(n,e){return new an(xt(n,e))}var an=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=oN}}return n})();function aN(n){return n instanceof an?n.nativeElement:n}function cN(){return this._results[Symbol.iterator]()}var Af=class n{get changes(){return this._changes??=new Pe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=cN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=MR(e);(this._changesDetected=!RR(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},uN="ngSkipHydration",lN="ngskiphydration";function qE(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===lN)return!0}return!1}function GE(n){return n.hasAttribute(uN)}function Tu(n){return(n.flags&128)===128}function dN(n){if(Tu(n))return!0;let e=n.parent;for(;e;){if(Tu(n)||qE(e))return!0;e=e.parent}return!1}var WE=new Map,hN=0;function fN(){return hN++}function pN(n){WE.set(n[Uu],n)}function Sf(n){WE.delete(n[Uu])}var fw="__ngContext__";function Vr(n,e){zt(e)?(n[fw]=e[Uu],pN(e)):n[fw]=e}function KE(n){return YE(n[Do])}function QE(n){return YE(n[Ht])}function YE(n){for(;n!==null&&!on(n);)n=n[Ht];return n}var Rf;function JE(n){Rf=n}function $u(){if(Rf!==void 0)return Rf;if(typeof document<"u")return document;throw new V(210,!1)}var Hu=new j("",{providedIn:"root",factory:()=>gN}),gN="ng",wp=new j(""),Pt=new j("",{providedIn:"platform",factory:()=>"unknown"});var Ep=new j("",{providedIn:"root",factory:()=>$u().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function mN(){let n=new ts;return x(Pt)==="browser"&&(n.store=yN($u(),x(Hu))),n}var ts=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=z({token:n,providedIn:"root",factory:mN})}get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function yN(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var ZE="h",XE="b",Mf=function(n){return n.FirstChild="f",n.NextSibling="n",n}(Mf||{}),vN="e",_N="t",Dp="c",eD="x",bu="r",IN="i",wN="n",tD="d";var EN="__nghData__",nD=EN,ef="ngh",DN="nghm",rD=()=>null;function TN(n,e,t=!1){let r=n.getAttribute(ef);if(r==null)return null;let[i,s]=r.split("|");if(r=t?s:i,!r)return null;let o=s?`|${s}`:"",c=t?i:o,u={};if(r!==""){let h=e.get(ts,null,{optional:!0});h!==null&&(u=h.get(nD,[])[Number(r)])}let l={data:u,firstChild:n.firstChild??null};return t&&(l.firstChild=n,zu(l,0,n.nextSibling)),c?n.setAttribute(ef,c):n.removeAttribute(ef),l}function bN(){rD=TN}function Tp(n,e,t=!1){return rD(n,e,t)}function CN(n){let e=n._lView;return e[J].type===2?null:(mu(e)&&(e=e[Ze]),e)}function AN(n){return n.textContent?.replace(/\s/gm,"")}function SN(n){let e=$u(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=AN(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function zu(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function Nf(n,e){return n.segmentHeads?.[e]??null}function RN(n,e){let t=n.data,r=t[vN]?.[e]??null;return r===null&&t[Dp]?.[e]&&(r=bp(n,e)),r}function iD(n,e){return n.data[Dp]?.[e]??null}function bp(n,e){let t=iD(n,e)??[],r=0;for(let i of t)r+=i[bu]*(i[eD]??1);return r}function MN(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[tD];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function ko(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[tD];n.disconnectedNodes=t?new Set(t):null}return!!MN(n)?.has(e)}var Jc=new j(""),sD=!1,oD=new j("",{providedIn:"root",factory:()=>sD});var xf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aR})`}};function Cp(n){return n instanceof xf?n.changingThisBreaksApplicationSecurity:n}var NN=/^>|^->|<!--|-->|--!>|<!-$/g,xN=/(<|>)/g,PN="\u200B$1\u200B";function ON(n){return n.replace(NN,e=>e.replace(xN,PN))}function kN(n){return n.ownerDocument.body}function aD(n){return n instanceof Function?n():n}function Zc(n){return(n??x(dt)).get(Pt)==="browser"}var Sn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Sn||{}),FN;function Ap(n,e){return FN(n,e)}function Fi(n,e,t,r,i){if(r!=null){let s,o=!1;on(r)?s=r:zt(r)&&(o=!0,r=r[vt]);let c=Gt(r);n===0&&t!==null?i==null?fD(e,t,c):Cu(e,t,c,i||null,!0):n===1&&t!==null?Cu(e,t,c,i||null,!0):n===2?Np(e,c,o):n===3&&e.destroyNode(c),s!=null&&YN(e,n,s,t,i)}}function cD(n,e){return n.createText(e)}function uD(n,e){return n.createComment(ON(e))}function Sp(n,e,t){return n.createElement(e,t)}function LN(n,e){lD(n,e),e[vt]=null,e[Qt]=null}function VN(n,e,t,r,i,s){r[vt]=i,r[Qt]=e,qu(n,r,t,1,i,s)}function lD(n,e){e[Tn].changeDetectionScheduler?.notify(9),qu(n,e,e[Re],2,null,null)}function UN(n){let e=n[Do];if(!e)return tf(n[J],n);for(;e;){let t=null;if(zt(e))t=e[Do];else{let r=e[lt];r&&(t=r)}if(!t){for(;e&&!e[Ht]&&e!==n;)zt(e)&&tf(e[J],e),e=e[qe];e===null&&(e=n),zt(e)&&tf(e[J],e),t=e&&e[Ht]}e=t}}function jN(n,e,t,r){let i=lt+r,s=t.length;r>0&&(t[i-1][Ht]=e),r<s-lt?(e[Ht]=t[i],$w(t,lt+r,e)):(t.push(e),e[Ht]=null),e[qe]=t;let o=e[Pr];o!==null&&t!==o&&dD(o,e);let c=e[bn];c!==null&&c.insertView(n),yf(e),e[G]|=128}function dD(n,e){let t=n[$i],r=e[qe];if(zt(r))n[G]|=gu.HasTransplantedViews;else{let i=r[qe][Nt];e[Nt]!==i&&(n[G]|=gu.HasTransplantedViews)}t===null?n[$i]=[e]:t.push(e)}function Rp(n,e){let t=n[$i],r=t.indexOf(e);t.splice(r,1)}function Pf(n,e){if(n.length<=lt)return;let t=lt+e,r=n[t];if(r){let i=r[Pr];i!==null&&i!==n&&Rp(i,r),e>0&&(n[t-1][Ht]=r[Ht]);let s=du(n,lt+e);LN(r[J],r);let o=s[bn];o!==null&&o.detachView(s[J]),r[qe]=null,r[Ht]=null,r[G]&=-129}return r}function hD(n,e){if(!(e[G]&256)){let t=e[Re];t.destroyNode&&qu(n,e,t,3,null,null),UN(e)}}function tf(n,e){if(e[G]&256)return;let t=he(null);try{e[G]&=-129,e[G]|=256,e[Rt]&&Ah(e[Rt]),$N(n,e),BN(n,e),e[J].type===1&&e[Re].destroy();let r=e[Pr];if(r!==null&&on(e[qe])){r!==e[qe]&&Rp(r,e);let i=e[bn];i!==null&&i.detachView(n)}Sf(e)}finally{he(t)}}function BN(n,e){let t=n.cleanup,r=e[fu];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[fu]=null);let i=e[Zn];if(i!==null){e[Zn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function $N(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Fr)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];en(4,c,u);try{u.call(c)}finally{en(5,c,u)}}else{en(4,i,s);try{s.call(i)}finally{en(5,i,s)}}}}}function HN(n,e,t){return zN(n,e.parent,t)}function zN(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[vt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===nn.None||s===nn.Emulated)return null}return xt(r,t)}}function Cu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function fD(n,e,t){n.appendChild(e,t)}function pw(n,e,t,r,i){r!==null?Cu(n,e,t,r,i):fD(n,e,t)}function pD(n,e){return n.parentNode(e)}function qN(n,e){return n.nextSibling(e)}function GN(n,e,t){return KN(n,e,t)}function WN(n,e,t){return n.type&40?xt(n,t):null}var KN=WN,gw;function Mp(n,e,t,r){let i=HN(n,r,e),s=e[Re],o=r.parent||e[Qt],c=GN(o,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)pw(s,i,t[u],c,!1);else pw(s,i,t,c,!1);gw!==void 0&&gw(s,r,e,t,i)}function yo(n,e){if(e!==null){let t=e.type;if(t&3)return xt(e,n);if(t&4)return Of(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return yo(n,r);{let i=n[e.index];return on(i)?Of(-1,i):Gt(i)}}else{if(t&128)return yo(n,e.next);if(t&32)return Ap(e,n)()||Gt(n[e.index]);{let r=gD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Or(n[Nt]);return yo(i,r)}else return yo(n,e.next)}}}return null}function gD(n,e){if(e!==null){let r=n[Nt][Qt],i=e.projection;return r.projection[i]}return null}function Of(n,e){let t=lt+n+1;if(t<e.length){let r=e[t],i=r[J].firstChild;if(i!==null)return yo(r,i)}return e[Cn]}function Np(n,e,t){n.removeChild(null,e,t)}function mD(n){n.textContent=""}function xp(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(o&&e===0&&(c&&Vr(Gt(c),r),t.flags|=2),(t.flags&32)!==32)if(u&8)xp(n,e,t.child,r,i,s,!1),Fi(e,n,i,c,s);else if(u&32){let l=Ap(t,r),h;for(;h=l();)Fi(e,n,i,h,s);Fi(e,n,i,c,s)}else u&16?QN(n,e,r,t,i,s):Fi(e,n,i,c,s);t=o?t.projectionNext:t.next}}function qu(n,e,t,r,i,s){xp(t,r,n.firstChild,e,i,s,!1)}function QN(n,e,t,r,i,s){let o=t[Nt],u=o[Qt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Fi(e,n,i,h,s)}else{let l=u,h=o[qe];Tu(r)&&(l.flags|=128),xp(n,e,l,h,i,s,!0)}}function YN(n,e,t,r,i){let s=t[Cn],o=Gt(t);s!==o&&Fi(e,n,r,s,i);for(let c=lt;c<t.length;c++){let u=t[c];qu(u[J],u,n,e,r,s)}}function JN(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:Sn.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Sn.Important),n.setStyle(t,r,i,s))}}function ZN(n,e,t){n.setAttribute(e,"style",t)}function yD(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function vD(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&hf(n,e,r),i!==null&&yD(n,e,i),s!==null&&ZN(n,e,s)}var Fo={};function Gu(n=1){_D(st(),we(),Po()+n,!1)}function _D(n,e,t,r){if(!r)if((e[G]&3)===3){let s=n.preOrderCheckHooks;s!==null&&iu(e,s,t)}else{let s=n.preOrderHooks;s!==null&&su(e,s,0,t)}kr(t)}function Ee(n,e=ne.Default){let t=we();if(t===null)return se(n,e);let r=ht();return LE(r,t,it(n),e)}function ID(n,e,t,r,i,s){let o=he(null);try{let c=null;i&Xn.SignalBased&&(c=e[r][wn]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&Xn.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,c,s,t,r):aE(e,c,r,s)}finally{he(o)}}function XN(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)kr(~i);else{let s=i,o=t[++r],c=t[++r];xM(o,s);let u=e[s];c(2,u)}}}finally{kr(-1)}}function Wu(n,e,t,r,i,s,o,c,u,l,h){let p=e.blueprint.slice();return p[vt]=i,p[G]=r|4|128|8|64,(l!==null||n&&n[G]&2048)&&(p[G]|=2048),hE(p),p[qe]=p[Yi]=n,p[qt]=t,p[Tn]=o||n&&n[Tn],p[Re]=c||n&&n[Re],p[Bi]=u||n&&n[Bi]||null,p[Qt]=s,p[Uu]=fN(),p[rn]=h,p[iE]=l,p[Nt]=e.type==2?n[Nt]:p,p}function Ku(n,e,t,r,i){let s=n.data[e];if(s===null)s=ex(n,e,t,r,i),NM()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=CM();s.injectorIndex=o===null?-1:o.injectorIndex}return xo(s,!0),s}function ex(n,e,t,r,i){let s=yE(),o=vE(),c=o?s:s&&s.parent,u=n.data[e]=ax(n,c,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function wD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ED(n,e,t,r,i){let s=Po(),o=r&2;try{kr(-1),o&&e.length>Ze&&_D(n,e,Ze,!1),en(o?2:0,i),t(r,i)}finally{kr(s),en(o?3:1,i)}}function DD(n,e,t){if(oE(e)){let r=he(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=n.data[o];if(c.contentQueries){let u=t[o];c.contentQueries(1,u,o)}}}finally{he(r)}}}function TD(n,e,t){mE()&&(fx(n,e,t,xt(t,e)),(t.flags&64)===64&&ND(n,e,t))}function bD(n,e,t=xt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?t(e,n):n[o];n[i++]=c}}}function CD(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Pp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Pp(n,e,t,r,i,s,o,c,u,l,h){let p=Ze+r,m=p+i,v=tx(p,m),b=typeof l=="function"?l():l;return v[J]={type:n,blueprint:v,template:t,queries:null,viewQuery:c,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:h}}function tx(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Fo);return t}function nx(n,e,t,r){let s=r.get(oD,sD)||t===nn.ShadowDom,o=n.selectRootElement(e,s);return rx(o),o}function rx(n){AD(n)}var AD=()=>null;function ix(n){GE(n)?mD(n):SN(n)}function sx(){AD=ix}function ox(n,e,t,r){let i=OD(e);i.push(t),n.firstCreatePass&&kD(n).push(r,i.length-1)}function ax(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,c=0;return No()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function mw(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=Xn.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}n===0?yw(r,t,l,c,u):yw(r,t,l,c)}return r}function yw(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function cx(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,c=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=t?t.get(p):null,v=m?m.inputs:null,b=m?m.outputs:null;u=mw(0,p.inputs,h,u,v),l=mw(1,p.outputs,h,l,b);let M=u!==null&&o!==null&&!cp(e)?Ex(u,h,o):null;c.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function ux(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function SD(n,e,t,r,i,s,o,c){let u=xt(e,t),l=e.inputs,h;!c&&l!=null&&(h=l[r])?(Op(n,t,h,r,i),Mo(e)&&lx(t,e.index)):e.type&3?(r=ux(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function lx(n,e){let t=nr(e,n);t[G]&16||(t[G]|=64)}function RD(n,e,t,r){if(mE()){let i=r===null?null:{"":-1},s=gx(n,t),o,c;s===null?o=c=null:[o,c]=s,o!==null&&MD(n,e,t,o,i,c),i&&mx(t,r,i)}t.mergedAttrs=wo(t.mergedAttrs,t.attrs)}function MD(n,e,t,r,i,s){for(let l=0;l<r.length;l++)wf(wu(t,e),n,r[l].type);vx(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,c=!1,u=wD(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=wo(t.mergedAttrs,h.hostAttrs),_x(n,t,e,u,h),yx(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),u++}cx(n,t,s)}function dx(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let c=~e.index;hx(o)!=c&&o.push(c),o.push(t,r,s)}}function hx(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function fx(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;Mo(t)&&Ix(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||wu(t,e),Vr(r,e);let o=t.initialInputs;for(let c=i;c<s;c++){let u=n.data[c],l=Lr(e,n,c,t);if(Vr(l,e),o!==null&&wx(e,c-i,l,u,t,o),er(u)){let h=nr(t.index,e);h[qt]=Lr(e,n,c,t)}}}function ND(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=PM();try{kr(s);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];vf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&px(u,l)}}finally{kr(-1),vf(o)}}function px(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function gx(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(BR(e,o.selectors,!1))if(r||(r=[]),er(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;kf(n,e,u)}else r.unshift(o),kf(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function kf(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function mx(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new V(-301,!1);r.push(e[i],s)}}}function yx(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;er(e)&&(t[""]=n)}}function vx(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function _x(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Mr(i.type,!0)),o=new Fr(s,er(i),Ee);n.blueprint[r]=o,t[r]=o,dx(n,e,r,wD(n,t,i.hostVars,Fo),i)}function Ix(n,e,t){let r=xt(e,n),i=CD(t),s=n[Tn].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let c=Qu(n,Wu(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=c}function wx(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],h=o[c++],p=o[c++];ID(r,t,u,l,h,p)}}function Ex(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],t[i+1]);break}}i+=2}return r}function xD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function PD(n,e){let t=n.contentQueries;if(t!==null){let r=he(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let c=n.data[o];fp(s),c.contentQueries(2,e[o],o)}}}finally{he(r)}}}function Qu(n,e){return n[Do]?n[rw][Ht]=e:n[Do]=e,n[rw]=e,e}function Ff(n,e,t){fp(0);let r=he(null);try{e(n,t)}finally{he(r)}}function OD(n){return n[fu]??=[]}function kD(n){return n.cleanup??=[]}function FD(n,e){let t=n[Bi],r=t?t.get(An,null):null;r&&r.handleError(e)}function Op(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],c=t[s++],u=t[s++],l=e[o],h=n.data[o];ID(h,l,r,c,u,i)}}function Dx(n,e){let t=nr(e,n),r=t[J];Tx(r,t);let i=t[vt];i!==null&&t[rn]===null&&(t[rn]=Tp(i,t[Bi])),kp(r,t,t[qt])}function Tx(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function kp(n,e,t){pp(e);try{let r=n.viewQuery;r!==null&&Ff(1,r,t);let i=n.template;i!==null&&ED(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[bn]?.finishViewCreation(n),n.staticContentQueries&&PD(n,e),n.staticViewQueries&&Ff(2,n.viewQuery,t);let s=n.components;s!==null&&bx(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[G]&=-5,gp()}}function bx(n,e){for(let t=0;t<e.length;t++)Dx(n,e[t])}function Cx(n,e,t,r){let i=he(null);try{let s=e.tView,c=n[G]&4096?4096:16,u=Wu(n,s,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Pr]=l;let h=n[bn];return h!==null&&(u[bn]=h.createEmbeddedView(s)),kp(s,u,t),u}finally{he(i)}}function vw(n,e){return!e||e.firstChild===null||Tu(n)}function Ax(n,e,t,r=!0){let i=e[J];if(jN(i,e,n,t),r){let o=Of(t,n),c=e[Re],u=pD(c,n[Cn]);u!==null&&VN(i,n[Qt],c,e,u,o)}let s=e[rn];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Au(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(Gt(s)),on(s)&&Sx(s,r);let o=t.type;if(o&8)Au(n,e,t.child,r);else if(o&32){let c=Ap(t,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=gD(e,t);if(Array.isArray(c))r.push(...c);else{let u=Or(e[Nt]);Au(u[J],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function Sx(n,e){for(let t=lt;t<n.length;t++){let r=n[t],i=r[J].firstChild;i!==null&&Au(r[J],r,i,e)}n[Cn]!==n[vt]&&e.push(n[Cn])}var LD=[];function Rx(n){return n[Rt]??Mx(n)}function Mx(n){let e=LD.pop()??Object.create(xx);return e.lView=n,e}function Nx(n){n.lView[Rt]!==n&&(n.lView=null,LD.push(n))}var xx=oe(k({},po),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Bu(n.lView)},consumerOnSignalRead(){this.lView[Rt]=this}});function Px(n){let e=n[Rt]??Object.create(Ox);return e.lView=n,e}var Ox=oe(k({},po),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Or(n.lView);for(;e&&!VD(e[J]);)e=Or(e);e&&fE(e)},consumerOnSignalRead(){this.lView[Rt]=this}});function VD(n){return n.type!==2}var kx=100;function UD(n,e=!0,t=0){let r=n[Tn],i=r.rendererFactory,s=!1;s||i.begin?.();try{Fx(n,t)}catch(o){throw e&&FD(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function Fx(n,e){let t=_E();try{sw(!0),Lf(n,e);let r=0;for(;ju(n);){if(r===kx)throw new V(103,!1);r++,Lf(n,1)}}finally{sw(t)}}function Lx(n,e,t,r){let i=e[G];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Tn].inlineEffectRunner?.flush(),pp(e);let c=!0,u=null,l=null;s||(VD(n)?(l=Rx(e),u=_c(l)):uI()===null?(c=!1,l=Px(e),u=_c(l)):e[Rt]&&(Ah(e[Rt]),e[Rt]=null));try{hE(e),RM(n.bindingStartIndex),t!==null&&ED(n,e,t,2,r);let h=(i&3)===3;if(!s)if(h){let v=n.preOrderCheckHooks;v!==null&&iu(e,v,null)}else{let v=n.preOrderHooks;v!==null&&su(e,v,0,null),Yh(e,0)}if(o||Vx(e),jD(e,0),n.contentQueries!==null&&PD(n,e),!s)if(h){let v=n.contentCheckHooks;v!==null&&iu(e,v)}else{let v=n.contentHooks;v!==null&&su(e,v,1),Yh(e,1)}XN(n,e);let p=n.components;p!==null&&$D(e,p,0);let m=n.viewQuery;if(m!==null&&Ff(2,m,r),!s)if(h){let v=n.viewCheckHooks;v!==null&&iu(e,v)}else{let v=n.viewHooks;v!==null&&su(e,v,2),Yh(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Qh]){for(let v of e[Qh])v();e[Qh]=null}s||(e[G]&=-73)}catch(h){throw s||Bu(e),h}finally{l!==null&&(bh(l,u),c&&Nx(l)),gp()}}function jD(n,e){for(let t=KE(n);t!==null;t=QE(t))for(let r=lt;r<t.length;r++){let i=t[r];BD(i,e)}}function Vx(n){for(let e=KE(n);e!==null;e=QE(e)){if(!(e[G]&gu.HasTransplantedViews))continue;let t=e[$i];for(let r=0;r<t.length;r++){let i=t[r];fE(i)}}}function Ux(n,e,t){let r=nr(e,n);BD(r,t)}function BD(n,e){hp(n)&&Lf(n,e)}function Lf(n,e){let r=n[J],i=n[G],s=n[Rt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Ch(s)),o||=!1,s&&(s.dirty=!1),n[G]&=-9217,o)Lx(r,n,r.template,n[qt]);else if(i&8192){jD(n,1);let c=r.components;c!==null&&$D(n,c,1)}}function $D(n,e,t){for(let r=0;r<e.length;r++)Ux(n,e[r],t)}function Fp(n,e){let t=_E()?64:1088;for(n[Tn].changeDetectionScheduler?.notify(e);n;){n[G]|=t;let r=Or(n);if(mu(n)&&!r)return n;n=r}return null}var Ur=class{get rootNodes(){let e=this._lView,t=e[J];return Au(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qt]}set context(e){this._lView[qt]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[qe];if(on(e)){let t=e[pu],r=t?t.indexOf(this):-1;r>-1&&(Pf(e,r),du(t,r))}this._attachedToViewContainer=!1}hD(this._lView[J],this._lView)}onDestroy(e){pE(this._lView,e)}markForCheck(){Fp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){yf(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,UD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=mu(this._lView),t=this._lView[Pr];t!==null&&!e&&Rp(t,this._lView),lD(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=mu(this._lView),r=this._lView[Pr];r!==null&&!t&&dD(r,this._lView),yf(this._lView)}},Hi=(()=>{class n{static{this.__NG_ELEMENT_ID__=$x}}return n})(),jx=Hi,Bx=class extends jx{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Cx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ur(i)}};function $x(){return Lp(ht(),we())}function Lp(n,e){return n.type&4?new Bx(e,n,es(n,e)):null}var Hx=new RegExp(`^(\\d+)*(${XE}|${ZE})*(.*)`);function zx(n){let e=n.match(Hx),[t,r,i,s]=e,o=r?parseInt(r,10):i,c=[];for(let[u,l,h]of s.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;c.push(l,p)}return[o,...c]}function qx(n){return!n.prev&&n.parent?.type===8}function nf(n){return n.index-Ze}function Gx(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function Yu(n,e,t,r){let i=nf(r),s=Gx(n,i);if(s===void 0){let o=n.data[wN];if(o?.[i])s=Kx(o[i],t);else if(e.firstChild===r)s=n.firstChild;else{let c=r.prev===null,u=r.prev??r.parent;if(qx(r)){let l=nf(r.parent);s=Nf(n,l)}else{let l=xt(u,t);if(c)s=l.firstChild;else{let h=nf(u),p=Nf(n,h);if(u.type===2&&p){let v=bp(n,h)+1;s=Ju(v,p)}else s=l.nextSibling}}}}return s}function Ju(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function Wx(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case Mf.FirstChild:t=t.firstChild;break;case Mf.NextSibling:t=t.nextSibling;break}}return t}function Kx(n,e){let[t,...r]=zx(n),i;if(t===ZE)i=e[Nt][vt];else if(t===XE)i=kN(e[Nt][vt]);else{let s=Number(t);i=Gt(e[s+Ze])}return Wx(i,r)}var Qx=!1;function Yx(n){Qx=n}function Jx(n){let e=n[rn];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[Re];for(let s of r.values())Zx(i,t,s)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function Zx(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-Ze);i&&Np(n,i,!1)}}function HD(n){let e=n[To]??[],r=n[qe][Re];for(let i of e)Xx(i,r);n[To]=yt}function Xx(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[bu];for(;t<i;){let s=r.nextSibling;Np(e,r,!1),r=s,t++}}}function zD(n){HD(n);let e=n[vt];zt(e)&&Su(e);for(let t=lt;t<n.length;t++)Su(n[t])}function Su(n){Jx(n);let e=n[J];for(let t=Ze;t<e.bindingStartIndex;t++)if(on(n[t])){let r=n[t];zD(r)}else zt(n[t])&&Su(n[t])}function eP(n){let e=n._views;for(let t of e){let r=CN(t);r!==null&&r[vt]!==null&&(zt(r)?Su(r):zD(r))}}function tP(n,e){let t=[];for(let r of e)for(let i=0;i<(r[eD]??1);i++){let s={data:r,firstChild:null};r[bu]>0&&(s.firstChild=n,n=Ju(r[bu],n)),t.push(s)}return[n,t]}var qD=()=>null;function nP(n,e){let t=n[To];return!e||t===null||t.length===0?null:t[0].data[IN]===e?t.shift():(HD(n),null)}function rP(){qD=nP}function _w(n,e){return qD(n,e)}var zi=class{},Zu=new j("",{providedIn:"root",factory:()=>!1});var GD=new j(""),WD=new j(""),Vf=class{},Ru=class{};function iP(n){let e=Error(`No component factory found for ${ut(n)}.`);return e[sP]=n,e}var sP="ngComponent";var Uf=class{resolveComponentFactory(e){throw iP(e)}},qi=class{static{this.NULL=new Uf}},Gi=class{},ns=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>oP()}}return n})();function oP(){let n=we(),e=ht(),t=nr(e.index,n);return(zt(t)?t:n)[Re]}var aP=(()=>{class n{static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>null})}}return n})();function jf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=WI(i,c);else if(s==2){let u=c,l=e[++o];r=WI(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Mu=class extends qi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=xr(e);return new bo(t,this.ngModule)}};function Iw(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:Xn.None;e?t.push({propName:o,templateName:r,isSignal:(c&Xn.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function cP(n){let e=n.toLowerCase();return e==="svg"?hM:e==="math"?fM:null}var bo=class extends Ru{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=Iw(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Iw(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=qR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=he(null);try{i=i||this.ngModule;let o=i instanceof Mt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new _f(e,o):e,u=c.get(Gi,null);if(u===null)throw new V(407,!1);let l=c.get(aP,null),h=c.get(zi,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",b=r?nx(m,r,this.componentDef.encapsulation,c):Sp(m,v,cP(v)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;b!==null&&(R=Tp(b,c,!0));let F=Pp(0,null,null,1,0,null,null,null,null,null,null),B=Wu(null,F,null,M,null,null,p,m,c,null,R);pp(B);let $,X,Te=null;try{let Q=this.componentDef,E,y=null;Q.findHostDirectiveDefs?(E=[],y=new Map,Q.findHostDirectiveDefs(Q,E,y),E.push(Q)):E=[Q];let _=uP(B,b);Te=lP(_,b,Q,E,B,p,m),X=dE(F,Ze),b&&fP(m,Q,b,r),t!==void 0&&pP(X,this.ngContentSelectors,t),$=hP(Te,Q,E,y,B,[gP]),kp(F,B,null)}catch(Q){throw Te!==null&&Sf(Te),Sf(B),Q}finally{gp()}return new Bf(this.componentType,$,es(X,B),B,X)}finally{he(s)}}},Bf=class extends Vf{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ur(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;Op(s[J],s,i,e,t),this.previousInputValues.set(e,t);let o=nr(this._tNode.index,s);Fp(o,1)}}get injector(){return new Rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function uP(n,e){let t=n[J],r=Ze;return n[r]=e,Ku(t,r,2,"#host",null)}function lP(n,e,t,r,i,s,o){let c=i[J];dP(r,n,e,o);let u=null;e!==null&&(u=Tp(e,i[Bi]));let l=s.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Wu(i,CD(t),null,h,i[n.index],n,s,l,null,null,u);return c.firstCreatePass&&kf(c,n,r.length-1),Qu(i,p),i[n.index]=p}function dP(n,e,t,r){for(let i of n)e.mergedAttrs=wo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(jf(e,e.mergedAttrs,!0),t!==null&&vD(r,t,e))}function hP(n,e,t,r,i,s){let o=ht(),c=i[J],u=xt(o,i);MD(c,i,o,t,null,r);for(let h=0;h<t.length;h++){let p=o.directiveStart+h,m=Lr(i,c,p,o);Vr(m,i)}ND(c,i,o),u&&Vr(u,i);let l=Lr(i,c,o.directiveStart+o.componentOffset,o);if(n[qt]=i[qt]=l,s!==null)for(let h of s)h(l,e);return DD(c,o,i),l}function fP(n,e,t,r){if(r)hf(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:s}=GR(e.selectors[0]);i&&hf(n,t,i),s&&s.length>0&&yD(n,t,s.join(" "))}}function pP(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function gP(){let n=ht();yp(we()[J],n)}var zr=(()=>{class n{static{this.__NG_ELEMENT_ID__=mP}}return n})();function mP(){let n=ht();return QD(n,we())}var yP=zr,KD=class extends yP{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return es(this._hostTNode,this._hostLView)}get injector(){return new Rr(this._hostTNode,this._hostLView)}get parentInjector(){let e=vp(this._hostTNode,this._hostLView);if(NE(e)){let t=_u(e,this._hostLView),r=vu(e),i=t[J].data[r+8];return new Rr(i,t)}else return new Rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=ww(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=_w(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(c,i,vw(this._hostTNode,o)),c}createComponent(e,t,r,i,s){let o=e&&!cM(e),c;if(o)c=t;else{let b=t||{};c=b.index,r=b.injector,i=b.projectableNodes,s=b.environmentInjector||b.ngModuleRef}let u=o?e:new bo(xr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(Mt,null);M&&(s=M)}let h=xr(u.componentType??{}),p=_w(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,c,vw(this._hostTNode,p)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(yM(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[qe],l=new KD(u,u[Qt],u[qe]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Ax(o,i,s,r),e.attachToViewContainerRef(),$w(rf(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=ww(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Pf(this._lContainer,t);r&&(du(rf(this._lContainer),t),hD(r[J],r))}detach(e){let t=this._adjustIndex(e,-1),r=Pf(this._lContainer,t);return r&&du(rf(this._lContainer),t)!=null?new Ur(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function ww(n){return n[pu]}function rf(n){return n[pu]||(n[pu]=[])}function QD(n,e){let t,r=e[n.index];return on(r)?t=r:(t=xD(r,e,null,n),e[n.index]=t,Qu(e,t)),YD(t,e,n,r),new KD(t,n,e)}function vP(n,e){let t=n[Re],r=t.createComment(""),i=xt(e,n),s=pD(t,i);return Cu(t,s,r,qN(t,i),!1),r}var YD=JD,Vp=()=>!1;function _P(n,e,t){return Vp(n,e,t)}function JD(n,e,t,r){if(n[Cn])return;let i;t.type&8?i=Gt(r):i=vP(e,t),n[Cn]=i}function IP(n,e,t){if(n[Cn]&&n[To])return!0;let r=t[rn],i=e.index-Ze;if(!r||dN(e)||ko(r,i))return!1;let o=Nf(r,i),c=r.data[Dp]?.[i],[u,l]=tP(o,c);return n[Cn]=u,n[To]=l,!0}function wP(n,e,t,r){Vp(n,t,e)||JD(n,e,t,r)}function EP(){YD=wP,Vp=IP}var $f=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Hf=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),c=this.queries[o.indexInDeclarationView];i.push(c.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Up(e,t).matches!==null&&this.queries[t].setDirty()}},zf=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=MP(e):this.predicate=e}},qf=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Gf=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,DP(t,s)),this.matchTNodeWithReadOption(e,t,ou(t,e,s,!1,!1))}else r===Hi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ou(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===an||i===zr||i===Hi&&t.type&4)this.addMatch(t.index,-2);else{let s=ou(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function DP(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function TP(n,e){return n.type&11?es(n,e):n.type&4?Lp(n,e):null}function bP(n,e,t,r){return t===-1?TP(e,n):t===-2?CP(n,e,r):Lr(n,n[J],t,e)}function CP(n,e,t){if(t===an)return es(e,n);if(t===Hi)return Lp(e,n);if(t===zr)return QD(e,n)}function ZD(n,e,t,r){let i=e[bn].queries[r];if(i.matches===null){let s=n.data,o=t.matches,c=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)c.push(null);else{let h=s[l];c.push(bP(e,h,o[u+1],t.metadata.read))}}i.matches=c}return i.matches}function Wf(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=ZD(n,e,i,t);for(let c=0;c<s.length;c+=2){let u=s[c];if(u>0)r.push(o[c/2]);else{let l=s[c+1],h=e[-u];for(let p=lt;p<h.length;p++){let m=h[p];m[Pr]===m[qe]&&Wf(m[J],m,l,r)}if(h[$i]!==null){let p=h[$i];for(let m=0;m<p.length;m++){let v=p[m];Wf(v[J],v,l,r)}}}}}return r}function AP(n,e){return n[bn].queries[e].queryList}function SP(n,e,t){let r=new Af((t&4)===4);return ox(n,e,r,r.destroy),(e[bn]??=new Hf).queries.push(new $f(r))-1}function RP(n,e,t){let r=st();return r.firstCreatePass&&(NP(r,new zf(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),SP(r,we(),e)}function MP(n){return n.split(",").map(e=>e.trim())}function NP(n,e,t){n.queries===null&&(n.queries=new qf),n.queries.track(new Gf(e,t))}function Up(n,e){return n.queries.getByIndex(e)}function xP(n,e){let t=n[J],r=Up(t,e);return r.crossesNgTemplate?Wf(t,n,e,[]):ZD(t,n,r,e)}var Ew=new Set;function ir(n){Ew.has(n)||(Ew.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function PP(n){return typeof n=="function"&&n[wn]!==void 0}function Lo(n,e){ir("NgSignals");let t=II(n),r=t[wn];return e?.equal&&(r.equal=e.equal),t.set=i=>Sh(r,i),t.update=i=>wI(r,i),t.asReadonly=OP.bind(t),t}function OP(){let n=this[wn];if(n.readonlyFn===void 0){let e=()=>this();e[wn]=n,n.readonlyFn=e}return n.readonlyFn}function XD(n){return PP(n)&&typeof n.set=="function"}function kP(n){return Object.getPrototypeOf(n.prototype).constructor}function sr(n){let e=kP(n.type),t=!0,r=[n];for(;e;){let i;if(er(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=Xc(n.inputs),o.inputTransforms=Xc(n.inputTransforms),o.declaredInputs=Xc(n.declaredInputs),o.outputs=Xc(n.outputs);let c=i.hostBindings;c&&jP(n,c);let u=i.viewQuery,l=i.contentQueries;if(u&&VP(n,u),l&&UP(n,l),FP(n,i),uR(n.outputs,i.outputs),er(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(n),c===sr&&(t=!1)}}e=Object.getPrototypeOf(e)}LP(r)}function FP(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function LP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wo(i.hostAttrs,t=wo(t,i.hostAttrs))}}function Xc(n){return n===Ui?{}:n===yt?[]:n}function VP(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function UP(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function jP(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var tr=class{},Co=class{};var Kf=class extends tr{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mu(this);let s=Jw(e);this._bootstrapComponents=aD(s.bootstrap),this._r3Injector=jE(e,t,[{provide:tr,useValue:this},{provide:qi,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Qf=class extends Co{constructor(e){super(),this.moduleType=e}create(e){return new Kf(this.moduleType,e,[])}};var Nu=class extends tr{constructor(e){super(),this.componentFactoryResolver=new Mu(this),this.instance=null;let t=new Eo([...e.providers,{provide:tr,useValue:this},{provide:qi,useValue:this.componentFactoryResolver}],e.parent||lp(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function jp(n,e,t=null){return new Nu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function eT(n){return $P(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function BP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function $P(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function HP(n,e,t){return n[e]=t}function Xu(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Vo(n){return(n.flags&32)===32}function zP(n,e,t,r,i,s,o,c,u){let l=e.consts,h=Ku(e,n,4,o||null,c||null);RD(e,t,h,yu(l,u)),yp(e,h);let p=h.tView=Pp(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function qP(n,e,t,r,i,s,o,c,u,l){let h=t+Ze,p=e.firstCreatePass?zP(h,e,n,r,i,s,o,c,u):e.data[h];xo(p,!1);let m=tT(e,n,p,t);mp()&&Mp(e,n,m,p),Vr(m,n);let v=xD(m,n,m,p);return n[h]=v,Qu(n,v),_P(v,p,n),dp(p)&&TD(e,n,p),u!=null&&bD(n,p,l),p}function Bp(n,e,t,r,i,s,o,c){let u=we(),l=st(),h=yu(l.consts,s);return qP(u,l,n,e,t,r,i,h,o,c),Bp}var tT=nT;function nT(n,e,t,r){return rr(!0),e[Re].createComment("")}function GP(n,e,t,r){let i=e[rn],s=!i||No()||Vo(t)||ko(i,r);if(rr(s),s)return nT(n,e,t,r);let o=i.data[_N]?.[r]??null;o!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=o);let c=Yu(i,n,e,t);zu(i,r,c);let u=bp(i,r);return Ju(u,c)}function WP(){tT=GP}var vo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(vo||{}),KP=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Dw=class n{constructor(){this.ngZone=x(_e),this.scheduler=x(zi),this.errorHandler=x(An,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[vo.EarlyRead,vo.Write,vo.MixedReadWrite,vo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}};function eu(n,e){return n<<17|e<<2}function jr(n){return n>>17&32767}function QP(n){return(n&2)==2}function YP(n,e){return n&131071|e<<17}function Yf(n){return n|2}function Wi(n){return(n&131068)>>2}function sf(n,e){return n&-131069|e<<2}function JP(n){return(n&1)===1}function Jf(n){return n|1}function ZP(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,c=jr(o),u=Wi(o);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Ro(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=jr(n[c+1]);n[r+1]=eu(m,c),m!==0&&(n[m+1]=sf(n[m+1],r)),n[c+1]=YP(n[c+1],r)}else n[r+1]=eu(c,0),c!==0&&(n[c+1]=sf(n[c+1],r)),c=r;else n[r+1]=eu(u,0),c===0?c=r:n[u+1]=sf(n[u+1],r),u=r;l&&(n[r+1]=Yf(n[r+1])),Tw(n,h,r,!0),Tw(n,h,r,!1),XP(e,h,n,r,s),o=eu(c,u),s?e.classBindings=o:e.styleBindings=o}function XP(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Ro(s,e)>=0&&(t[r+1]=Jf(t[r+1]))}function Tw(n,e,t,r){let i=n[t+1],s=e===null,o=r?jr(i):Wi(i),c=!1;for(;o!==0&&(c===!1||s);){let u=n[o],l=n[o+1];eO(u,e)&&(c=!0,n[o+1]=r?Jf(l):Yf(l)),o=r?jr(l):Wi(l)}c&&(n[t+1]=r?Yf(i):Jf(i))}function eO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ro(n,e)>=0:!1}function $p(n,e,t){let r=we(),i=IE();if(Xu(r,i,e)){let s=st(),o=AE();SD(s,o,r,n,e,r[Re],t,!1)}return $p}function bw(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";Op(n,t,s[o],o,r)}function el(n,e){return tO(n,e,null,!0),el}function tO(n,e,t,r){let i=we(),s=st(),o=MM(2);if(s.firstUpdatePass&&rO(s,n,o,r),e!==Fo&&Xu(i,o,e)){let c=s.data[Po()];cO(s,c,i,i[Re],n,i[o+1]=uO(e,t),r,o)}}function nO(n,e){return e>=n.expandoStartIndex}function rO(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[Po()],o=nO(n,t);lO(s,r)&&e===null&&!o&&(e=!1),e=iO(i,s,e,r),ZP(i,s,e,t,o,r)}}function iO(n,e,t,r){let i=OM(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=of(null,n,e,t,r),t=Ao(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=of(i,n,e,t,r),s===null){let u=sO(n,e,r);u!==void 0&&Array.isArray(u)&&(u=of(null,n,e,u[1],r),u=Ao(u,e.attrs,r),oO(n,e,r,u))}else s=aO(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function sO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Wi(r)!==0)return n[jr(r)]}function oO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[jr(i)]=r}function aO(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=Ao(r,o,t)}return Ao(r,e.attrs,t)}function of(n,e,t,r,i){let s=null,o=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<o&&(s=e[c],r=Ao(r,s.hostAttrs,i),s!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function Ao(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),xR(n,o,t?!0:e[++s]))}return n===void 0?null:n}function cO(n,e,t,r,i,s,o,c){if(!(e.type&3))return;let u=n.data,l=u[c+1],h=JP(l)?Cw(u,e,t,i,Wi(l),o):void 0;if(!xu(h)){xu(s)||QP(l)&&(s=Cw(u,null,t,i,c,o));let p=pM(Po(),t);JN(r,o,p,i,s)}}function Cw(n,e,t,r,i,s){let o=e===null,c;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Fo&&(m=p?yt:void 0);let v=p?Wh(m,r):h===r?m:void 0;if(l&&!xu(v)&&(v=Wh(u,r)),xu(v)&&(c=v,o))return c;let b=n[i+1];i=o?jr(b):Wi(b)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=Wh(u,r))}return c}function xu(n){return n!==void 0}function uO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ut(Cp(n)))),n}function lO(n,e){return(n.flags&(e?8:16))!==0}function dO(n,e,t,r,i,s){let o=e.consts,c=yu(o,i),u=Ku(e,n,2,r,c);return RD(e,t,u,yu(o,s)),u.attrs!==null&&jf(u,u.attrs,!1),u.mergedAttrs!==null&&jf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function It(n,e,t,r){let i=we(),s=st(),o=Ze+n,c=i[Re],u=s.firstCreatePass?dO(o,s,i,e,t,r):s.data[o],l=rT(s,i,u,c,e,n);i[o]=l;let h=dp(u);return xo(u,!0),vD(c,l,u),!Vo(u)&&mp()&&Mp(s,i,l,u),IM()===0&&Vr(l,i),wM(),h&&(TD(s,i,u),DD(s,u,i)),r!==null&&bD(i,u),It}function Ot(){let n=ht();vE()?AM():(n=n.parent,xo(n,!1));let e=n;DM(e)&&bM(),EM();let t=st();return t.firstCreatePass&&(yp(t,n),oE(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&jM(e)&&bw(t,e,we(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&BM(e)&&bw(t,e,we(),e.stylesWithoutHost,!1),Ot}function qr(n,e,t,r){return It(n,e,t,r),Ot(),qr}var rT=(n,e,t,r,i,s)=>(rr(!0),Sp(r,i,SE()));function hO(n,e,t,r,i,s){let o=e[rn],c=!o||No()||Vo(t)||ko(o,s);if(rr(c),c)return Sp(r,i,SE());let u=Yu(o,n,e,t);return iD(o,s)&&zu(o,s,u.nextSibling),o&&(qE(t)||GE(u))&&Mo(t)&&(TM(t),mD(u)),u}function fO(){rT=hO}var pO=(n,e,t,r)=>(rr(!0),uD(e[Re],""));function gO(n,e,t,r){let i,s=e[rn],o=!s||No()||ko(s,r)||Vo(t);if(rr(o),o)return uD(e[Re],"");let c=Yu(s,n,e,t),u=RN(s,r);return zu(s,r,c),i=Ju(u,c),i}function mO(){pO=gO}function Hp(){return we()}var Pu="en-US";var yO=Pu;function vO(n){typeof n=="string"&&(yO=n.toLowerCase().replace(/_/g,"-"))}var _O=(n,e,t)=>{};function Mn(n,e,t,r){let i=we(),s=st(),o=ht();return iT(s,i,i[Re],o,n,e,r),Mn}function IO(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let c=e[fu],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function iT(n,e,t,r,i,s,o){let c=dp(r),l=n.firstCreatePass&&kD(n),h=e[qt],p=OD(e),m=!0;if(r.type&3||o){let M=xt(r,e),R=o?o(M):M,F=p.length,B=o?X=>o(Gt(X[r.index])):r.index,$=null;if(!o&&c&&($=IO(n,e,i,r.index)),$!==null){let X=$.__ngLastListenerFn__||$;X.__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,m=!1}else{s=Sw(r,e,h,s),_O(M,i,s);let X=t.listen(R,i,s);p.push(s,X),l&&l.push(i,B,F,F+1)}}else s=Sw(r,e,h,s);let v=r.outputs,b;if(m&&v!==null&&(b=v[i])){let M=b.length;if(M)for(let R=0;R<M;R+=2){let F=b[R],B=b[R+1],Te=e[F][B].subscribe(s),Q=p.length;p.push(s,Te),l&&l.push(i,r.index,Q,-(Q+1))}}}function Aw(n,e,t,r){let i=he(null);try{return en(6,e,t),t(r)!==!1}catch(s){return FD(n,s),!1}finally{en(7,e,t),he(i)}}function Sw(n,e,t,r){return function i(s){if(s===Function)return r;let o=n.componentOffset>-1?nr(n.index,e):e;Fp(o,5);let c=Aw(e,t,r,s),u=i.__ngNextListenerFn__;for(;u;)c=Aw(e,t,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function zp(n=1){return FM(n)}function sT(n,e,t){RP(n,e,t)}function qp(n){let e=we(),t=st(),r=wE();fp(r+1);let i=Up(t,r);if(n.dirty&&mM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=xP(e,r);n.reset(s,aN),n.notifyOnChanges()}return!0}return!1}function Gp(){return AP(we(),wE())}function wO(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Gr(n,e=""){let t=we(),r=st(),i=n+Ze,s=r.firstCreatePass?Ku(r,i,1,e,null):r.data[i],o=oT(r,t,s,e,n);t[i]=o,mp()&&Mp(r,t,o,s),xo(s,!1)}var oT=(n,e,t,r,i)=>(rr(!0),cD(e[Re],r));function EO(n,e,t,r,i){let s=e[rn],o=!s||No()||Vo(t)||ko(s,i);return rr(o),o?cD(e[Re],r):Yu(s,n,e,t)}function DO(){oT=EO}function tl(n,e,t){XD(e)&&(e=e());let r=we(),i=IE();if(Xu(r,i,e)){let s=st(),o=AE();SD(s,o,r,n,e,r[Re],t,!1)}return tl}function Wp(n,e){let t=XD(n);return t&&n.set(e),t}function nl(n,e){let t=we(),r=st(),i=ht();return iT(r,t,t[Re],i,n,e),nl}function TO(n,e,t){let r=st();if(r.firstCreatePass){let i=er(n);Zf(t,r.data,r.blueprint,i,!0),Zf(e,r.data,r.blueprint,i,!1)}}function Zf(n,e,t,r,i){if(n=it(n),Array.isArray(n))for(let s=0;s<n.length;s++)Zf(n[s],e,t,r,i);else{let s=st(),o=we(),c=ht(),u=ji(n)?n:it(n.provide),l=rE(n),h=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(ji(n)||!n.multi){let v=new Fr(l,i,Ee),b=cf(u,e,i?h:h+m,p);b===-1?(wf(wu(c,o),s,u),af(s,n,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(v),o.push(v)):(t[b]=v,o[b]=v)}else{let v=cf(u,e,h+m,p),b=cf(u,e,h,h+m),M=v>=0&&t[v],R=b>=0&&t[b];if(i&&!R||!i&&!M){wf(wu(c,o),s,u);let F=AO(i?CO:bO,t.length,i,r,l);!i&&R&&(t[b].providerFactory=F),af(s,n,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(F),o.push(F)}else{let F=aT(t[i?b:v],l,!i&&r);af(s,n,v>-1?v:b,F)}!i&&r&&R&&t[b].componentProviders++}}}function af(n,e,t,r){let i=ji(e),s=eM(e);if(i||s){let u=(s?it(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function aT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function cf(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function bO(n,e,t,r){return Xf(this.multi,[])}function CO(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=Lr(t,t[J],this.providerFactory.index,r);s=c.slice(0,o),Xf(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],Xf(i,s);return s}function Xf(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function AO(n,e,t,r,i){let s=new Fr(n,t,Ee);return s.multi=[],s.index=e,s.componentProviders=0,aT(s,i,r&&!t),s}function rl(n,e=[]){return t=>{t.providersResolver=(r,i)=>TO(r,i?i(n):n,e)}}var SO=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=eE(!1,t.type),i=r.length>0?jp([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(se(Mt))})}}return n})();function rs(n){ir("NgStandalone"),n.getStandaloneInjector=e=>e.get(SO).getOrCreateStandaloneInjector(n)}function RO(n,e){let t=n[e];return t===Fo?void 0:t}function MO(n,e,t,r,i,s){let o=e+t;return Xu(n,o,i)?HP(n,o+1,s?r.call(s,i):r(i)):RO(n,o+1)}function cT(n,e){let t=st(),r,i=n+Ze;t.firstCreatePass?(r=NO(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=Mr(r.type,!0)),o,c=ct(Ee);try{let u=Iu(!1),l=s();return Iu(u),wO(t,we(),i,l),l}finally{ct(c)}}function NO(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function uT(n,e,t){let r=n+Ze,i=we(),s=gM(i,r);return xO(i,r)?MO(i,SM(),e,s.transform,t,s):s.transform(t)}function xO(n,e){return n[J].data[e].pure}var Rn=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},lT=new Rn("18.2.13");var il=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var dT=new j("");function or(n){return!!n&&typeof n.then=="function"}function Kp(n){return!!n&&typeof n.subscribe=="function"}var hT=new j(""),fT=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=x(hT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(or(s))t.push(s);else if(Kp(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),is=new j("");function PO(){_I(()=>{throw new V(600,!1)})}function OO(n){return n.isBoundToModule}var kO=10;function FO(n,e,t){try{let r=t();return or(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var cn=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(sN),this.afterRenderManager=x(KP),this.zonelessEnabled=x(Zu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new He,this.afterTick=new He,this.componentTypes=[],this.components=[],this.isStable=x(Hr).hasPendingTasks.pipe(ee(t=>!t)),this._injector=x(Mt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Ru;if(!this._injector.get(fT).done){let m=!i&&Yw(t),v=!1;throw new V(405,v)}let o;i?o=t:o=this._injector.get(qi).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let c=OO(o)?void 0:this._injector.get(tr),u=r||o.selector,l=o.create(dt.NULL,[],u,c),h=l.location.nativeElement,p=l.injector.get(dT,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),au(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new V(101,!1);let t=he(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,he(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Gi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<kO;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)LO(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ju(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;au(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(is,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>au(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function au(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var tu;function sl(n){tu??=new WeakMap;let e=tu.get(n);if(e)return e;let t=n.isStable.pipe(Bt(r=>r)).toPromise().then(()=>{});return tu.set(n,t),n.onDestroy(()=>tu?.delete(n)),t}function LO(n,e,t,r){if(!t&&!ju(n))return;UD(n,e,t&&!r?0:1)}var ep=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Qp=(()=>{class n{compileModuleSync(t){return new Qf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Jw(t),s=aD(i.declarations).reduce((o,c)=>{let u=xr(c);return u&&o.push(new bo(u)),o},[]);return new ep(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var VO=(()=>{class n{constructor(){this.zone=x(_e),this.changeDetectionScheduler=x(zi),this.applicationRef=x(cn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),UO=new j("",{factory:()=>!1});function pT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _e(oe(k({},mT()),{scheduleInRootZone:t})),[{provide:_e,useFactory:n},{provide:Nr,multi:!0,useFactory:()=>{let r=x(VO,{optional:!0});return()=>r.initialize()}},{provide:Nr,multi:!0,useFactory:()=>{let r=x(jO);return()=>{r.initialize()}}},e===!0?{provide:GD,useValue:!0}:[],{provide:WD,useValue:t??BE}]}function gT(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=pT({ngZoneFactory:()=>{let i=mT(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&ir("NgZone_CoalesceEvent"),new _e(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Kt([{provide:UO,useValue:!0},{provide:Zu,useValue:!1},r])}function mT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var jO=(()=>{class n{constructor(){this.subscription=new Se,this.initialized=!1,this.zone=x(_e),this.pendingTasks=x(Hr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var BO=(()=>{class n{constructor(){this.appRef=x(cn),this.taskService=x(Hr),this.ngZone=x(_e),this.zonelessEnabled=x(Zu),this.disableScheduling=x(GD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Se,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Du):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(WD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?lw:HE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Du+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,lw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $O(){return typeof $localize<"u"&&$localize.locale||Pu}var Yp=new j("",{providedIn:"root",factory:()=>x(Yp,ne.Optional|ne.SkipSelf)||$O()});var tp=new j("");function nu(n){return!n.moduleRef}function HO(n){let e=nu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_e);return t.run(()=>{nu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(An,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),nu(n)){let s=()=>e.destroy(),o=n.platformInjector.get(tp);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(tp);o.add(s),n.moduleRef.onDestroy(()=>{au(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return FO(r,t,()=>{let s=e.get(fT);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Yp,Pu);if(vO(o||Pu),nu(n)){let c=e.get(cn);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return zO(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function zO(n,e){let t=n.injector.get(cn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new V(-403,!1);e.push(n)}var cu=null;function qO(n=[],e){return dt.create({name:e,providers:[{provide:Vu,useValue:"platform"},{provide:tp,useValue:new Set([()=>cu=null])},...n]})}function GO(n=[]){if(cu)return cu;let e=qO(n);return cu=e,PO(),WO(e),e}function WO(n){n.get(wp,null)?.forEach(t=>t())}var ar=(()=>{class n{static{this.__NG_ELEMENT_ID__=KO}}return n})();function KO(n){return QO(ht(),we(),(n&16)===16)}function QO(n,e,t){if(Mo(n)&&!t){let r=nr(n.index,e);return new Ur(r,r)}else if(n.type&175){let r=e[Nt];return new Ur(r,e)}return null}var np=class{constructor(){}supports(e){return eT(e)}create(e){return new rp(e)}},YO=(n,e)=>e,rp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||YO}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<Rw(r,i,s)?t:r,c=Rw(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let l=c-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<s.length?s[m]:s[m]=0,b=v+m;h<=b&&b<l&&(s[m]=v+1)}let p=o.previousIndex;s[p]=h-l}}c!==u&&e(o,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!eT(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,c),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,c)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,BP(e,c=>{o=this._trackByFn(i,c),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,c,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,o,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new ip(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ou),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ou),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ip=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},sp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ou=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new sp,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Rw(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Mw(){return new Jp([new np])}var Jp=(()=>{class n{static{this.\u0275prov=z({token:n,providedIn:"root",factory:Mw})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Mw()),deps:[[n,new Bw,new Wt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new V(901,!1)}}return n})();function yT(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=GO(r),s=[pT({}),{provide:zi,useExisting:BO},...t||[]],o=new Nu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return HO({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var Nw=!1;function JO(){Nw||(Nw=!0,bN(),fO(),DO(),mO(),WP(),EP(),rP(),sx())}function ZO(n,e){return sl(n)}function vT(){return Kt([{provide:Jc,useFactory:()=>{let n=!0;return Zc()&&(n=!!x(ts,{optional:!0})?.get(nD,null)),n&&ir("NgHydration"),n}},{provide:Nr,useValue:()=>{Yx(!1),Zc()&&x(Jc)&&(XO(),JO())},multi:!0},{provide:oD,useFactory:()=>Zc()&&x(Jc)},{provide:is,useFactory:()=>{if(Zc()&&x(Jc)){let n=x(cn),e=x(dt);return()=>{ZO(n,e).then(()=>{eP(n)})}}return()=>{}},multi:!0}])}function XO(){let n=$u(),e;for(let t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===DN){e=t;break}if(!e)throw new V(-507,!1)}function ol(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Uo(n,e){ir("NgSignals");let t=mI(n);return e?.equal&&(t[wn].equal=e.equal),t}function Yt(n){let e=he(null);try{return n()}finally{he(e)}}var ET=null;function Nn(){return ET}function DT(n){ET??=n}var al=class{};var wt=new j(""),TT=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>x(nk),providedIn:"platform"})}}return n})();var nk=(()=>{class n extends TT{constructor(){super(),this._doc=x(wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nn().getBaseHref(this._doc)}onPopState(t){let r=Nn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Nn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function bT(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function _T(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Kr(n){return n&&n[0]!=="?"?"?"+n:n}var ul=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>x(CT),providedIn:"root"})}}return n})(),rk=new j(""),CT=(()=>{class n extends ul{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bT(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(se(TT),se(rk,8))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var jo=(()=>{class n{constructor(t){this._subject=new Pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=ok(_T(IT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Kr(r))}normalize(t){return n.stripTrailingSlash(sk(this._basePath,IT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Kr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Kr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Kr}static{this.joinWithSlash=bT}static{this.stripTrailingSlash=_T}static{this.\u0275fac=function(r){return new(r||n)(se(ul))}}static{this.\u0275prov=z({token:n,factory:()=>ik(),providedIn:"root"})}}return n})();function ik(){return new jo(se(ul))}function sk(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function IT(n){return n.replace(/\/index.html$/,"")}function ok(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function tg(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Zp=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},AT=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Zp(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),wT(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);wT(s,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Ee(zr),Ee(Hi),Ee(Jp))}}static{this.\u0275dir=_t({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function wT(n,e){n.context.$implicit=e.item}function ak(n,e){return new V(2100,!1)}var Xp=class{createSubscription(e,t){return Yt(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Yt(()=>e.unsubscribe())}},eg=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},ck=new eg,uk=new Xp,ST=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(or(t))return ck;if(Kp(t))return uk;throw ak(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(Ee(ar,16))}}static{this.\u0275pipe=Ww({name:"async",type:n,pure:!1,standalone:!0})}}return n})();var ng=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=$r({type:n})}static{this.\u0275inj=Br({})}}return n})(),RT="browser",lk="server";function Bo(n){return n===lk}var cl=class{};var dl=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var LT=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(LT||{}),rg=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new dl,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var hl=class n extends rg{constructor(e={}){super(e),this.type=LT.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var hk=new j("");var fk=new j(""),MT="b",NT="h",xT="s",PT="st",OT="u",kT="rt",ll=new j(""),pk=["GET","HEAD"];function gk(n,e){let v=x(ll),{isCacheActive:t}=v,r=aI(v,["isCacheActive"]),{transferCache:i,method:s}=n;if(!t||i===!1||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!pk.includes(s)||!r.includeRequestsWithAuthHeaders&&mk(n)||r.filter?.(n)===!1)return e(n);let o=x(ts),c=x(fk,{optional:!0}),u=Bo(x(Pt));if(c&&!u)throw new V(2803,!1);let l=u&&c?Ik(n.url,c):n.url,h=vk(n,l),p=o.get(h,null),m=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(m=i.includeHeaders),p){let{[MT]:b,[kT]:M,[NT]:R,[xT]:F,[PT]:B,[OT]:$}=p,X=b;switch(M){case"arraybuffer":X=new TextEncoder().encode(b).buffer;break;case"blob":X=new Blob([b]);break}let Te=new dl(R);return W(new hl({body:X,headers:Te,status:F,statusText:B,url:$}))}return e(n).pipe(xe(b=>{b instanceof hl&&u&&o.set(h,{[MT]:b.body,[NT]:yk(b.headers,m),[xT]:b.status,[PT]:b.statusText,[OT]:l,[kT]:n.responseType})}))}function mk(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function yk(n,e){if(!e)return{};let t={};for(let r of e){let i=n.getAll(r);i!==null&&(t[r]=i)}return t}function FT(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function vk(n,e){let{params:t,method:r,responseType:i}=n,s=FT(t),o=n.serializeBody();o instanceof URLSearchParams?o=FT(o):typeof o!="string"&&(o="");let c=[r,i,e,o,s].join("|"),u=_k(c);return u}function _k(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function VT(n){return[{provide:ll,useFactory:()=>(ir("NgHttpTransferCache"),k({isCacheActive:!0},n))},{provide:hk,useValue:gk,multi:!0,deps:[ts,ll]},{provide:is,multi:!0,useFactory:()=>{let e=x(cn),t=x(ll);return()=>{sl(e).then(()=>{t.isCacheActive=!1})}}}]}function Ik(n,e){let t=new URL(n,"resolve://").origin,r=e[t];return r?n.replace(t,r):n}var og=class extends al{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ag=class n extends og{static makeCurrent(){DT(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=wk();return t==null?null:Ek(t)}resetBaseElement(){$o=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return tg(document.cookie,e)}},$o=null;function wk(){return $o=$o||document.querySelector("base"),$o?$o.getAttribute("href"):null}function Ek(n){return new URL(n,document.baseURI).pathname}var Dk=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),cg=new j(""),$T=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(se(cg),se(_e))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),fl=class{constructor(e){this._doc=e}},ig="ng-app-id",HT=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Bo(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${ig}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(ig),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(ig,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(se(wt),se(Hu),se(Ep,8),se(Pt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),sg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},dg=/%COMP%/g,zT="%COMP%",Tk=`_nghost-${zT}`,bk=`_ngcontent-${zT}`,Ck=!0,Ak=new j("",{providedIn:"root",factory:()=>Ck});function Sk(n){return bk.replace(dg,n)}function Rk(n){return Tk.replace(dg,n)}function qT(n,e){return e.map(t=>t.replace(dg,n))}var UT=(()=>{class n{constructor(t,r,i,s,o,c,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Bo(c),this.defaultRenderer=new Ho(t,o,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===nn.ShadowDom&&(r=oe(k({},r),{encapsulation:nn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof pl?i.applyToHost(t):i instanceof zo&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case nn.Emulated:s=new pl(u,l,r,this.appId,h,o,c,p);break;case nn.ShadowDom:return new ug(u,l,t,r,o,c,this.nonce,p);default:s=new zo(u,l,r,h,o,c,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(se($T),se(HT),se(Hu),se(Ak),se(wt),se(Pt),se(_e),se(Ep))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),Ho=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(sg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(jT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(jT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=sg[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=sg[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Sn.DashCase|Sn.Important)?e.style.setProperty(t,r,i&Sn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Sn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Nn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function jT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ug=class extends Ho{constructor(e,t,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=qT(i.id,i.styles);for(let h of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zo=class extends Ho{constructor(e,t,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?qT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},pl=class extends zo{constructor(e,t,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,t,r,s,o,c,u,l),this.contentAttr=Sk(l),this.hostAttr=Rk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},Mk=(()=>{class n extends fl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(se(wt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),BT=["alt","control","meta","shift"],Nk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xk={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Pk=(()=>{class n extends fl{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nn().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),BT.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=Nk[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),BT.forEach(o=>{if(o!==i){let c=xk[o];c(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(se(wt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function GT(n,e){return yT(k({rootComponent:n},Ok(e)))}function Ok(n){return{appProviders:[...Uk,...n?.providers??[]],platformProviders:Vk}}function kk(){ag.makeCurrent()}function Fk(){return new An}function Lk(){return JE(document),document}var Vk=[{provide:Pt,useValue:RT},{provide:wp,useValue:kk,multi:!0},{provide:wt,useFactory:Lk,deps:[]}];var Uk=[{provide:Vu,useValue:"root"},{provide:An,useFactory:Fk,deps:[]},{provide:cg,useClass:Mk,multi:!0,deps:[wt,_e,Pt]},{provide:cg,useClass:Pk,multi:!0,deps:[wt]},UT,HT,$T,{provide:Gi,useExisting:UT},{provide:cl,useClass:Dk,deps:[]},[]];var WT=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(se(wt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var lg=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n}(lg||{});function KT(...n){let e=[],t=new Set,r=t.has(lg.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of n)t.add(s),i.length&&e.push(i);return Kt([[],vT(),t.has(lg.NoHttpTransferCache)||r?[]:VT({}),e])}var te="primary",aa=Symbol("RouteTitle"),mg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ls(n){return new mg(n)}function $k(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Hk(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!un(n[t],e[t]))return!1;return!0}function un(n,e){let t=n?yg(n):void 0,r=e?yg(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!nb(n[i],e[i]))return!1;return!0}function yg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function nb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function rb(n){return n.length>0?n[n.length-1]:null}function cr(n){return Bh(n)?n:or(n)?Ce(Promise.resolve(n)):W(n)}var zk={exact:sb,subset:ob},ib={exact:qk,subset:Gk,ignored:()=>!0};function QT(n,e,t){return zk[t.paths](n.root,e.root,t.matrixParams)&&ib[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function qk(n,e){return un(n,e)}function sb(n,e,t){if(!Yr(n.segments,e.segments)||!yl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!sb(n.children[r],e.children[r],t))return!1;return!0}function Gk(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>nb(n[t],e[t]))}function ob(n,e,t){return ab(n,e,e.segments,t)}function ab(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Yr(i,t)||e.hasChildren()||!yl(i,t,r))}else if(n.segments.length===t.length){if(!Yr(n.segments,t)||!yl(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!ob(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Yr(n.segments,i)||!yl(n.segments,i,r)||!n.children[te]?!1:ab(n.children[te],e,s,r)}}function yl(n,e,t){return e.every((r,i)=>ib[t](n[i].parameters,r.parameters))}var Pn=class{constructor(e=new me([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ls(this.queryParams),this._queryParamMap}toString(){return Qk.serialize(this)}},me=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vl(this)}},Qr=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ls(this.parameters),this._parameterMap}toString(){return ub(this)}};function Wk(n,e){return Yr(n,e)&&n.every((t,r)=>un(t.parameters,e[r].parameters))}function Yr(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Kk(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===te&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==te&&(t=t.concat(e(i,r)))}),t}var Hg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>new Jo,providedIn:"root"})}}return n})(),Jo=class{parse(e){let t=new _g(e);return new Pn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${qo(e.root,!0)}`,r=Zk(e.queryParams),i=typeof e.fragment=="string"?`#${Yk(e.fragment)}`:"";return`${t}${r}${i}`}},Qk=new Jo;function vl(n){return n.segments.map(e=>ub(e)).join("/")}function qo(n,e){if(!n.hasChildren())return vl(n);if(e){let t=n.children[te]?qo(n.children[te],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==te&&r.push(`${i}:${qo(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Kk(n,(r,i)=>i===te?[qo(n.children[te],!1)]:[`${i}:${qo(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[te]!=null?`${vl(n)}/${t[0]}`:`${vl(n)}/(${t.join("//")})`}}function cb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gl(n){return cb(n).replace(/%3B/gi,";")}function Yk(n){return encodeURI(n)}function vg(n){return cb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _l(n){return decodeURIComponent(n)}function YT(n){return _l(n.replace(/\+/g,"%20"))}function ub(n){return`${vg(n.path)}${Jk(n.parameters)}`}function Jk(n){return Object.entries(n).map(([e,t])=>`;${vg(e)}=${vg(t)}`).join("")}function Zk(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${gl(t)}=${gl(i)}`).join("&"):`${gl(t)}=${gl(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Xk=/^[^\/()?;#]+/;function hg(n){let e=n.match(Xk);return e?e[0]:""}var e1=/^[^\/()?;=#]+/;function t1(n){let e=n.match(e1);return e?e[0]:""}var n1=/^[^=?&#]+/;function r1(n){let e=n.match(n1);return e?e[0]:""}var i1=/^[^&#]+/;function s1(n){let e=n.match(i1);return e?e[0]:""}var _g=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[te]=new me(e,t)),r}parseSegment(){let e=hg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new Qr(_l(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=t1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=hg(this.remaining);i&&(r=i,this.capture(r))}e[_l(t)]=_l(r)}parseQueryParam(e){let t=r1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=s1(this.remaining);o&&(r=o,this.capture(r))}let i=YT(t),s=YT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=hg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=te);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[te]:new me([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function lb(n){return n.segments.length>0?new me([],{[te]:n}):n}function db(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=db(i);if(r===te&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new me(n.segments,e);return o1(t)}function o1(n){if(n.numberOfChildren===1&&n.children[te]){let e=n.children[te];return new me(n.segments.concat(e.segments),e.children)}return n}function Zo(n){return n instanceof Pn}function a1(n,e,t=null,r=null){let i=hb(n);return fb(i,e,t,r)}function hb(n){let e;function t(s){let o={};for(let u of s.children){let l=t(u);o[u.outlet]=l}let c=new me(s.url,o);return s===n&&(e=c),c}let r=t(n.root),i=lb(r);return e??i}function fb(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return fg(i,i,i,t,r);let s=c1(e);if(s.toRoot())return fg(i,i,new me([],{}),t,r);let o=u1(s,i,n),c=o.processChildren?Ko(o.segmentGroup,o.index,s.commands):gb(o.segmentGroup,o.index,s.commands);return fg(i,o.segmentGroup,c,t,r)}function Il(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Xo(n){return typeof n=="object"&&n!=null&&n.outlets}function fg(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;n===e?o=t:o=pb(n,e,t);let c=lb(db(o));return new Pn(c,s,i)}function pb(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=pb(s,e,t)}),new me(n.segments,r)}var wl=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Il(r[0]))throw new V(4003,!1);let i=r.find(Xo);if(i&&i!==rb(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function c1(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new wl(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new wl(t,e,r)}var as=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function u1(n,e,t){if(n.isAbsolute)return new as(e,!0,0);if(!t)return new as(e,!1,NaN);if(t.parent===null)return new as(t,!0,0);let r=Il(n.commands[0])?0:1,i=t.segments.length-1+r;return l1(t,i,n.numberOfDoubleDots)}function l1(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new as(r,!1,i-s)}function d1(n){return Xo(n[0])?n[0].outlets:{[te]:n}}function gb(n,e,t){if(n??=new me([],{}),n.segments.length===0&&n.hasChildren())return Ko(n,e,t);let r=h1(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new me(n.segments.slice(0,r.pathIndex),{});return s.children[te]=new me(n.segments.slice(r.pathIndex),n.children),Ko(s,0,i)}else return r.match&&i.length===0?new me(n.segments,{}):r.match&&!n.hasChildren()?Ig(n,e,t):r.match?Ko(n,0,i):Ig(n,e,t)}function Ko(n,e,t){if(t.length===0)return new me(n.segments,{});{let r=d1(t),i={};if(Object.keys(r).some(s=>s!==te)&&n.children[te]&&n.numberOfChildren===1&&n.children[te].segments.length===0){let s=Ko(n.children[te],e,t);return new me(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=gb(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new me(n.segments,i)}}function h1(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],c=t[r];if(Xo(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!ZT(u,l,o))return s;r+=2}else{if(!ZT(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ig(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Xo(s)){let u=f1(s.outlets);return new me(r,u)}if(i===0&&Il(t[0])){let u=n.segments[e];r.push(new Qr(u.path,JT(t[0]))),i++;continue}let o=Xo(s)?s.outlets[te]:`${s}`,c=i<t.length-1?t[i+1]:null;o&&c&&Il(c)?(r.push(new Qr(o,JT(c))),i+=2):(r.push(new Qr(o,{})),i++)}return new me(r,{})}function f1(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ig(new me([],{}),0,r))}),e}function JT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function ZT(n,e,t){return n==t.path&&un(e,t.parameters)}var Qo="imperative",Ge=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ge||{}),kt=class{constructor(e,t){this.id=e,this.url=t}},ea=class extends kt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Ge.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jr=class extends kt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Ge.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Dt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Dt||{}),wg=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(wg||{}),xn=class extends kt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ge.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zr=class extends kt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ge.NavigationSkipped}},ta=class extends kt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Ge.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},El=class extends kt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ge.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eg=class extends kt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ge.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dg=class extends kt{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ge.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Tg=class extends kt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ge.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bg=class extends kt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ge.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cg=class{constructor(e){this.route=e,this.type=Ge.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ag=class{constructor(e){this.route=e,this.type=Ge.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sg=class{constructor(e){this.snapshot=e,this.type=Ge.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rg=class{constructor(e){this.snapshot=e,this.type=Ge.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mg=class{constructor(e){this.snapshot=e,this.type=Ge.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ng=class{constructor(e){this.snapshot=e,this.type=Ge.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var na=class{},ds=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function p1(n,e){return n.providers&&!n._injector&&(n._injector=jp(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Jt(n){return n.outlet||te}function g1(n,e){let t=n.filter(r=>Jt(r)===e);return t.push(...n.filter(r=>Jt(r)!==e)),t}function ca(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var xg=class{get injector(){return ca(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Rl(this.rootInjector),this.attachRef=null}},Rl=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new xg(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(se(Mt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Dl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Pg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Pg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Og(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Og(e,this._root).map(t=>t.value)}};function Pg(n,e){if(n===e.value)return e;for(let t of e.children){let r=Pg(n,t);if(r)return r}return null}function Og(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Og(n,t);if(r.length)return r.unshift(e),r}return[]}var Et=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function os(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Tl=class extends Dl{constructor(e,t){super(e),this.snapshot=t,zg(this,e)}toString(){return this.snapshot.toString()}};function mb(n){let e=m1(n),t=new ze([new Qr("",{})]),r=new ze({}),i=new ze({}),s=new ze({}),o=new ze(""),c=new hs(t,r,s,o,i,te,n,e.root);return c.snapshot=e.root,new Tl(new Et(c,[]),e)}function m1(n){let e={},t={},r={},i="",s=new cs([],e,r,i,t,te,n,null,{});return new Cl("",new Et(s,[]))}var hs=class{constructor(e,t,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(l=>l[aa]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>ls(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>ls(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bl(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&vb(i)&&(r.resolve[aa]=i.title),r}var cs=class{get title(){return this.data?.[aa]}constructor(e,t,r,i,s,o,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ls(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ls(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Cl=class extends Dl{constructor(e,t){super(t),this.url=e,zg(this,t)}toString(){return yb(this._root)}};function zg(n,e){e.value._routerState=n,e.children.forEach(t=>zg(n,t))}function yb(n){let e=n.children.length>0?` { ${n.children.map(yb).join(", ")} } `:"";return`${n.value}${e}`}function pg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,un(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),un(e.params,t.params)||n.paramsSubject.next(t.params),Hk(e.url,t.url)||n.urlSubject.next(t.url),un(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function kg(n,e){let t=un(n.params,e.params)&&Wk(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||kg(n.parent,e.parent))}function vb(n){return typeof n.title=="string"||n.title===null}var qg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.parentContexts=x(Rl),this.location=x(zr),this.changeDetector=x(ar),this.inputBinder=x(Gg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Fg(t,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=_t({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ji]})}}return n})(),Fg=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===hs?this.route:e===Rl?this.childContexts:this.parent.get(e,t)}},Gg=new j("");function y1(n,e,t){let r=ra(n,e._root,t?t._root:void 0);return new Tl(r,e)}function ra(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=v1(n,e,t);return new Et(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>ra(n,c)),o}}let r=_1(e.value),i=e.children.map(s=>ra(n,s));return new Et(r,i)}}function v1(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ra(n,r,i);return ra(n,r)})}function _1(n){return new hs(new ze(n.url),new ze(n.params),new ze(n.queryParams),new ze(n.fragment),new ze(n.data),n.outlet,n.component,n)}var ia=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},_b="ngNavigationCancelingError";function Al(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Zo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ib(!1,Dt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Ib(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[_b]=!0,t.cancellationCode=e,t}function I1(n){return wb(n)&&Zo(n.url)}function wb(n){return!!n&&n[_b]}var w1=(n,e,t,r)=>ee(i=>(new Lg(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Lg=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),pg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=os(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=os(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=os(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=os(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Ng(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Rg(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(pg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),pg(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Sl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},us=class{constructor(e,t){this.component=e,this.route=t}};function E1(n,e,t){let r=n._root,i=e?e._root:null;return Go(r,i,t,[r.value])}function D1(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ps(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Ow(n)?n:e.get(n):r}function Go(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=os(e);return n.children.forEach(o=>{T1(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Yo(c,t.getContext(o),i)),i}function T1(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=b1(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Sl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Go(n,e,c?c.children:null,r,i):Go(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new us(c.outlet.component,o))}else o&&Yo(e,c,i),i.canActivateChecks.push(new Sl(r)),s.component?Go(n,null,c?c.children:null,r,i):Go(n,null,t,r,i);return i}function b1(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Yr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Yr(n.url,e.url)||!un(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kg(n,e)||!un(n.queryParams,e.queryParams);case"paramsChange":default:return!kg(n,e)}}function Yo(n,e,t){let r=os(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Yo(o,e.children.getContext(s),t):Yo(o,null,t):Yo(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new us(e.outlet.component,i)):t.canDeactivateChecks.push(new us(null,i)):t.canDeactivateChecks.push(new us(null,i))}function ua(n){return typeof n=="function"}function C1(n){return typeof n=="boolean"}function A1(n){return n&&ua(n.canLoad)}function S1(n){return n&&ua(n.canActivate)}function R1(n){return n&&ua(n.canActivateChild)}function M1(n){return n&&ua(n.canDeactivate)}function N1(n){return n&&ua(n.canMatch)}function Eb(n){return n instanceof En||n?.name==="EmptyError"}var ml=Symbol("INITIAL_VALUE");function fs(){return St(n=>qc(n.map(e=>e.pipe(Dn(1),Qc(ml)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===ml)return ml;if(t===!1||x1(t))return t}return!0}),mt(e=>e!==ml),Dn(1)))}function x1(n){return Zo(n)||n instanceof ia}function P1(n,e){return Ve(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?W(oe(k({},t),{guardsResult:!0})):O1(o,r,i,n).pipe(Ve(c=>c&&C1(c)?k1(r,s,n,e):W(c)),ee(c=>oe(k({},t),{guardsResult:c})))})}function O1(n,e,t,r){return Ce(n).pipe(Ve(i=>j1(i.component,i.route,t,e,r)),Bt(i=>i!==!0,!0))}function k1(n,e,t,r){return Ce(e).pipe(Sr(i=>Ni(L1(i.route.parent,r),F1(i.route,r),U1(n,i.path,t),V1(n,i.route,t))),Bt(i=>i!==!0,!0))}function F1(n,e){return n!==null&&e&&e(new Mg(n)),W(!0)}function L1(n,e){return n!==null&&e&&e(new Sg(n)),W(!0)}function V1(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(s=>Gc(()=>{let o=ca(e)??t,c=ps(s,o),u=S1(c)?c.canActivate(e,n):sn(o,()=>c(e,n));return cr(u).pipe(Bt())}));return W(i).pipe(fs())}function U1(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>D1(o)).filter(o=>o!==null).map(o=>Gc(()=>{let c=o.guards.map(u=>{let l=ca(o.node)??t,h=ps(u,l),p=R1(h)?h.canActivateChild(r,n):sn(l,()=>h(r,n));return cr(p).pipe(Bt())});return W(c).pipe(fs())}));return W(s).pipe(fs())}function j1(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return W(!0);let o=s.map(c=>{let u=ca(e)??i,l=ps(c,u),h=M1(l)?l.canDeactivate(n,e,t,r):sn(u,()=>l(n,e,t,r));return cr(h).pipe(Bt())});return W(o).pipe(fs())}function B1(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let s=i.map(o=>{let c=ps(o,n),u=A1(c)?c.canLoad(e,t):sn(n,()=>c(e,t));return cr(u)});return W(s).pipe(fs(),Db(r))}function Db(n){return Cc(xe(e=>{if(typeof e!="boolean")throw Al(n,e)}),ee(e=>e===!0))}function $1(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let s=i.map(o=>{let c=ps(o,n),u=N1(c)?c.canMatch(e,t):sn(n,()=>c(e,t));return cr(u)});return W(s).pipe(fs(),Db(r))}var sa=class{constructor(e){this.segmentGroup=e||null}},oa=class extends Error{constructor(e){super(),this.urlTree=e}};function ss(n){return Mi(new sa(n))}function H1(n){return Mi(new V(4e3,!1))}function z1(n){return Mi(Ib(!1,Dt.GuardRejected))}var Vg=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[te])return H1(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let c=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:b,title:M}=i,R=sn(s,()=>c({params:v,data:b,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof Pn)throw new oa(R);t=R}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new oa(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Pn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new me(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Ug={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function q1(n,e,t,r,i){let s=Tb(n,e,t);return s.matched?(r=p1(e,r),$1(r,e,t,i).pipe(ee(o=>o===!0?s:k({},Ug)))):W(s)}function Tb(n,e,t){if(e.path==="**")return G1(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},Ug):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||$k)(t,n,e);if(!i)return k({},Ug);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function G1(n){return{matched:!0,parameters:n.length>0?rb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function XT(n,e,t,r){return t.length>0&&Q1(n,t,r)?{segmentGroup:new me(e,K1(r,new me(t,n.children))),slicedSegments:[]}:t.length===0&&Y1(n,t,r)?{segmentGroup:new me(n.segments,W1(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new me(n.segments,n.children),slicedSegments:t}}function W1(n,e,t,r){let i={};for(let s of t)if(Ml(n,e,s)&&!r[Jt(s)]){let o=new me([],{});i[Jt(s)]=o}return k(k({},r),i)}function K1(n,e){let t={};t[te]=e;for(let r of n)if(r.path===""&&Jt(r)!==te){let i=new me([],{});t[Jt(r)]=i}return t}function Q1(n,e,t){return t.some(r=>Ml(n,e,r)&&Jt(r)!==te)}function Y1(n,e,t){return t.some(r=>Ml(n,e,r))}function Ml(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function J1(n,e,t){return e.length===0&&!n.children[t]}var jg=class{};function Z1(n,e,t,r,i,s,o="emptyOnly"){return new Bg(n,e,t,r,i,o,s).recognize()}var X1=31,Bg=class{constructor(e,t,r,i,s,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Vg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=XT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:t,rootSnapshot:r})=>{let i=new Et(r,t),s=new Cl("",i),o=a1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new cs([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,t).pipe(ee(r=>({children:r,rootSnapshot:t})),Qn(r=>{if(r instanceof oa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof sa?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(ee(o=>o instanceof Et?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ce(s).pipe(Sr(o=>{let c=r.children[o],u=g1(t,o);return this.processSegmentGroup(e,u,c,o,i)}),Kc((o,c)=>(o.push(...c),o)),Yn(null),qh(),Ve(o=>{if(o===null)return ss(r);let c=bb(o);return eF(c),W(c)}))}processSegment(e,t,r,i,s,o,c){return Ce(t).pipe(Sr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,s,o,c).pipe(Qn(l=>{if(l instanceof sa)return W(null);throw l}))),Bt(u=>!!u),Qn(u=>{if(Eb(u))return J1(r,i,s)?W(new jg):ss(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,s,o,c,u){return Jt(r)!==o&&(o===te||!Ml(i,s,r))?ss(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,u):ss(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=Tb(t,i,s);if(!u)return ss(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>X1&&(this.allowRedirects=!1));let v=new cs(s,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,eb(i),Jt(i),i.component??i._loadedComponent??null,i,tb(i)),b=bl(v,c,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Ve(R=>this.processSegment(e,r,t,R.concat(m),o,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let c=q1(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(St(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(St(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,b=new cs(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,eb(r),Jt(r),r.component??r._loadedComponent??null,r,tb(r)),M=bl(b,o,this.paramsInheritanceStrategy);b.params=Object.freeze(M.params),b.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=XT(t,m,v,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,b).pipe(ee($=>new Et(b,$)));if(l.length===0&&F.length===0)return W(new Et(b,[]));let B=Jt(r)===s;return this.processSegment(h,l,R,F,B?te:s,!0,b).pipe(ee($=>new Et(b,$ instanceof Et?[$]:[])))}))):ss(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):B1(e,t,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,t).pipe(xe(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):z1(t))):W({routes:[],injector:e})}};function eF(n){n.sort((e,t)=>e.value.outlet===te?-1:t.value.outlet===te?1:e.value.outlet.localeCompare(t.value.outlet))}function tF(n){let e=n.value.routeConfig;return e&&e.path===""}function bb(n){let e=[],t=new Set;for(let r of n){if(!tF(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=bb(r.children);e.push(new Et(r.value,i))}return e.filter(r=>!t.has(r))}function eb(n){return n.data||{}}function tb(n){return n.resolve||{}}function nF(n,e,t,r,i,s){return Ve(o=>Z1(n,e,t,r,o.extractedUrl,i,s).pipe(ee(({state:c,tree:u})=>oe(k({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function rF(n,e){return Ve(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of Cb(u))o.add(l);let c=0;return Ce(o).pipe(Sr(u=>s.has(u)?iF(u,r,n,e):(u.data=bl(u,u.parent,n).resolve,W(void 0))),xe(()=>c++),Pi(1),Ve(u=>c===o.size?W(t):gt))})}function Cb(n){let e=n.children.map(t=>Cb(t)).flat();return[n,...e]}function iF(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!vb(i)&&(s[aa]=i.title),sF(s,n,e,r).pipe(ee(o=>(n._resolvedData=o,n.data=bl(n,n.parent,t).resolve,null)))}function sF(n,e,t,r){let i=yg(n);if(i.length===0)return W({});let s={};return Ce(i).pipe(Ve(o=>oF(n[o],e,t,r).pipe(Bt(),xe(c=>{if(c instanceof ia)throw Al(new Jo,c);s[o]=c}))),Pi(1),zh(s),Qn(o=>Eb(o)?gt:Mi(o)))}function oF(n,e,t,r){let i=ca(e)??r,s=ps(n,i),o=s.resolve?s.resolve(e,t):sn(i,()=>s(e,t));return cr(o)}function gg(n){return St(e=>{let t=n(e);return t?Ce(t).pipe(ee(()=>e)):W(e)})}var Ab=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===te);return r}getResolvedTitleForRoute(t){return t.data[aa]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>x(aF),providedIn:"root"})}}return n})(),aF=(()=>{class n extends Ab{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(se(WT))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Wg=new j("",{providedIn:"root",factory:()=>({})}),cF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Qi({type:n,selectors:[["ng-component"]],standalone:!0,features:[rs],decls:1,vars:0,template:function(r,i){r&1&&qr(0,"router-outlet")},dependencies:[qg],encapsulation:2})}}return n})();function Kg(n){let e=n.children&&n.children.map(Kg),t=e?oe(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==te&&(t.component=cF),t}var Qg=new j(""),uF=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(Qp)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=cr(t.loadComponent()).pipe(ee(Sb),xe(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),xi(()=>{this.componentLoaders.delete(t)})),i=new Ci(r,()=>new He).pipe(bi());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=lF(r,this.compiler,t,this.onLoadEndListener).pipe(xi(()=>{this.childrenLoaders.delete(r)})),o=new Ci(s,()=>new He).pipe(bi());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function lF(n,e,t,r){return cr(n.loadChildren()).pipe(ee(Sb),Ve(i=>i instanceof Co||Array.isArray(i)?W(i):Ce(e.compileModuleAsync(i))),ee(i=>{r&&r(n);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(t).injector,o=s.get(Qg,[],{optional:!0,self:!0}).flat()),{routes:o.map(Kg),injector:s}}))}function dF(n){return n&&typeof n=="object"&&"default"in n}function Sb(n){return dF(n)?n.default:n}var Yg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>x(hF),providedIn:"root"})}}return n})(),hF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fF=new j("");var pF=new j(""),gF=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new He,this.transitionAbortSubject=new He,this.configLoader=x(uF),this.environmentInjector=x(Mt),this.urlSerializer=x(Hg),this.rootContexts=x(Rl),this.location=x(jo),this.inputBindingEnabled=x(Gg,{optional:!0})!==null,this.titleStrategy=x(Ab),this.options=x(Wg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(Yg),this.createViewTransition=x(fF,{optional:!0}),this.navigationErrorHandler=x(pF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Cg(i)),r=i=>this.events.next(new Ag(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(oe(k(k({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new ze({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Qo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mt(s=>s.id!==0),ee(s=>oe(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),St(s=>{let o=!1,c=!1;return W(s).pipe(St(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Dt.SupersededByNewNavigation),gt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?oe(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Zr(u.id,this.urlSerializer.serialize(u.rawUrl),p,wg.IgnoredSameUrlNavigation)),u.resolve(!1),gt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return W(u).pipe(St(p=>{let m=this.transitions?.getValue();return this.events.next(new ea(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?gt:Promise.resolve(p)}),nF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),xe(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=oe(k({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new El(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:v,restoredState:b,extras:M}=u,R=new ea(p,this.urlSerializer.serialize(m),v,b);this.events.next(R);let F=mb(this.rootComponentType).snapshot;return this.currentTransition=s=oe(k({},u),{targetSnapshot:F,urlAfterRedirects:m,extras:oe(k({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,W(s)}else{let p="";return this.events.next(new Zr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,wg.IgnoredByUrlHandlingStrategy)),u.resolve(!1),gt}}),xe(u=>{let l=new Eg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ee(u=>(this.currentTransition=s=oe(k({},u),{guards:E1(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),P1(this.environmentInjector,u=>this.events.next(u)),xe(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Al(this.urlSerializer,u.guardsResult);let l=new Dg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),mt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Dt.GuardRejected),!1)),gg(u=>{if(u.guards.canActivateChecks.length)return W(u).pipe(xe(l=>{let h=new Tg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),St(l=>{let h=!1;return W(l).pipe(rF(this.paramsInheritanceStrategy,this.environmentInjector),xe({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Dt.NoDataFromResolver)}}))}),xe(l=>{let h=new bg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),gg(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(xe(m=>{h.component=m}),ee(()=>{})));for(let m of h.children)p.push(...l(m));return p};return qc(l(u.targetSnapshot.root)).pipe(Yn(null),Dn(1))}),gg(()=>this.afterPreactivation()),St(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Ce(h).pipe(ee(()=>s)):W(s)}),ee(u=>{let l=y1(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=oe(k({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),xe(()=>{this.events.next(new na)}),w1(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Dn(1),xe({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Gh(this.transitionAbortSubject.pipe(xe(u=>{throw u}))),xi(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",Dt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Qn(u=>{if(c=!0,wb(u))this.events.next(new xn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),I1(u)?this.events.next(new ds(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new ta(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let h=sn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof ia){let{message:p,cancellationCode:m}=Al(this.urlSerializer,h);this.events.next(new xn(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new ds(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return gt}))}))}cancelNavigationTransition(t,r,i){let s=new xn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mF(n){return n!==Qo}var yF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>x(vF),providedIn:"root"})}}return n})(),$g=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},vF=(()=>{class n extends $g{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Oo(n)))(i||n)}})()}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Rb=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>x(_F),providedIn:"root"})}}return n})(),_F=(()=>{class n extends Rb{constructor(){super(...arguments),this.location=x(jo),this.urlSerializer=x(Hg),this.options=x(Wg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(Yg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=mb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof ea)this.stateMemento=this.createStateMemento();else if(t instanceof Zr)this.rawUrlTree=r.initialUrl;else if(t instanceof El){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof na?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof xn&&(t.code===Dt.GuardRejected||t.code===Dt.NoDataFromResolver)?this.restoreHistory(r):t instanceof ta?this.restoreHistory(r,!0):t instanceof Jr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Pn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=k(k({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Oo(n)))(i||n)}})()}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Wo=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Wo||{});function IF(n,e){n.events.pipe(mt(t=>t instanceof Jr||t instanceof xn||t instanceof ta||t instanceof Zr),ee(t=>t instanceof Jr||t instanceof Zr?Wo.COMPLETE:(t instanceof xn?t.code===Dt.Redirect||t.code===Dt.SupersededByNewNavigation:!1)?Wo.REDIRECTING:Wo.FAILED),mt(t=>t!==Wo.REDIRECTING),Dn(1)).subscribe(()=>{e()})}function wF(n){throw n}var EF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Mb=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x(il),this.stateManager=x(Rb),this.options=x(Wg,{optional:!0})||{},this.pendingTasks=x(Hr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(gF),this.urlSerializer=x(Hg),this.location=x(jo),this.urlHandlingStrategy=x(Yg),this._events=new He,this.errorHandler=this.options.errorHandler||wF,this.navigated=!1,this.routeReuseStrategy=x(yF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(Qg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(Gg,{optional:!0}),this.eventsSubscription=new Se,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof xn&&r.code!==Dt.Redirect&&r.code!==Dt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Jr)this.navigated=!0;else if(r instanceof ds){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mF(i.source)},o);this.scheduleNavigation(c,Qo,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}bF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Kg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=hb(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return fb(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Zo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Qo,null,r)}navigate(t,r={skipLocationChange:!1}){return TF(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=k({},EF):r===!1?i=k({},DF):i=r,Zo(t))return QT(this.currentUrlTree,t,i);let s=this.parseUrl(t);return QT(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,l;o?(c=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{c=p,u=m});let h=this.pendingTasks.add();return IF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function TF(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new V(4008,!1)}function bF(n){return!(n instanceof na)&&!(n instanceof ds)}var CF=new j("");function Nb(n,...e){return Kt([{provide:Qg,multi:!0,useValue:n},[],{provide:hs,useFactory:AF,deps:[Mb]},{provide:is,multi:!0,useFactory:SF},e.map(t=>t.\u0275providers)])}function AF(n){return n.routerState.root}function SF(){let n=x(dt);return e=>{let t=n.get(cn);if(e!==t.components[0])return;let r=n.get(Mb),i=n.get(RF);n.get(MF)===1&&r.initialNavigation(),n.get(NF,null,ne.Optional)?.setUpPreloading(),n.get(CF,null,ne.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var RF=new j("",{factory:()=>new He}),MF=new j("",{providedIn:"root",factory:()=>1});var NF=new j("");var Pb=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},xF=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],c=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=s>>2,p=(s&3)<<4|c>>4,m=(c&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(t[h],t[p],t[m],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Pb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):xF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new Zg;let m=s<<2|c>>4;if(r.push(m),l!==64){let v=c<<4&240|l>>2;if(r.push(v),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Zg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},PF=function(n){let e=Pb(n);return Ob.encodeByteArray(e,!0)},la=function(n){return PF(n).replace(/\./g,"")},em=function(n){try{return Ob.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function OF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var kF=()=>OF().__FIREBASE_DEFAULTS__,FF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},LF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&em(n[1]);return e&&JSON.parse(e)},xl=()=>{try{return kF()||FF()||LF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kb=n=>{var e,t;return(t=(e=xl())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Fb=n=>{let e=kb(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},tm=()=>{var n;return(n=xl())===null||n===void 0?void 0:n.config},Lb=n=>{var e;return(e=xl())===null||e===void 0?void 0:e[`_${n}`]};var Nl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Vb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[la(JSON.stringify(t)),la(JSON.stringify(o)),""].join(".")}function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ub(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function VF(){var n;let e=(n=xl())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bb(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $b(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hb(){return!VF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nm(){try{return typeof indexedDB=="object"}catch{return!1}}function zb(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var UF="FirebaseError",Ft=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=UF,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,On.prototype.create)}},On=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?jF(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Ft(i,c,r)}};function jF(n,e){return n.replace(BF,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var BF=/\{\$([^}]+)}/g;function gs(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(xb(s)&&xb(o)){if(!gs(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function xb(n){return n!==null&&typeof n=="object"}function rm(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qb(n,e){let t=new Xg(n,e);return t.subscribe.bind(t)}var Xg=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");$F(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Jg),i.error===void 0&&(i.error=Jg),i.complete===void 0&&(i.complete=Jg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function $F(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Jg(){}var d3=4*60*60*1e3;function ot(n){return n&&n._delegate?n._delegate:n}var Lt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Xr="[DEFAULT]";var im=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Nl;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zF(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return A(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HF(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function HF(n){return n===Xr?void 0:n}function zF(n){return n.instantiationMode==="EAGER"}var Pl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new im(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var qF=[],ce=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ce||{}),GF={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},WF=ce.INFO,KF={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},QF=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=KF[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ur=class{constructor(e){this.name=e,this._logLevel=WF,this._logHandler=QF,this._userLogHandler=null,qF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var YF=(n,e)=>e.some(t=>n instanceof t),Gb,Wb;function JF(){return Gb||(Gb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZF(){return Wb||(Wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Kb=new WeakMap,om=new WeakMap,Qb=new WeakMap,sm=new WeakMap,cm=new WeakMap;function XF(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ln(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Kb.set(t,n)}).catch(()=>{}),cm.set(e,n),e}function eL(n){if(om.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});om.set(n,e)}var am={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return om.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Qb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ln(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Yb(n){am=n(am)}function tL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Ol(this),e,...t);return Qb.set(r,e.sort?e.sort():[e]),ln(r)}:ZF().includes(n)?function(...e){return n.apply(Ol(this),e),ln(Kb.get(this))}:function(...e){return ln(n.apply(Ol(this),e))}}function nL(n){return typeof n=="function"?tL(n):(n instanceof IDBTransaction&&eL(n),YF(n,JF())?new Proxy(n,am):n)}function ln(n){if(n instanceof IDBRequest)return XF(n);if(sm.has(n))return sm.get(n);let e=nL(n);return e!==n&&(sm.set(n,e),cm.set(e,n)),e}var Ol=n=>cm.get(n);function Zb(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),c=ln(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ln(o.result),u.oldVersion,u.newVersion,ln(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var rL=["get","getKey","getAll","getAllKeys","count"],iL=["put","add","delete","clear"],um=new Map;function Jb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(um.get(e))return um.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=iL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rL.includes(t)))return;let s=function(o,...c){return A(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return um.set(e,s),s}Yb(n=>oe(k({},n),{get:(e,t,r)=>Jb(e,t)||n.get(e,t,r),has:(e,t)=>!!Jb(e,t)||n.has(e,t)}));var dm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sL(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function sL(n){let e=n.getComponent();return e?.type==="VERSION"}var hm="@firebase/app",Xb="0.10.13";var kn=new ur("@firebase/app"),oL="@firebase/app-compat",aL="@firebase/analytics-compat",cL="@firebase/analytics",uL="@firebase/app-check-compat",lL="@firebase/app-check",dL="@firebase/auth",hL="@firebase/auth-compat",fL="@firebase/database",pL="@firebase/data-connect",gL="@firebase/database-compat",mL="@firebase/functions",yL="@firebase/functions-compat",vL="@firebase/installations",_L="@firebase/installations-compat",IL="@firebase/messaging",wL="@firebase/messaging-compat",EL="@firebase/performance",DL="@firebase/performance-compat",TL="@firebase/remote-config",bL="@firebase/remote-config-compat",CL="@firebase/storage",AL="@firebase/storage-compat",SL="@firebase/firestore",RL="@firebase/vertexai-preview",ML="@firebase/firestore-compat",NL="firebase",xL="10.14.1";var fm="[DEFAULT]",PL={[hm]:"fire-core",[oL]:"fire-core-compat",[cL]:"fire-analytics",[aL]:"fire-analytics-compat",[lL]:"fire-app-check",[uL]:"fire-app-check-compat",[dL]:"fire-auth",[hL]:"fire-auth-compat",[fL]:"fire-rtdb",[pL]:"fire-data-connect",[gL]:"fire-rtdb-compat",[mL]:"fire-fn",[yL]:"fire-fn-compat",[vL]:"fire-iid",[_L]:"fire-iid-compat",[IL]:"fire-fcm",[wL]:"fire-fcm-compat",[EL]:"fire-perf",[DL]:"fire-perf-compat",[TL]:"fire-rc",[bL]:"fire-rc-compat",[CL]:"fire-gcs",[AL]:"fire-gcs-compat",[SL]:"fire-fst",[ML]:"fire-fst-compat",[RL]:"fire-vertex","fire-js":"fire-js",[NL]:"fire-js-all"};var da=new Map,OL=new Map,pm=new Map;function eC(n,e){try{n.container.addComponent(e)}catch(t){kn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function dr(n){let e=n.name;if(pm.has(e))return kn.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,n);for(let t of da.values())eC(t,n);for(let t of OL.values())eC(t,n);return!0}function vm(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ms(n){return n.settings!==void 0}var kL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new On("app","Firebase",kL);var gm=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}};var ys=xL;function _m(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:fm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw lr.create("bad-app-name",{appName:String(i)});if(t||(t=tm()),!t)throw lr.create("no-options");let s=da.get(i);if(s){if(gs(t,s.options)&&gs(r,s.config))return s;throw lr.create("duplicate-app",{appName:i})}let o=new Pl(i);for(let u of pm.values())o.addComponent(u);let c=new gm(t,r,o);return da.set(i,c),c}function fa(n=fm){let e=da.get(n);if(!e&&n===fm&&tm())return _m();if(!e)throw lr.create("no-app",{appName:n});return e}function kl(){return Array.from(da.values())}function je(n,e,t){var r;let i=(r=PL[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kn.warn(c.join(" "));return}dr(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var FL="firebase-heartbeat-database",LL=1,ha="firebase-heartbeat-store",lm=null;function iC(){return lm||(lm=Zb(FL,LL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ha)}catch(t){console.warn(t)}}}}).catch(n=>{throw lr.create("idb-open",{originalErrorMessage:n.message})})),lm}function VL(n){return A(this,null,function*(){try{let t=(yield iC()).transaction(ha),r=yield t.objectStore(ha).get(sC(n));return yield t.done,r}catch(e){if(e instanceof Ft)kn.warn(e.message);else{let t=lr.create("idb-get",{originalErrorMessage:e?.message});kn.warn(t.message)}}})}function tC(n,e){return A(this,null,function*(){try{let r=(yield iC()).transaction(ha,"readwrite");yield r.objectStore(ha).put(e,sC(n)),yield r.done}catch(t){if(t instanceof Ft)kn.warn(t.message);else{let r=lr.create("idb-set",{originalErrorMessage:t?.message});kn.warn(r.message)}}})}function sC(n){return`${n.name}!${n.options.appId}`}var UL=1024,jL=30*24*60*60*1e3,mm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ym(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return A(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=jL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){kn.warn(r)}})}getHeartbeatsHeader(){return A(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=nC(),{heartbeatsToSend:r,unsentEntries:i}=BL(this._heartbeatsCache.heartbeats),s=la(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return kn.warn(t),""}})}};function nC(){return new Date().toISOString().substring(0,10)}function BL(n,e=UL){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),rC(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),rC(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var ym=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return A(this,null,function*(){return nm()?zb().then(()=>!0).catch(()=>!1):!1})}read(){return A(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield VL(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return A(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return tC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return A(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return tC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function rC(n){return la(JSON.stringify({version:2,heartbeats:n})).length}function $L(n){dr(new Lt("platform-logger",e=>new dm(e),"PRIVATE")),dr(new Lt("heartbeat",e=>new mm(e),"PRIVATE")),je(hm,Xb,n),je(hm,Xb,"esm2017"),je("fire-js","")}$L("");var HL="firebase",zL="10.14.1";je(HL,zL,"app");var _s=new Rn("ANGULARFIRE2_VERSION");function wm(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ga=(n,e)=>{let t=e?[e]:kl(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},pa=class{constructor(){return ga(qL)}},qL="app-check";function vs(){}var Fl=class{zone;delegate;constructor(e,t=Uh){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},Im=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vs,{},vs,vs)),t.pipe(xe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ma=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Fl(Zone.current)),this.insideAngular=t.run(()=>new Fl(Zone.current,Vh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(se(_e))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ll(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function GL(n){return Ll().ngZone.runOutsideAngular(()=>n())}function ei(n){return Ll().ngZone.run(()=>n())}function WL(n){return KL(Ll())(n)}function KL(n){return function(t){return t=t.lift(new Im(n.ngZone)),t.pipe(Kn(n.outsideAngular),Wn(n.insideAngular))}}var QL=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ei(()=>n.apply(void 0,r))},Zt=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=ei(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vs,{},vs,vs))),r[s]=QL(r[s],t));let i=GL(()=>n.apply(this,r));if(!e)if(i instanceof ie){let s=Ll();return i.pipe(Kn(s.outsideAngular),Wn(s.insideAngular))}else return ei(()=>i);return i instanceof ie?i.pipe(WL):i instanceof Promise?ei(()=>new Promise((s,o)=>i.then(c=>ei(()=>s(c)),c=>ei(()=>o(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:ei(()=>i)};var ti=class{constructor(e){return e}},ya=class{constructor(){return kl()}};function YL(n){return n&&n.length===1?n[0]:new ti(fa())}var Em=new j("angularfire2._apps"),JL={provide:ti,useFactory:YL,deps:[[new Wt,Em]]},ZL={provide:ya,deps:[[new Wt,Em]]};function XL(n){return(e,t)=>{let r=t.get(Pt);je("angularfire",_s.full,"core"),je("angularfire",_s.full,"app"),je("angular",lT.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ti(i)}}function oC(n,...e){return Kt([JL,ZL,{provide:Em,useFactory:XL(n),multi:!0,deps:[_e,dt,ma,...e]}])}var aC=Zt(_m,!0);function gC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var mC=gC,yC=new On("auth","Firebase",gC());var Bl=new ur("@firebase/auth");function tV(n,...e){Bl.logLevel<=ce.WARN&&Bl.warn(`Auth (${ys}): ${n}`,...e)}function Ul(n,...e){Bl.logLevel<=ce.ERROR&&Bl.error(`Auth (${ys}): ${n}`,...e)}function cC(n,...e){throw Om(n,...e)}function Pm(n,...e){return Om(n,...e)}function vC(n,e,t){let r=Object.assign(Object.assign({},mC()),{[e]:t});return new On("auth","Firebase",r).create(e,{appName:n.name})}function jl(n){return vC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Om(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return yC.create(n,...e)}function ge(n,e,...t){if(!n)throw Om(e,...t)}function va(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Ul(e),new Error(e)}function $l(n,e){n||va(e)}function nV(){return uC()==="http:"||uC()==="https:"}function uC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function rV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nV()||Bb()||"connection"in navigator)?navigator.onLine:!0}function iV(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ri=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,$l(t>e,"Short delay should be less than long delay!"),this.isMobile=Ub()||$b()}get(){return rV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function sV(n,e){$l(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Hl=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;va("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;va("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;va("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var oV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var aV=new ri(3e4,6e4);function _C(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Wl(s,o,c,u){return A(this,arguments,function*(n,e,t,r,i={}){return IC(n,i,()=>A(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=rm(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let v=Object.assign({method:e,headers:m},l);return jb()||(v.referrerPolicy="no-referrer"),Hl.fetch()(wC(n,n.config.apiHost,t,p),v)}))})}function IC(n,e,t){return A(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},oV),e);try{let i=new bm(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Vl(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vl(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Vl(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw Vl(n,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw vC(n,h,l);cC(n,h)}}catch(i){if(i instanceof Ft)throw i;cC(n,"network-request-failed",{message:String(i)})}})}function wC(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?sV(n.config,i):`${n.config.apiScheme}://${i}`}var bm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Pm(this.auth,"network-request-failed")),aV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Vl(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Pm(n,e,r);return i.customData._tokenResponse=t,i}function cV(n,e){return A(this,null,function*(){return Wl(n,"POST","/v1/accounts:delete",e)})}function EC(n,e){return A(this,null,function*(){return Wl(n,"POST","/v1/accounts:lookup",e)})}function _a(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function km(n,e=!1){return A(this,null,function*(){let t=ot(n),r=yield t.getIdToken(e),i=DC(r);ge(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:_a(Dm(i.auth_time)),issuedAtTime:_a(Dm(i.iat)),expirationTime:_a(Dm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Dm(n){return Number(n)*1e3}function DC(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ul("JWT malformed, contained fewer than 3 sections"),null;try{let i=em(t);return i?JSON.parse(i):(Ul("Failed to decode base64 JWT payload"),null)}catch(i){return Ul("Caught error parsing JWT payload as JSON",i?.toString()),null}}function lC(n){let e=DC(n);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Cm(n,e,t=!1){return A(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Ft&&uV(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function uV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Am=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>A(this,null,function*(){yield this.iteration()}),t)}iteration(){return A(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var wa=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_a(this.lastLoginAt),this.creationTime=_a(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function zl(n){return A(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Cm(n,EC(t,{idToken:r}));ge(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?TC(s.providerUserInfo):[],c=lV(n.providerData,o),u=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!c?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new wa(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Fm(n){return A(this,null,function*(){let e=ot(n);yield zl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function lV(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TC(n){return n.map(e=>{var{providerId:t}=e,r=jh(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function dV(n,e){return A(this,null,function*(){let t=yield IC(n,{},()=>A(this,null,function*(){let r=rm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=wC(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Hl.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function hV(n,e){return A(this,null,function*(){return Wl(n,"POST","/v2/accounts:revokeToken",_C(n,e))})}var Ia=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");let t=lC(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return A(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return A(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield dV(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(ge(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ge(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return va("not implemented")}};function hr(n,e){ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ea=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=jh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Am(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return A(this,null,function*(){let t=yield Cm(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return km(this,e)}reload(){return Fm(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return A(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield zl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return A(this,null,function*(){if(ms(this.auth.app))return Promise.reject(jl(this.auth));let e=yield this.getIdToken();return yield Cm(this,cV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,c,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,v=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=t.photoURL)!==null&&o!==void 0?o:void 0,M=(c=t.tenantId)!==null&&c!==void 0?c:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,B=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:$,emailVerified:X,isAnonymous:Te,providerData:Q,stsTokenManager:E}=t;ge($&&E,e,"internal-error");let y=Ia.fromJSON(this.name,E);ge(typeof $=="string",e,"internal-error"),hr(p,e.name),hr(m,e.name),ge(typeof X=="boolean",e,"internal-error"),ge(typeof Te=="boolean",e,"internal-error"),hr(v,e.name),hr(b,e.name),hr(M,e.name),hr(R,e.name),hr(F,e.name),hr(B,e.name);let _=new n({uid:$,auth:e,email:m,emailVerified:X,displayName:p,isAnonymous:Te,photoURL:b,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:F,lastLoginAt:B});return Q&&Array.isArray(Q)&&(_.providerData=Q.map(w=>Object.assign({},w))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,t,r=!1){return A(this,null,function*(){let i=new Ia;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield zl(s),s})}static _fromGetAccountInfoResponse(e,t,r){return A(this,null,function*(){let i=t.users[0];ge(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?TC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Ia;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var dC=new Map;function ni(n){$l(n instanceof Function,"Expected a class definition");let e=dC.get(n);return e?($l(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,dC.set(n,e),e)}var fV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return A(this,null,function*(){return!0})}_set(t,r){return A(this,null,function*(){this.storage[t]=r})}_get(t){return A(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return A(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Sm=fV;function Tm(n,e,t){return`firebase:${n}:${e}:${t}`}var ql=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Tm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Tm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return A(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ea._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return A(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return A(this,null,function*(){if(!t.length)return new n(ni(Sm),e,r);let i=(yield Promise.all(t.map(l=>A(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||ni(Sm),o=Tm(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let h=yield l._get(o);if(h){let p=Ea._fromJSON(e,h);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(l=>A(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function hC(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_V(e))return"Blackberry";if(IV(e))return"Webos";if(gV(e))return"Safari";if((e.includes("chrome/")||mV(e))&&!e.includes("edge/"))return"Chrome";if(vV(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function pV(n=Tt()){return/firefox\//i.test(n)}function gV(n=Tt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mV(n=Tt()){return/crios\//i.test(n)}function yV(n=Tt()){return/iemobile/i.test(n)}function vV(n=Tt()){return/android/i.test(n)}function _V(n=Tt()){return/blackberry/i.test(n)}function IV(n=Tt()){return/webos/i.test(n)}function bC(n,e=[]){let t;switch(n){case"Browser":t=hC(Tt());break;case"Worker":t=`${hC(Tt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ys}/${r}`}var Rm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return A(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function wV(t){return A(this,arguments,function*(n,e={}){return Wl(n,"GET","/v2/passwordPolicy",_C(n,e))})}var EV=6,Mm=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:EV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Nm=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gl(this),this.idTokenSubscription=new Gl(this),this.beforeStateQueue=new Rm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ni(t)),this._initializationPromise=this.queue(()=>A(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ql.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return A(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return A(this,null,function*(){try{let t=yield EC(this,{idToken:e}),r=yield Ea._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return A(this,null,function*(){var t;if(ms(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return A(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return A(this,null,function*(){try{yield zl(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=iV()}_delete(){return A(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return A(this,null,function*(){if(ms(this.app))return Promise.reject(jl(this));let t=e?ot(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return A(this,null,function*(){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>A(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return A(this,null,function*(){return ms(this.app)?Promise.reject(jl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ms(this.app)?Promise.reject(jl(this)):this.queue(()=>A(this,null,function*(){yield this.assertedPersistence.setPersistence(ni(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return A(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return A(this,null,function*(){let e=yield wV(this),t=new Mm(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new On("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return A(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield hV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return A(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return A(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ni(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=yield ql.create(this,[ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return A(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>A(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return A(this,null,function*(){if(e===this.currentUser)return this.queue(()=>A(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return A(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return A(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return A(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&tV(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function DV(n){return ot(n)}var Gl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=qb(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var TV={loadJS(){return A(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bV(n){TV=n}function CV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function AV(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ni);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var c9=CV("rcb"),u9=new ri(3e4,6e4);var l9=new ri(2e3,1e4);var d9=10*60*1e3;var h9=new ri(3e4,6e4);var f9=new ri(5e3,15e3);var p9=encodeURIComponent("fac");var fC="@firebase/auth",pC="1.7.9";var xm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return A(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function SV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RV(n){dr(new Lt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bC(n)},l=new Nm(r,i,s,u);return AV(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),dr(new Lt("auth-internal",e=>{let t=DV(e.getProvider("auth").getImmediate());return(r=>new xm(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),je(fC,pC,SV(n)),je(fC,pC,"esm2017")}var MV=5*60,g9=Lb("authIdTokenMaxAge")||MV;function NV(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}bV({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Pm("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",NV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RV("Browser");var MU="auth";var Kl=class{constructor(){return ga(MU)}};var CC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},AC={};var fr,Lm;(function(){var n;function e(E,y){function _(){}_.prototype=y.prototype,E.D=y.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(w,D,C){for(var I=Array(arguments.length-2),vn=2;vn<arguments.length;vn++)I[vn-2]=arguments[vn];return y.prototype[D].apply(w,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,_){_||(_=0);var w=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)w[D]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(D=0;16>D;++D)w[D]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=E.g[0],_=E.g[1],D=E.g[2];var C=E.g[3],I=y+(C^_&(D^C))+w[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=C+(D^y&(_^D))+w[1]+3905402710&4294967295,C=y+(I<<12&4294967295|I>>>20),I=D+(_^C&(y^_))+w[2]+606105819&4294967295,D=C+(I<<17&4294967295|I>>>15),I=_+(y^D&(C^y))+w[3]+3250441966&4294967295,_=D+(I<<22&4294967295|I>>>10),I=y+(C^_&(D^C))+w[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(D^y&(_^D))+w[5]+1200080426&4294967295,C=y+(I<<12&4294967295|I>>>20),I=D+(_^C&(y^_))+w[6]+2821735955&4294967295,D=C+(I<<17&4294967295|I>>>15),I=_+(y^D&(C^y))+w[7]+4249261313&4294967295,_=D+(I<<22&4294967295|I>>>10),I=y+(C^_&(D^C))+w[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(D^y&(_^D))+w[9]+2336552879&4294967295,C=y+(I<<12&4294967295|I>>>20),I=D+(_^C&(y^_))+w[10]+4294925233&4294967295,D=C+(I<<17&4294967295|I>>>15),I=_+(y^D&(C^y))+w[11]+2304563134&4294967295,_=D+(I<<22&4294967295|I>>>10),I=y+(C^_&(D^C))+w[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(D^y&(_^D))+w[13]+4254626195&4294967295,C=y+(I<<12&4294967295|I>>>20),I=D+(_^C&(y^_))+w[14]+2792965006&4294967295,D=C+(I<<17&4294967295|I>>>15),I=_+(y^D&(C^y))+w[15]+1236535329&4294967295,_=D+(I<<22&4294967295|I>>>10),I=y+(D^C&(_^D))+w[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^D&(y^_))+w[6]+3225465664&4294967295,C=y+(I<<9&4294967295|I>>>23),I=D+(y^_&(C^y))+w[11]+643717713&4294967295,D=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(D^C))+w[0]+3921069994&4294967295,_=D+(I<<20&4294967295|I>>>12),I=y+(D^C&(_^D))+w[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^D&(y^_))+w[10]+38016083&4294967295,C=y+(I<<9&4294967295|I>>>23),I=D+(y^_&(C^y))+w[15]+3634488961&4294967295,D=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(D^C))+w[4]+3889429448&4294967295,_=D+(I<<20&4294967295|I>>>12),I=y+(D^C&(_^D))+w[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^D&(y^_))+w[14]+3275163606&4294967295,C=y+(I<<9&4294967295|I>>>23),I=D+(y^_&(C^y))+w[3]+4107603335&4294967295,D=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(D^C))+w[8]+1163531501&4294967295,_=D+(I<<20&4294967295|I>>>12),I=y+(D^C&(_^D))+w[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^D&(y^_))+w[2]+4243563512&4294967295,C=y+(I<<9&4294967295|I>>>23),I=D+(y^_&(C^y))+w[7]+1735328473&4294967295,D=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(D^C))+w[12]+2368359562&4294967295,_=D+(I<<20&4294967295|I>>>12),I=y+(_^D^C)+w[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^D)+w[8]+2272392833&4294967295,C=y+(I<<11&4294967295|I>>>21),I=D+(C^y^_)+w[11]+1839030562&4294967295,D=C+(I<<16&4294967295|I>>>16),I=_+(D^C^y)+w[14]+4259657740&4294967295,_=D+(I<<23&4294967295|I>>>9),I=y+(_^D^C)+w[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^D)+w[4]+1272893353&4294967295,C=y+(I<<11&4294967295|I>>>21),I=D+(C^y^_)+w[7]+4139469664&4294967295,D=C+(I<<16&4294967295|I>>>16),I=_+(D^C^y)+w[10]+3200236656&4294967295,_=D+(I<<23&4294967295|I>>>9),I=y+(_^D^C)+w[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^D)+w[0]+3936430074&4294967295,C=y+(I<<11&4294967295|I>>>21),I=D+(C^y^_)+w[3]+3572445317&4294967295,D=C+(I<<16&4294967295|I>>>16),I=_+(D^C^y)+w[6]+76029189&4294967295,_=D+(I<<23&4294967295|I>>>9),I=y+(_^D^C)+w[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^D)+w[12]+3873151461&4294967295,C=y+(I<<11&4294967295|I>>>21),I=D+(C^y^_)+w[15]+530742520&4294967295,D=C+(I<<16&4294967295|I>>>16),I=_+(D^C^y)+w[2]+3299628645&4294967295,_=D+(I<<23&4294967295|I>>>9),I=y+(D^(_|~C))+w[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~D))+w[7]+1126891415&4294967295,C=y+(I<<10&4294967295|I>>>22),I=D+(y^(C|~_))+w[14]+2878612391&4294967295,D=C+(I<<15&4294967295|I>>>17),I=_+(C^(D|~y))+w[5]+4237533241&4294967295,_=D+(I<<21&4294967295|I>>>11),I=y+(D^(_|~C))+w[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~D))+w[3]+2399980690&4294967295,C=y+(I<<10&4294967295|I>>>22),I=D+(y^(C|~_))+w[10]+4293915773&4294967295,D=C+(I<<15&4294967295|I>>>17),I=_+(C^(D|~y))+w[1]+2240044497&4294967295,_=D+(I<<21&4294967295|I>>>11),I=y+(D^(_|~C))+w[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~D))+w[15]+4264355552&4294967295,C=y+(I<<10&4294967295|I>>>22),I=D+(y^(C|~_))+w[6]+2734768916&4294967295,D=C+(I<<15&4294967295|I>>>17),I=_+(C^(D|~y))+w[13]+1309151649&4294967295,_=D+(I<<21&4294967295|I>>>11),I=y+(D^(_|~C))+w[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~D))+w[11]+3174756917&4294967295,C=y+(I<<10&4294967295|I>>>22),I=D+(y^(C|~_))+w[2]+718787259&4294967295,D=C+(I<<15&4294967295|I>>>17),I=_+(C^(D|~y))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+C&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var _=y-this.blockSize,w=this.B,D=this.h,C=0;C<y;){if(D==0)for(;C<=_;)i(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<y;)if(w[D++]=E.charCodeAt(C++),D==this.blockSize){i(this,w),D=0;break}}else for(;C<y;)if(w[D++]=E[C++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var _=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=_&255,_/=256;for(this.u(E),E=Array(16),y=_=0;4>y;++y)for(var w=0;32>w;w+=8)E[_++]=this.g[y]>>>w&255;return E};function s(E,y){var _=c;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=y(E)}function o(E,y){this.h=y;for(var _=[],w=!0,D=E.length-1;0<=D;D--){var C=E[D]|0;w&&C==y||(_[D]=C,w=!1)}this.g=_}var c={};function u(E){return-128<=E&&128>E?s(E,function(y){return new o([y|0],0>y?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var y=[],_=1,w=0;E>=_;w++)y[w]=E/_|0,_*=4294967296;return new o(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return R(h(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),w=p,D=0;D<E.length;D+=8){var C=Math.min(8,E.length-D),I=parseInt(E.substring(D,D+C),y);8>C?(C=l(Math.pow(y,C)),w=w.j(C).add(l(I))):(w=w.j(_),w=w.add(l(I)))}return w}var p=u(0),m=u(1),v=u(16777216);n=o.prototype,n.m=function(){if(M(this))return-R(this).m();for(var E=0,y=1,_=0;_<this.g.length;_++){var w=this.i(_);E+=(0<=w?w:4294967296+w)*y,y*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(b(this))return"0";if(M(this))return"-"+R(this).toString(E);for(var y=l(Math.pow(E,6)),_=this,w="";;){var D=X(_,y).g;_=F(_,D.j(y));var C=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=D,b(_))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function b(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function M(E){return E.h==-1}n.l=function(E){return E=F(this,E),M(E)?-1:b(E)?0:1};function R(E){for(var y=E.g.length,_=[],w=0;w<y;w++)_[w]=~E.g[w];return new o(_,~E.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],w=0,D=0;D<=y;D++){var C=w+(this.i(D)&65535)+(E.i(D)&65535),I=(C>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);w=I>>>16,C&=65535,I&=65535,_[D]=I<<16|C}return new o(_,_[_.length-1]&-2147483648?-1:0)};function F(E,y){return E.add(R(y))}n.j=function(E){if(b(this)||b(E))return p;if(M(this))return M(E)?R(this).j(R(E)):R(R(this).j(E));if(M(E))return R(this.j(R(E)));if(0>this.l(v)&&0>E.l(v))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,_=[],w=0;w<2*y;w++)_[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<E.g.length;D++){var C=this.i(w)>>>16,I=this.i(w)&65535,vn=E.i(D)>>>16,Ws=E.i(D)&65535;_[2*w+2*D]+=I*Ws,B(_,2*w+2*D),_[2*w+2*D+1]+=C*Ws,B(_,2*w+2*D+1),_[2*w+2*D+1]+=I*vn,B(_,2*w+2*D+1),_[2*w+2*D+2]+=C*vn,B(_,2*w+2*D+2)}for(w=0;w<y;w++)_[w]=_[2*w+1]<<16|_[2*w];for(w=y;w<2*y;w++)_[w]=0;return new o(_,0)};function B(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function $(E,y){this.g=E,this.h=y}function X(E,y){if(b(y))throw Error("division by zero");if(b(E))return new $(p,p);if(M(E))return y=X(R(E),y),new $(R(y.g),R(y.h));if(M(y))return y=X(E,R(y)),new $(R(y.g),y.h);if(30<E.g.length){if(M(E)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,w=y;0>=w.l(E);)_=Te(_),w=Te(w);var D=Q(_,1),C=Q(w,1);for(w=Q(w,2),_=Q(_,2);!b(w);){var I=C.add(w);0>=I.l(E)&&(D=D.add(_),C=I),w=Q(w,1),_=Q(_,1)}return y=F(E,D.j(y)),new $(D,y)}for(D=p;0<=E.l(y);){for(_=Math.max(1,Math.floor(E.m()/y.m())),w=Math.ceil(Math.log(_)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=l(_),I=C.j(y);M(I)||0<I.l(E);)_-=w,C=l(_),I=C.j(y);b(C)&&(C=m),D=D.add(C),E=F(E,I)}return new $(D,E)}n.A=function(E){return X(this,E).h},n.and=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],w=0;w<y;w++)_[w]=this.i(w)&E.i(w);return new o(_,this.h&E.h)},n.or=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],w=0;w<y;w++)_[w]=this.i(w)|E.i(w);return new o(_,this.h|E.h)},n.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],w=0;w<y;w++)_[w]=this.i(w)^E.i(w);return new o(_,this.h^E.h)};function Te(E){for(var y=E.g.length+1,_=[],w=0;w<y;w++)_[w]=E.i(w)<<1|E.i(w-1)>>>31;return new o(_,E.h)}function Q(E,y){var _=y>>5;y%=32;for(var w=E.g.length-_,D=[],C=0;C<w;C++)D[C]=0<y?E.i(C+_)>>>y|E.i(C+_+1)<<32-y:E.i(C+_);return new o(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Lm=AC.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,fr=AC.Integer=o}).apply(typeof CC<"u"?CC:typeof self<"u"?self:typeof window<"u"?window:{});var Ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fn={};var Vm,NU,Is,Um,Da,Yl,jm,Bm,$m;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ql=="object"&&Ql];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var T=a[g];if(!(T in f))break e;f=f[T]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var f=0,g=!1,T={next:function(){if(!g&&f<a.length){var S=f++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,f){return f})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),a.apply(d,T)}}return function(){return a.apply(d,arguments)}}function m(a,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function b(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,T,S){for(var O=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)O[ve-2]=arguments[ve];return d.prototype[T].apply(g,O)}}function M(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function R(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let T=a.length||0,S=g.length||0;a.length=T+S;for(let O=0;O<S;O++)a[T+O]=g[O]}else a.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function B(a){return/^[\s\xa0]*$/.test(a)}function $(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function X(a){return X[" "](a),a}X[" "]=function(){};var Te=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function Q(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function E(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function y(a){let d={};for(let f in a)d[f]=a[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)a[f]=g[f];for(let S=0;S<_.length;S++)f=_[S],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function D(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function C(a){c.setTimeout(()=>{throw a},0)}function I(){var a=Jd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class vn{constructor(){this.h=this.g=null}add(d,f){let g=Ws.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ws=new F(()=>new JA,a=>a.reset());class JA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ks,Qs=!1,Jd=new vn,r_=()=>{let a=c.Promise.resolve(void 0);Ks=()=>{a.then(ZA)}};var ZA=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(f){C(f)}var d=Ws;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Qs=!1};function $n(){this.s=this.s,this.C=this.C}$n.prototype.s=!1,$n.prototype.ma=function(){this.s||(this.s=!0,this.N())},$n.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ke(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ke.prototype.h=function(){this.defaultPrevented=!0};var XA=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a}();function Ys(a,d){if(Ke.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Te){e:{try{X(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:eS[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ys.aa.h.call(this)}}b(Ys,Ke);var eS={2:"touch",3:"pen",4:"mouse"};Ys.prototype.h=function(){Ys.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Js="closure_listenable_"+(1e6*Math.random()|0),tS=0;function nS(a,d,f,g,T){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++tS,this.da=this.fa=!1}function Za(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Xa(a){this.src=a,this.g={},this.h=0}Xa.prototype.add=function(a,d,f,g,T){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var O=Xd(a,d,g,T);return-1<O?(d=a[O],f||(d.fa=!1)):(d=new nS(d,this.src,S,!!g,T),d.fa=f,a.push(d)),d};function Zd(a,d){var f=d.type;if(f in a.g){var g=a.g[f],T=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=T)&&Array.prototype.splice.call(g,T,1),S&&(Za(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Xd(a,d,f,g){for(var T=0;T<a.length;++T){var S=a[T];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return T}return-1}var eh="closure_lm_"+(1e6*Math.random()|0),th={};function i_(a,d,f,g,T){if(g&&g.once)return o_(a,d,f,g,T);if(Array.isArray(d)){for(var S=0;S<d.length;S++)i_(a,d[S],f,g,T);return null}return f=sh(f),a&&a[Js]?a.K(d,f,l(g)?!!g.capture:!!g,T):s_(a,d,f,!1,g,T)}function s_(a,d,f,g,T,S){if(!d)throw Error("Invalid event type");var O=l(T)?!!T.capture:!!T,ve=rh(a);if(ve||(a[eh]=ve=new Xa(a)),f=ve.add(d,f,g,O,S),f.proxy)return f;if(g=rS(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)XA||(T=O),T===void 0&&(T=!1),a.addEventListener(d.toString(),g,T);else if(a.attachEvent)a.attachEvent(c_(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function rS(){function a(f){return d.call(a.src,a.listener,f)}let d=iS;return a}function o_(a,d,f,g,T){if(Array.isArray(d)){for(var S=0;S<d.length;S++)o_(a,d[S],f,g,T);return null}return f=sh(f),a&&a[Js]?a.L(d,f,l(g)?!!g.capture:!!g,T):s_(a,d,f,!0,g,T)}function a_(a,d,f,g,T){if(Array.isArray(d))for(var S=0;S<d.length;S++)a_(a,d[S],f,g,T);else g=l(g)?!!g.capture:!!g,f=sh(f),a&&a[Js]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],f=Xd(S,f,g,T),-1<f&&(Za(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=rh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Xd(d,f,g,T)),(f=-1<a?d[a]:null)&&nh(f))}function nh(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Js])Zd(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(c_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=rh(d))?(Zd(f,a),f.h==0&&(f.src=null,d[eh]=null)):Za(a)}}}function c_(a){return a in th?th[a]:th[a]="on"+a}function iS(a,d){if(a.da)a=!0;else{d=new Ys(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&nh(a),a=f.call(g,d)}return a}function rh(a){return a=a[eh],a instanceof Xa?a:null}var ih="__closure_events_fn_"+(1e9*Math.random()>>>0);function sh(a){return typeof a=="function"?a:(a[ih]||(a[ih]=function(d){return a.handleEvent(d)}),a[ih])}function Qe(){$n.call(this),this.i=new Xa(this),this.M=this,this.F=null}b(Qe,$n),Qe.prototype[Js]=!0,Qe.prototype.removeEventListener=function(a,d,f,g){a_(this,a,d,f,g)};function nt(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Ke(d,a);else if(d instanceof Ke)d.target=d.target||a;else{var T=d;d=new Ke(g,a),w(d,T)}if(T=!0,f)for(var S=f.length-1;0<=S;S--){var O=d.g=f[S];T=ec(O,g,!0,d)&&T}if(O=d.g=a,T=ec(O,g,!0,d)&&T,T=ec(O,g,!1,d)&&T,f)for(S=0;S<f.length;S++)O=d.g=f[S],T=ec(O,g,!1,d)&&T}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)Za(f[g]);delete a.g[d],a.h--}}this.F=null},Qe.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},Qe.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function ec(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,S=0;S<d.length;++S){var O=d[S];if(O&&!O.da&&O.capture==f){var ve=O.listener,$e=O.ha||O.src;O.fa&&Zd(a.i,O),T=ve.call($e,g)!==!1&&T}}return T&&!g.defaultPrevented}function u_(a,d,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function l_(a){a.g=u_(()=>{a.g=null,a.i&&(a.i=!1,l_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class sS extends $n{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:l_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zs(a){$n.call(this),this.h=a,this.g={}}b(Zs,$n);var d_=[];function h_(a){Q(a.g,function(d,f){this.g.hasOwnProperty(f)&&nh(d)},a),a.g={}}Zs.prototype.N=function(){Zs.aa.N.call(this),h_(this)},Zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oh=c.JSON.stringify,oS=c.JSON.parse,aS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function ah(){}ah.prototype.h=null;function f_(a){return a.h||(a.h=a.i())}function p_(){}var Xs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ch(){Ke.call(this,"d")}b(ch,Ke);function uh(){Ke.call(this,"c")}b(uh,Ke);var Ir={},g_=null;function tc(){return g_=g_||new Qe}Ir.La="serverreachability";function m_(a){Ke.call(this,Ir.La,a)}b(m_,Ke);function eo(a){let d=tc();nt(d,new m_(d))}Ir.STAT_EVENT="statevent";function y_(a,d){Ke.call(this,Ir.STAT_EVENT,a),this.stat=d}b(y_,Ke);function rt(a){let d=tc();nt(d,new y_(d,a))}Ir.Ma="timingevent";function v_(a,d){Ke.call(this,Ir.Ma,a),this.size=d}b(v_,Ke);function to(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function no(){this.g=!0}no.prototype.xa=function(){this.g=!1};function cS(a,d,f,g,T,S){a.info(function(){if(a.g)if(S)for(var O="",ve=S.split("&"),$e=0;$e<ve.length;$e++){var fe=ve[$e].split("=");if(1<fe.length){var Ye=fe[0];fe=fe[1];var Je=Ye.split("_");O=2<=Je.length&&Je[1]=="type"?O+(Ye+"="+fe+"&"):O+(Ye+"=redacted&")}}else O=null;else O=S;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+O})}function uS(a,d,f,g,T,S,O){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+S+" "+O})}function mi(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+dS(a,f)+(g?" "+g:"")})}function lS(a,d){a.info(function(){return"TIMEOUT: "+d})}no.prototype.info=function(){};function dS(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var S=T[0];if(S!="noop"&&S!="stop"&&S!="close")for(var O=1;O<T.length;O++)T[O]=""}}}}return oh(f)}catch{return d}}var nc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},__={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lh;function rc(){}b(rc,ah),rc.prototype.g=function(){return new XMLHttpRequest},rc.prototype.i=function(){return{}},lh=new rc;function Hn(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new Zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new I_}function I_(){this.i=null,this.g="",this.h=!1}var w_={},dh={};function hh(a,d,f){a.L=1,a.v=ac(_n(d)),a.m=f,a.P=!0,E_(a,null)}function E_(a,d){a.F=Date.now(),ic(a),a.A=_n(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),F_(f.i,"t",g),a.C=0,f=a.j.J,a.h=new I_,a.g=eI(a.j,f?d:null,!a.m),0<a.O&&(a.M=new sS(m(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(d_[0]=T.toString()),T=d_);for(var S=0;S<T.length;S++){var O=i_(f,T[S],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),eo(),cS(a.i,a.u,a.A,a.l,a.R,a.m)}Hn.prototype.ca=function(a){a=a.target;let d=this.M;d&&In(a)==3?d.j():this.Y(a)},Hn.prototype.Y=function(a){try{if(a==this.g)e:{let Je=In(this.g);var d=this.g.Ba();let _i=this.g.Z();if(!(3>Je)&&(Je!=3||this.g&&(this.h.h||this.g.oa()||H_(this.g)))){this.J||Je!=4||d==7||(d==8||0>=_i?eo(3):eo(2)),fh(this);var f=this.g.Z();this.X=f;t:if(D_(this)){var g=H_(this.g);a="";var T=g.length,S=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wr(this),ro(this);var O="";break t}this.h.i=new c.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==T-1)});g.length=0,this.h.g+=a,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,uS(this.i,this.u,this.A,this.l,this.R,Je,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,$e=this.g;if((ve=$e.g?$e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(ve)){var fe=ve;break t}}fe=null}if(f=fe)mi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ph(this,f);else{this.o=!1,this.s=3,rt(12),wr(this),ro(this);break e}}if(this.P){f=!0;let Ut;for(;!this.J&&this.C<O.length;)if(Ut=hS(this,O),Ut==dh){Je==4&&(this.s=4,rt(14),f=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==w_){this.s=4,rt(15),mi(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else mi(this.i,this.l,Ut,null),ph(this,Ut);if(D_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||O.length!=0||this.h.h||(this.s=1,rt(16),f=!1),this.o=this.o&&f,!f)mi(this.i,this.l,O,"[Invalid Chunked Response]"),wr(this),ro(this);else if(0<O.length&&!this.W){this.W=!0;var Ye=this.j;Ye.g==this&&Ye.ba&&!Ye.M&&(Ye.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Ih(Ye),Ye.M=!0,rt(11))}}else mi(this.i,this.l,O,null),ph(this,O);Je==4&&wr(this),this.o&&!this.J&&(Je==4?Y_(this.j,this):(this.o=!1,ic(this)))}else RS(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),wr(this),ro(this)}}}catch{}finally{}};function D_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function hS(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?dh:(f=Number(d.substring(f,g)),isNaN(f)?w_:(g+=1,g+f>d.length?dh:(d=d.slice(g,g+f),a.C=g+f,d)))}Hn.prototype.cancel=function(){this.J=!0,wr(this)};function ic(a){a.S=Date.now()+a.I,T_(a,a.I)}function T_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=to(m(a.ba,a),d)}function fh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Hn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(lS(this.i,this.A),this.L!=2&&(eo(),rt(17)),wr(this),this.s=2,ro(this)):T_(this,this.S-a)};function ro(a){a.j.G==0||a.J||Y_(a.j,a)}function wr(a){fh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,h_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function ph(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||gh(f.h,a))){if(!a.K&&gh(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)hc(f),lc(f);else break e;_h(f),rt(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=to(m(f.Za,f),6e3));if(1>=A_(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Dr(f,11)}else if((a.K||f.g==a)&&hc(f),!B(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let fe=T[d];if(f.T=fe[0],fe=fe[1],f.G==2)if(fe[0]=="c"){f.K=fe[1],f.ia=fe[2];let Ye=fe[3];Ye!=null&&(f.la=Ye,f.j.info("VER="+f.la));let Je=fe[4];Je!=null&&(f.Aa=Je,f.j.info("SVER="+f.Aa));let _i=fe[5];_i!=null&&typeof _i=="number"&&0<_i&&(g=1.5*_i,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Ut=a.g;if(Ut){let pc=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pc){var S=g.h;S.g||pc.indexOf("spdy")==-1&&pc.indexOf("quic")==-1&&pc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(mh(S,S.h),S.h=null))}if(g.D){let wh=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;wh&&(g.ya=wh,De(g.I,g.D,wh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=a;if(g.qa=X_(g,g.J?g.ia:null,g.W),O.K){S_(g.h,O);var ve=O,$e=g.L;$e&&(ve.I=$e),ve.B&&(fh(ve),ic(ve)),g.g=O}else K_(g);0<f.i.length&&dc(f)}else fe[0]!="stop"&&fe[0]!="close"||Dr(f,7);else f.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Dr(f,7):vh(f):fe[0]!="noop"&&f.l&&f.l.ta(fe),f.v=0)}}eo(4)}catch{}}var fS=class{constructor(a,d){this.g=a,this.map=d}};function b_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function C_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function A_(a){return a.h?1:a.g?a.g.size:0}function gh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function mh(a,d){a.g?a.g.add(d):a.h=d}function S_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}b_.prototype.cancel=function(){if(this.i=R_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function R_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return M(a.i)}function pS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function gS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function M_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=gS(a),g=pS(a),T=g.length,S=0;S<T;S++)d.call(void 0,g[S],f&&f[S],a)}var N_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mS(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),T=null;if(0<=g){var S=a[f].substring(0,g);T=a[f].substring(g+1)}else S=a[f];d(S,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Er(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Er){this.h=a.h,sc(this,a.j),this.o=a.o,this.g=a.g,oc(this,a.s),this.l=a.l;var d=a.i,f=new oo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),x_(this,f),this.m=a.m}else a&&(d=String(a).match(N_))?(this.h=!1,sc(this,d[1]||"",!0),this.o=io(d[2]||""),this.g=io(d[3]||"",!0),oc(this,d[4]),this.l=io(d[5]||"",!0),x_(this,d[6]||"",!0),this.m=io(d[7]||"")):(this.h=!1,this.i=new oo(null,this.h))}Er.prototype.toString=function(){var a=[],d=this.j;d&&a.push(so(d,P_,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(so(d,P_,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(so(f,f.charAt(0)=="/"?_S:vS,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",so(f,wS)),a.join("")};function _n(a){return new Er(a)}function sc(a,d,f){a.j=f?io(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function oc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function x_(a,d,f){d instanceof oo?(a.i=d,ES(a.i,a.h)):(f||(d=so(d,IS)),a.i=new oo(d,a.h))}function De(a,d,f){a.i.set(d,f)}function ac(a){return De(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function io(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function so(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,yS),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function yS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var P_=/[#\/\?@]/g,vS=/[#\?:]/g,_S=/[#\?]/g,IS=/[#\?@]/g,wS=/#/g;function oo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function zn(a){a.g||(a.g=new Map,a.h=0,a.i&&mS(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=oo.prototype,n.add=function(a,d){zn(this),this.i=null,a=yi(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function O_(a,d){zn(a),d=yi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function k_(a,d){return zn(a),d=yi(a,d),a.g.has(d)}n.forEach=function(a,d){zn(this),this.g.forEach(function(f,g){f.forEach(function(T){a.call(d,T,g,this)},this)},this)},n.na=function(){zn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=a[g];for(let S=0;S<T.length;S++)f.push(d[g])}return f},n.V=function(a){zn(this);let d=[];if(typeof a=="string")k_(this,a)&&(d=d.concat(this.g.get(yi(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},n.set=function(a,d){return zn(this),this.i=null,a=yi(this,a),k_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function F_(a,d,f){O_(a,d),0<f.length&&(a.i=null,a.g.set(yi(a,d),M(f)),a.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var T=S;O[g]!==""&&(T+="="+encodeURIComponent(String(O[g]))),a.push(T)}}return this.i=a.join("&")};function yi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function ES(a,d){d&&!a.j&&(zn(a),a.i=null,a.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(O_(this,g),F_(this,T,f))},a)),a.j=d}function DS(a,d){let f=new no;if(c.Image){let g=new Image;g.onload=v(qn,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(qn,f,"TestLoadImage: error",!1,d,g),g.onabort=v(qn,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(qn,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function TS(a,d){let f=new no,g=new AbortController,T=setTimeout(()=>{g.abort(),qn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(T),S.ok?qn(f,"TestPingServer: ok",!0,d):qn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),qn(f,"TestPingServer: error",!1,d)})}function qn(a,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function bS(){this.g=new aS}function CS(a,d,f){let g=f||"";try{M_(a,function(T,S){let O=T;l(T)&&(O=oh(T)),d.push(g+S+"="+encodeURIComponent(O))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function ao(a){this.l=a.Ub||null,this.j=a.eb||!1}b(ao,ah),ao.prototype.g=function(){return new cc(this.l,this.j)},ao.prototype.i=function(a){return function(){return a}}({});function cc(a,d){Qe.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(cc,Qe),n=cc.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,uo(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,co(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,uo(this)),this.g&&(this.readyState=3,uo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;L_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function L_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?co(this):uo(this),this.readyState==3&&L_(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,co(this))},n.Qa=function(a){this.g&&(this.response=a,co(this))},n.ga=function(){this.g&&co(this)};function co(a){a.readyState=4,a.l=null,a.j=null,a.v=null,uo(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function uo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(cc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function V_(a){let d="";return Q(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function yh(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=V_(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):De(a,d,f))}function Ae(a){Qe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ae,Qe);var AS=/^https?$/i,SS=["POST","PUT"];n=Ae.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lh.g(),this.v=this.o?f_(this.o):f_(lh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){U_(this,S);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(SS,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,O]of f)this.g.setRequestHeader(S,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$_(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){U_(this,S)}};function U_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,j_(a),uc(a)}function j_(a){a.A||(a.A=!0,nt(a,"complete"),nt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,nt(this,"complete"),nt(this,"abort"),uc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uc(this,!0)),Ae.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?B_(this):this.bb())},n.bb=function(){B_(this)};function B_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||In(a)!=4||a.Z()!=2)){if(a.u&&In(a)==4)u_(a.Ea,0,a);else if(nt(a,"readystatechange"),In(a)==4){a.h=!1;try{let O=a.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var T=String(a.D).match(N_)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),g=!AS.test(T?T.toLowerCase():"")}f=g}if(f)nt(a,"complete"),nt(a,"success");else{a.m=6;try{var S=2<In(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",j_(a)}}finally{uc(a)}}}}function uc(a,d){if(a.g){$_(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||nt(a,"ready");try{f.onreadystatechange=g}catch{}}}function $_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function In(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),oS(d)}};function H_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function RS(a){let d={};a=(a.g&&2<=In(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(B(a[g]))continue;var f=D(a[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[T]||[];d[T]=S,S.push(f)}E(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lo(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function z_(a){this.Aa=0,this.i=[],this.j=new no,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lo("baseRetryDelayMs",5e3,a),this.cb=lo("retryDelaySeedMs",1e4,a),this.Wa=lo("forwardChannelMaxRetries",2,a),this.wa=lo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new b_(a&&a.concurrentRequestLimit),this.Da=new bS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=z_.prototype,n.la=8,n.G=1,n.connect=function(a,d,f,g){rt(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=X_(this,null,this.W),dc(this)};function vh(a){if(q_(a),a.G==3){var d=a.U++,f=_n(a.I);if(De(f,"SID",a.K),De(f,"RID",d),De(f,"TYPE","terminate"),ho(a,f),d=new Hn(a,a.j,d),d.L=2,d.v=ac(_n(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=eI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ic(d)}Z_(a)}function lc(a){a.g&&(Ih(a),a.g.cancel(),a.g=null)}function q_(a){lc(a),a.u&&(c.clearTimeout(a.u),a.u=null),hc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function dc(a){if(!C_(a.h)&&!a.s){a.s=!0;var d=a.Ga;Ks||r_(),Qs||(Ks(),Qs=!0),Jd.add(d,a),a.B=0}}function MS(a,d){return A_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=to(m(a.Ga,a,d),J_(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new Hn(this,this.j,a),S=this.o;if(this.S&&(S?(S=y(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(T.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=W_(this,T,d),f=_n(this.I),De(f,"RID",a),De(f,"CVER",22),this.D&&De(f,"X-HTTP-Session-Id",this.D),ho(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(V_(S)))+"&"+d:this.m&&yh(f,this.m,S)),mh(this.h,T),this.Ua&&De(f,"TYPE","init"),this.P?(De(f,"$req",d),De(f,"SID","null"),T.T=!0,hh(T,f,null)):hh(T,f,d),this.G=2}}else this.G==3&&(a?G_(this,a):this.i.length==0||C_(this.h)||G_(this))};function G_(a,d){var f;d?f=d.l:f=a.U++;let g=_n(a.I);De(g,"SID",a.K),De(g,"RID",f),De(g,"AID",a.T),ho(a,g),a.m&&a.o&&yh(g,a.m,a.o),f=new Hn(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=W_(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),mh(a.h,f),hh(f,g,d)}function ho(a,d){a.H&&Q(a.H,function(f,g){De(d,g,f)}),a.l&&M_({},function(f,g){De(d,g,f)})}function W_(a,d,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var T=a.i;let S=-1;for(;;){let O=["count="+f];S==-1?0<f?(S=T[0].g,O.push("ofs="+S)):S=0:O.push("ofs="+S);let ve=!0;for(let $e=0;$e<f;$e++){let fe=T[$e].g,Ye=T[$e].map;if(fe-=S,0>fe)S=Math.max(0,T[$e].g-100),ve=!1;else try{CS(Ye,O,"req"+fe+"_")}catch{g&&g(Ye)}}if(ve){g=O.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function K_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Ks||r_(),Qs||(Ks(),Qs=!0),Jd.add(d,a),a.v=0}}function _h(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=to(m(a.Fa,a),J_(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,Q_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=to(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),lc(this),Q_(this))};function Ih(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Q_(a){a.g=new Hn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=_n(a.qa);De(d,"RID","rpc"),De(d,"SID",a.K),De(d,"AID",a.T),De(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&De(d,"TO",a.ja),De(d,"TYPE","xmlhttp"),ho(a,d),a.m&&a.o&&yh(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=ac(_n(d)),f.m=null,f.P=!0,E_(f,a)}n.Za=function(){this.C!=null&&(this.C=null,lc(this),_h(this),rt(19))};function hc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Y_(a,d){var f=null;if(a.g==d){hc(a),Ih(a),a.g=null;var g=2}else if(gh(a.h,d))f=d.D,S_(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=a.B;g=tc(),nt(g,new v_(g,f)),dc(a)}else K_(a);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&MS(a,d)||g==2&&_h(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),T){case 1:Dr(a,5);break;case 4:Dr(a,10);break;case 3:Dr(a,6);break;default:Dr(a,2)}}}function J_(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function Dr(a,d){if(a.j.info("Error code "+d),d==2){var f=m(a.fb,a),g=a.Xa;let T=!g;g=new Er(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||sc(g,"https"),ac(g),T?DS(g.toString(),f):TS(g.toString(),f)}else rt(2);a.G=0,a.l&&a.l.sa(d),Z_(a),q_(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Z_(a){if(a.G=0,a.ka=[],a.l){let d=R_(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function X_(a,d,f){var g=f instanceof Er?_n(f):new Er(f);if(g.g!="")d&&(g.g=d+"."+g.g),oc(g,g.s);else{var T=c.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var S=new Er(null);g&&sc(S,g),d&&(S.g=d),T&&oc(S,T),f&&(S.l=f),g=S}return f=a.D,d=a.ya,f&&d&&De(g,f,d),De(g,"VER",a.la),ho(a,g),g}function eI(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ae(new ao({eb:f})):new Ae(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function tI(){}n=tI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function fc(){}fc.prototype.g=function(a,d){return new ft(a,d)};function ft(a,d){Qe.call(this),this.g=new z_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!B(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!B(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new vi(this)}b(ft,Qe),ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ft.prototype.close=function(){vh(this.g)},ft.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=oh(a),a=f);d.i.push(new fS(d.Ya++,a)),d.G==3&&dc(d)},ft.prototype.N=function(){this.g.l=null,delete this.j,vh(this.g),delete this.g,ft.aa.N.call(this)};function nI(a){ch.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}b(nI,ch);function rI(){uh.call(this),this.status=1}b(rI,uh);function vi(a){this.g=a}b(vi,tI),vi.prototype.ua=function(){nt(this.g,"a")},vi.prototype.ta=function(a){nt(this.g,new nI(a))},vi.prototype.sa=function(a){nt(this.g,new rI)},vi.prototype.ra=function(){nt(this.g,"b")},fc.prototype.createWebChannel=fc.prototype.g,ft.prototype.send=ft.prototype.o,ft.prototype.open=ft.prototype.m,ft.prototype.close=ft.prototype.close,$m=Fn.createWebChannelTransport=function(){return new fc},Bm=Fn.getStatEventTarget=function(){return tc()},jm=Fn.Event=Ir,Yl=Fn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nc.NO_ERROR=0,nc.TIMEOUT=8,nc.HTTP_ERROR=6,Da=Fn.ErrorCode=nc,__.COMPLETE="complete",Um=Fn.EventType=__,p_.EventType=Xs,Xs.OPEN="a",Xs.CLOSE="b",Xs.ERROR="c",Xs.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,Is=Fn.WebChannel=p_,NU=Fn.FetchXmlHttpFactory=ao,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,Vm=Fn.XhrIo=Ae}).apply(typeof Ql<"u"?Ql:typeof self<"u"?self:typeof window<"u"?window:{});var SC="@firebase/firestore";var Be=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");var Bs="10.14.0";var ai=new ur("@firebase/firestore");function Ta(){return ai.logLevel}function L(n,...e){if(ai.logLevel<=ce.DEBUG){let t=e.map(Tv);ai.debug(`Firestore (${Bs}): ${n}`,...t)}}function Un(n,...e){if(ai.logLevel<=ce.ERROR){let t=e.map(Tv);ai.error(`Firestore (${Bs}): ${n}`,...t)}}function As(n,...e){if(ai.logLevel<=ce.WARN){let t=e.map(Tv);ai.warn(`Firestore (${Bs}): ${n}`,...t)}}function Tv(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function q(n="Unexpected state"){let e=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+n;throw Un(e),new Error(e)}function ye(n,e){n||q()}function K(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends Ft{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ln=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var td=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Wm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Be.UNAUTHENTICATED))}shutdown(){}},Km=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Qm=class{constructor(e){this.t=e,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ye(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),s=new Ln;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ln,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>A(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ln)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new td(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new Be(e)}},Ym=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Jm=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Ym(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Zm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Xm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ye(this.o===void 0);let r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ye(typeof t.token=="string"),this.R=t.token,new Zm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function xU(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var nd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=xU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function pe(n,e){return n<e?-1:n>e?1:0}function Ss(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var We=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new U(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new U(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new U(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Z=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new We(0,0))}static max(){return new n(new We(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var rd=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&q(),r===void 0?r=e.length-t:r>e.length-t&&q(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Me=class n extends rd{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},PU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ct=class n extends rd{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return PU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new U(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new U(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new U(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var H=class n{constructor(e){this.path=e}static fromPath(e){return new n(Me.fromString(e))}static fromName(e){return new n(Me.fromString(e).popFirst(5))}static empty(){return new n(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Me.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Me(e.slice()))}};var ey=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};ey.UNKNOWN_ID=-1;function OU(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new We(t+1,0):new We(t,r));return new ci(i,H.empty(),e)}function kU(n){return new ci(n.readTime,n.key,-1)}var ci=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Z.min(),H.empty(),-1)}static max(){return new n(Z.max(),H.empty(),-1)}};function FU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=H.comparator(n.documentKey,e.documentKey),t!==0?t:pe(n.largestBatchId,e.largestBatchId))}var LU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ty=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function $a(n){return A(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==LU)throw n;L("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;t(e[l]).next(h=>{o[l]=h,++c,c===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function VU(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ha(n){return n.name==="IndexedDbTransactionError"}var a0=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function xd(n){return n==null}function Ma(n){return n===0&&1/n==-1/0}function UU(n){return typeof n=="number"&&Number.isInteger(n)&&!Ma(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var jU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],m8=[...jU,"documentOverlays"],BU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$U=BU,HU=[...$U,"indexConfiguration","indexState","indexEntries"];var y8=[...HU,"globals"];function RC(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function c0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ne=class n{constructor(e,t){this.comparator=e,this.root=t||hn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ts(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ts(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ts(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ts(this.root,e,this.comparator,!0)}},Ts=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},hn=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();let e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}};hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(e,t,r,i,s){return this}insert(e,t,r){return new hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var et=class n{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new id(this.data.getIterator())}getIteratorFrom(e){return new id(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},id=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Vt=class n{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new n([])}unionWith(e){let t=new et(Ct.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ss(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var sd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var tt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sd("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tt.EMPTY_BYTE_STRING=new tt("");var zU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jn(n){if(ye(!!n),typeof n=="string"){let e=0,t=zU.exec(n);if(ye(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(n.seconds),nanos:be(n.nanos)}}function be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mr(n){return typeof n=="string"?tt.fromBase64String(n):tt.fromUint8Array(n)}function bv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Cv(n){let e=n.mapValue.fields.__previous_value__;return bv(e)?Cv(e):e}function Na(n){let e=jn(n.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}var ny=class{constructor(e,t,r,i,s,o,c,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},od=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Jl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ui(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bv(n)?4:l0(n)?9007199254740991:u0(n)?10:11:q()}function gn(n,e){if(n===e)return!0;let t=ui(n);if(t!==ui(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Na(n).isEqual(Na(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=jn(i.timestampValue),c=jn(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return mr(i.bytesValue).isEqual(mr(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return be(i.geoPointValue.latitude)===be(s.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return be(i.integerValue)===be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=be(i.doubleValue),c=be(s.doubleValue);return o===c?Ma(o)===Ma(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return Ss(n.arrayValue.values||[],e.arrayValue.values||[],gn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(RC(o)!==RC(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!gn(o[u],c[u])))return!1;return!0}(n,e);default:return q()}}function xa(n,e){return(n.values||[]).find(t=>gn(t,e))!==void 0}function Rs(n,e){if(n===e)return 0;let t=ui(n),r=ui(e);if(t!==r)return pe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return pe(n.booleanValue,e.booleanValue);case 2:return function(s,o){let c=be(s.integerValue||s.doubleValue),u=be(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return MC(n.timestampValue,e.timestampValue);case 4:return MC(Na(n),Na(e));case 5:return pe(n.stringValue,e.stringValue);case 6:return function(s,o){let c=mr(s),u=mr(o);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=pe(c[l],u[l]);if(h!==0)return h}return pe(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let c=pe(be(s.latitude),be(o.latitude));return c!==0?c:pe(be(s.longitude),be(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return NC(n.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,h;let p=s.fields||{},m=o.fields||{},v=(c=p.value)===null||c===void 0?void 0:c.arrayValue,b=(u=m.value)===null||u===void 0?void 0:u.arrayValue,M=pe(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=b?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:NC(v,b)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Jl.mapValue&&o===Jl.mapValue)return 0;if(s===Jl.mapValue)return 1;if(o===Jl.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=pe(u[p],h[p]);if(m!==0)return m;let v=Rs(c[u[p]],l[h[p]]);if(v!==0)return v}return pe(u.length,h.length)}(n.mapValue,e.mapValue);default:throw q()}}function MC(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return pe(n,e);let t=jn(n),r=jn(e),i=pe(t.seconds,r.seconds);return i!==0?i:pe(t.nanos,r.nanos)}function NC(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Rs(t[i],r[i]);if(s)return s}return pe(t.length,r.length)}function Ms(n){return ry(n)}function ry(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=jn(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return mr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return H.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=ry(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${ry(t.fields[o])}`;return i+"}"}(n.mapValue):q()}function iy(n){return!!n&&"integerValue"in n}function Av(n){return!!n&&"arrayValue"in n}function xC(n){return!!n&&"nullValue"in n}function PC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xl(n){return!!n&&"mapValue"in n}function u0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ca(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return fi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ca(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ca(n.arrayValue.values[t]);return e}return Object.assign({},n)}function l0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var bt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Xl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ca(t)}setAll(e){let t=Ct.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}o?r[c.lastSegment()]=Ca(o):i.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Xl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Xl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){fi(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Ca(this.value))}};function d0(n){let e=[];return fi(n.fields,(t,r)=>{let i=new Ct([t]);if(Xl(r)){let s=d0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Vt(e)}var Xt=class n{constructor(e,t,r,i,s,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new n(e,0,Z.min(),Z.min(),Z.min(),bt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Z.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Z.min(),Z.min(),bt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Z.min(),Z.min(),bt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ns=class{constructor(e,t){this.position=e,this.inclusive=t}};function OC(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),t.key):r=Rs(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function kC(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gn(n.position[t],e.position[t]))return!1;return!0}var xs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function qU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ad=class{},Ue=class n extends ad{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new oy(e,t,r):t==="array-contains"?new uy(e,r):t==="in"?new ly(e,r):t==="not-in"?new dy(e,r):t==="array-contains-any"?new hy(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ay(e,r):new cy(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Rs(t,this.value)):t!==null&&ui(this.value)===ui(t)&&this.matchesComparison(Rs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},mn=class n extends ad{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return h0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function h0(n){return n.op==="and"}function f0(n){return GU(n)&&h0(n)}function GU(n){for(let e of n.filters)if(e instanceof mn)return!1;return!0}function sy(n){if(n instanceof Ue)return n.field.canonicalString()+n.op.toString()+Ms(n.value);if(f0(n))return n.filters.map(e=>sy(e)).join(",");{let e=n.filters.map(t=>sy(t)).join(",");return`${n.op}(${e})`}}function p0(n,e){return n instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.field.isEqual(i.field)&&gn(r.value,i.value)}(n,e):n instanceof mn?function(r,i){return i instanceof mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&p0(o,i.filters[c]),!0):!1}(n,e):void q()}function g0(n){return n instanceof Ue?function(t){return`${t.field.canonicalString()} ${t.op} ${Ms(t.value)}`}(n):n instanceof mn?function(t){return t.op.toString()+" {"+t.getFilters().map(g0).join(" ,")+"}"}(n):"Filter"}var oy=class extends Ue{constructor(e,t,r){super(e,t,r),this.key=H.fromName(r.referenceValue)}matches(e){let t=H.comparator(e.key,this.key);return this.matchesComparison(t)}},ay=class extends Ue{constructor(e,t){super(e,"in",t),this.keys=m0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},cy=class extends Ue{constructor(e,t){super(e,"not-in",t),this.keys=m0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function m0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>H.fromName(r.referenceValue))}var uy=class extends Ue{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Av(t)&&xa(t.arrayValue,this.value)}},ly=class extends Ue{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&xa(this.value.arrayValue,t)}},dy=class extends Ue{constructor(e,t){super(e,"not-in",t)}matches(e){if(xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!xa(this.value.arrayValue,t)}},hy=class extends Ue{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Av(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xa(this.value.arrayValue,r))}};var fy=class{constructor(e,t=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function FC(n,e=null,t=[],r=[],i=null,s=null,o=null){return new fy(n,e,t,r,i,s,o)}function Sv(n){let e=K(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>sy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),xd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ms(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ms(r)).join(",")),e.ue=t}return e.ue}function Rv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!qU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!p0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!kC(n.startAt,e.startAt)&&kC(n.endAt,e.endAt)}function py(n){return H.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ps=class{constructor(e,t=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function WU(n,e,t,r,i,s,o,c){return new Ps(n,e,t,r,i,s,o,c)}function Mv(n){return new Ps(n)}function LC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function KU(n){return n.collectionGroup!==null}function Aa(n){let e=K(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new et(Ct.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new xs(s,r))}),t.has(Ct.keyField().canonicalString())||e.ce.push(new xs(Ct.keyField(),r))}return e.ce}function fn(n){let e=K(n);return e.le||(e.le=QU(e,Aa(n))),e.le}function QU(n,e){if(n.limitType==="F")return FC(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new xs(i.field,s)});let t=n.endAt?new Ns(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ns(n.startAt.position,n.startAt.inclusive):null;return FC(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function gy(n,e,t){return new Ps(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pd(n,e){return Rv(fn(n),fn(e))&&n.limitType===e.limitType}function y0(n){return`${Sv(fn(n))}|lt:${n.limitType}`}function ws(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>g0(i)).join(", ")}]`),xd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ms(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ms(i)).join(",")),`Target(${r})`}(fn(n))}; limitType=${n.limitType})`}function Od(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of Aa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=OC(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,Aa(r),i)||r.endAt&&!function(o,c,u){let l=OC(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,Aa(r),i))}(n,e)}function YU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function v0(n){return(e,t)=>{let r=!1;for(let i of Aa(n)){let s=JU(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function JU(n,e,t){let r=n.field.isKeyField()?H.comparator(e.key,t.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?Rs(u,l):q()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}var yr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fi(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return c0(this.inner)}size(){return this.innerSize}};var ZU=new Ne(H.comparator);function Bn(){return ZU}var _0=new Ne(H.comparator);function ba(...n){let e=_0;for(let t of n)e=e.insert(t.key,t);return e}function I0(n){let e=_0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ii(){return Sa()}function w0(){return Sa()}function Sa(){return new yr(n=>n.toString(),(n,e)=>n.isEqual(e))}var XU=new Ne(H.comparator),ej=new et(H.comparator);function ue(...n){let e=ej;for(let t of n)e=e.add(t);return e}var tj=new et(pe);function nj(){return tj}function Nv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ma(e)?"-0":e}}function E0(n){return{integerValue:""+n}}function rj(n,e){return UU(e)?E0(e):Nv(n,e)}var Os=class{constructor(){this._=void 0}};function ij(n,e,t){return n instanceof ks?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&bv(s)&&(s=Cv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof li?T0(n,e):n instanceof di?b0(n,e):function(i,s){let o=D0(i,s),c=VC(o)+VC(i.Pe);return iy(o)&&iy(i.Pe)?E0(c):Nv(i.serializer,c)}(n,e)}function sj(n,e,t){return n instanceof li?T0(n,e):n instanceof di?b0(n,e):t}function D0(n,e){return n instanceof Fs?function(r){return iy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ks=class extends Os{},li=class extends Os{constructor(e){super(),this.elements=e}};function T0(n,e){let t=C0(e);for(let r of n.elements)t.some(i=>gn(i,r))||t.push(r);return{arrayValue:{values:t}}}var di=class extends Os{constructor(e){super(),this.elements=e}};function b0(n,e){let t=C0(e);for(let r of n.elements)t=t.filter(i=>!gn(i,r));return{arrayValue:{values:t}}}var Fs=class extends Os{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function VC(n){return be(n.integerValue||n.doubleValue)}function C0(n){return Av(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function oj(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof li&&i instanceof li||r instanceof di&&i instanceof di?Ss(r.elements,i.elements,gn):r instanceof Fs&&i instanceof Fs?gn(r.Pe,i.Pe):r instanceof ks&&i instanceof ks}(n.transform,e.transform)}var my=class{constructor(e,t){this.version=e,this.transformResults=t}},Vn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ed(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ls=class{};function A0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Pa(n.key,Vn.none()):new hi(n.key,n.data,Vn.none());{let t=n.data,r=bt.empty(),i=new et(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new yn(n.key,r,new Vt(i.toArray()),Vn.none())}}function aj(n,e,t){n instanceof hi?function(i,s,o){let c=i.value.clone(),u=jC(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof yn?function(i,s,o){if(!ed(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=jC(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(S0(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Ra(n,e,t,r){return n instanceof hi?function(s,o,c,u){if(!ed(s.precondition,o))return c;let l=s.value.clone(),h=BC(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof yn?function(s,o,c,u){if(!ed(s.precondition,o))return c;let l=BC(s.fieldTransforms,u,o),h=o.data;return h.setAll(S0(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(s,o,c){return ed(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,e,t)}function cj(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=D0(r.transform,i||null);s!=null&&(t===null&&(t=bt.empty()),t.set(r.field,s))}return t||null}function UC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ss(r,i,(s,o)=>oj(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var hi=class extends Ls{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},yn=class extends Ls{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function S0(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function jC(n,e,t){let r=new Map;ye(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,sj(o,c,t[i]))}return r}function BC(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,ij(s,o,e))}return r}var Pa=class extends Ls{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},yy=class extends Ls{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var vy=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&aj(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ra(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Ra(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=w0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=t.has(i.key)?null:c;let u=A0(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ue())}isEqual(e){return this.batchId===e.batchId&&Ss(this.mutations,e.mutations,(t,r)=>UC(t,r))&&Ss(this.baseMutations,e.baseMutations,(t,r)=>UC(t,r))}},_y=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ye(e.mutations.length===r.length);let i=function(){return XU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var Iy=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var wy=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ke,de;function uj(n){switch(n){default:return q();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function R0(n){if(n===void 0)return Un("GRPC error has no .code"),N.UNKNOWN;switch(n){case ke.OK:return N.OK;case ke.CANCELLED:return N.CANCELLED;case ke.UNKNOWN:return N.UNKNOWN;case ke.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ke.INTERNAL:return N.INTERNAL;case ke.UNAVAILABLE:return N.UNAVAILABLE;case ke.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ke.NOT_FOUND:return N.NOT_FOUND;case ke.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ke.ABORTED:return N.ABORTED;case ke.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ke.DATA_LOSS:return N.DATA_LOSS;default:return q()}}(de=ke||(ke={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var $C=null;function lj(){return new TextEncoder}var dj=new fr([4294967295,4294967295],0);function HC(n){let e=lj().encode(n),t=new Lm;return t.update(e),new Uint8Array(t.digest())}function zC(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new fr([t,r],0),new fr([i,s],0)]}var Ey=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new si(`Invalid padding: ${t}`);if(r<0)throw new si(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new si(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new si(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=fr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(fr.fromNumber(r)));return i.compare(dj)===1&&(i=new fr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=HC(e),[r,i]=zC(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let t=HC(e),[r,i]=zC(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},si=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var cd=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Oa.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Z.min(),i,new Ne(pe),Bn(),ue())}},Oa=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ue(),ue(),ue())}};var bs=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},ud=class{constructor(e,t){this.targetId=e,this.me=t}},ld=class{constructor(e,t,r=tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},dd=class{constructor(){this.fe=0,this.ge=GC(),this.pe=tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),t=ue(),r=ue();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:q()}}),new Oa(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=GC()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Dy=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Bn(),this.qe=qC(),this.Qe=new Ne(pe)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:q()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(py(s))if(r===0){let o=new H(s.path);this.Ue(t,o,Xt.newNoDocument(o,Z.min()))}else ye(r===1);else{let o=this.Ye(t);if(o!==r){let c=this.Ze(e),u=c?this.Xe(c,e,o):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}$C?.et(function(h,p,m,v,b){var M,R,F,B,$,X;let Te={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Q=p.unchangedNames;return Q&&(Te.bloomFilter={applied:b===0,hashCount:(M=Q?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(B=(F=(R=Q?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&B!==void 0?B:0,padding:(X=($=Q?.bits)===null||$===void 0?void 0:$.padding)!==null&&X!==void 0?X:0,mightContain:E=>{var y;return(y=v?.mightContain(E))!==null&&y!==void 0&&y}}),Te}(o,e.me,this.Le.tt(),c,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,c;try{o=mr(r).toUint8Array()}catch(u){if(u instanceof sd)return As("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Ey(o,i,s)}catch(u){return As(u instanceof si?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&py(c.target)){let u=new H(c.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Xt.newNoDocument(u,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=ue();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new cd(e,t,this.Qe,this.ke,r);return this.ke=Bn(),this.qe=qC(),this.Qe=new Ne(pe),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new dd,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new et(pe),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new dd),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function qC(){return new Ne(H.comparator)}function GC(){return new Ne(H.comparator)}var hj={asc:"ASCENDING",desc:"DESCENDING"},fj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pj={and:"AND",or:"OR"},Ty=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function by(n,e){return n.useProto3Json||xd(e)?e:{value:e}}function hd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gj(n,e){return hd(n,e.toTimestamp())}function pn(n){return ye(!!n),Z.fromTimestamp(function(t){let r=jn(t);return new We(r.seconds,r.nanos)}(n))}function xv(n,e){return Cy(n,e).canonicalString()}function Cy(n,e){let t=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function N0(n){let e=Me.fromString(n);return ye(F0(e)),e}function Ay(n,e){return xv(n.databaseId,e.path)}function Hm(n,e){let t=N0(e);if(t.get(1)!==n.databaseId.projectId)throw new U(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new U(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new H(P0(t))}function x0(n,e){return xv(n.databaseId,e)}function mj(n){let e=N0(n);return e.length===4?Me.emptyPath():P0(e)}function Sy(n){return new Me(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function P0(n){return ye(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function WC(n,e,t){return{name:Ay(n,e),fields:t.value.mapValue.fields}}function yj(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(ye(h===void 0||typeof h=="string"),tt.fromBase64String(h||"")):(ye(h===void 0||h instanceof Buffer||h instanceof Uint8Array),tt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(l){let h=l.code===void 0?N.UNKNOWN:R0(l.code);return new U(h,l.message||"")}(o);t=new ld(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Hm(n,r.document.name),s=pn(r.document.updateTime),o=r.document.createTime?pn(r.document.createTime):Z.min(),c=new bt({mapValue:{fields:r.document.fields}}),u=Xt.newFoundDocument(i,s,o,c),l=r.targetIds||[],h=r.removedTargetIds||[];t=new bs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Hm(n,r.document),s=r.readTime?pn(r.readTime):Z.min(),o=Xt.newNoDocument(i,s),c=r.removedTargetIds||[];t=new bs([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Hm(n,r.document),s=r.removedTargetIds||[];t=new bs([],s,i,null)}else{if(!("filter"in e))return q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new wy(i,s),c=r.targetId;t=new ud(c,o)}}return t}function vj(n,e){let t;if(e instanceof hi)t={update:WC(n,e.key,e.value)};else if(e instanceof Pa)t={delete:Ay(n,e.key)};else if(e instanceof yn)t={update:WC(n,e.key,e.data),updateMask:Aj(e.fieldMask)};else{if(!(e instanceof yy))return q();t={verify:Ay(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof ks)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof li)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof di)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Fs)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw q()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:gj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:q()}(n,e.precondition)),t}function _j(n,e){return n&&n.length>0?(ye(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?pn(i.updateTime):pn(s);return o.isEqual(Z.min())&&(o=pn(s)),new my(o,i.transformResults||[])}(t,e))):[]}function Ij(n,e){return{documents:[x0(n,e.path)]}}function wj(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=x0(n,i);let s=function(l){if(l.length!==0)return k0(mn.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Es(m.field),direction:Tj(m.dir)}}(h))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let c=by(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function Ej(n){let e=mj(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ye(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(p){let m=O0(p);return m instanceof mn&&f0(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(m=>function(b){return new xs(Ds(b.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(t.orderBy));let c=null;t.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,xd(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new Ns(v,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new Ns(v,m)}(t.endAt)),WU(e,i,o,s,c,"F",u,l)}function Dj(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function O0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ds(t.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ds(t.unaryFilter.field);return Ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ds(t.unaryFilter.field);return Ue.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ds(t.unaryFilter.field);return Ue.create(o,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(n):n.fieldFilter!==void 0?function(t){return Ue.create(Ds(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return mn.create(t.compositeFilter.filters.map(r=>O0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q()}}(t.compositeFilter.op))}(n):q()}function Tj(n){return hj[n]}function bj(n){return fj[n]}function Cj(n){return pj[n]}function Es(n){return{fieldPath:n.canonicalString()}}function Ds(n){return Ct.fromServerFormat(n.fieldPath)}function k0(n){return n instanceof Ue?function(t){if(t.op==="=="){if(PC(t.value))return{unaryFilter:{field:Es(t.field),op:"IS_NAN"}};if(xC(t.value))return{unaryFilter:{field:Es(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(PC(t.value))return{unaryFilter:{field:Es(t.field),op:"IS_NOT_NAN"}};if(xC(t.value))return{unaryFilter:{field:Es(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(t.field),op:bj(t.op),value:t.value}}}(n):n instanceof mn?function(t){let r=t.getFilters().map(i=>k0(i));return r.length===1?r[0]:{compositeFilter:{op:Cj(t.op),filters:r}}}(n):q()}function Aj(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function F0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var ka=class n{constructor(e,t,r,i,s=Z.min(),o=Z.min(),c=tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ry=class{constructor(e){this.ct=e}};function Sj(n){let e=Ej({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gy(e,e.limit,"L"):e}var fd=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(be(e.integerValue));else if("doubleValue"in e){let r=be(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Ma(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=jn(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(mr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?l0(e)?this.dt(t,Number.MAX_SAFE_INTEGER):u0(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):q()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(be(c)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),H.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};fd.vt=new fd;var My=class{constructor(){this.un=new Ny}addToCollectionParentIndex(e,t){return this.un.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(ci.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},Ny=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new et(Me.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new et(Me.comparator)).toArray()}};var _8=new Uint8Array(0);var dn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(41943040,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);var Fa=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var xy=class{constructor(){this.changes=new yr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Py=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Oy=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ra(r.mutation,i,Vt.empty(),We.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ue()){let i=ii();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=ba();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=ii();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ue()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,r,i){let s=Bn(),o=Sa(),c=function(){return Sa()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof yn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Ra(h.mutation,l,h.mutation.getFieldMask(),We.now())):o.set(l.key,Vt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),t.forEach((l,h)=>{var p;return c.set(l,new Py(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=Sa(),i=new Ne((o,c)=>o-c),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Vt.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||ue()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=w0();h.forEach(m=>{if(!s.has(m)){let v=A0(t.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):KU(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):P.resolve(ii()),c=-1,u=s;return o.next(l=>P.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:c,changes:I0(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new H(t)).next(r=>{let i=ba();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=ba();return this.indexManager.getCollectionParents(e,s).next(c=>P.forEach(c,u=>{let l=function(p,m){return new Ps(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,Xt.newInvalidDocument(h)))});let c=ba();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Ra(h.mutation,l,Vt.empty(),We.now()),Od(t,l)&&(c=c.insert(u,l))}),c})}};var ky=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return P.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:pn(i.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:Sj(i.bundledQuery),readTime:pn(i.readTime)}}(t)),P.resolve()}};var Fy=class{constructor(){this.overlays=new Ne(H.comparator),this.Ir=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ii();return P.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=ii(),s=t.length+1,o=new H(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ne((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=ii(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=ii(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return P.resolve(c)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Iy(t,r));let s=this.Ir.get(t);s===void 0&&(s=ue(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var Ly=class{constructor(){this.sessionToken=tt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var La=class{constructor(){this.Tr=new et(Fe.Er),this.dr=new et(Fe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Fe(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Fe(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new H(new Me([])),r=new Fe(t,e),i=new Fe(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new H(new Me([])),r=new Fe(t,e),i=new Fe(t,e+1),s=ue();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Fe(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Fe=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return H.comparator(e.key,t.key)||pe(e.wr,t.wr)}static Ar(e,t){return pe(e.wr,t.wr)||H.comparator(e.key,t.key)}};var Vy=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new et(Fe.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new vy(s,t,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Fe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,t){return P.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Fe(t,0),i=new Fe(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new et(pe);return t.forEach(i=>{let s=new Fe(i,0),o=new Fe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;H.isDocumentKey(s)||(s=s.child(""));let o=new Fe(new H(s),0),c=new et(pe);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),P.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ye(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(t.mutations,i=>{let s=new Fe(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Fe(t,0),i=this.br.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Uy=class{constructor(e){this.Mr=e,this.docs=function(){return new Ne(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(t))}getEntries(e,t){let r=Bn();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Bn(),o=t.path,c=new H(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||FU(kU(h),r)<=0||(i.has(h.key)||Od(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,t,r,i){q()}Or(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new jy(this)}getSize(e){return P.resolve(this.size)}},jy=class extends xy{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var By=class{constructor(e){this.persistence=e,this.Nr=new yr(t=>Sv(t),Rv),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Lr=0,this.Br=new La,this.targetCount=0,this.kr=Fa.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),P.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Fa(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.Kn(t),P.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.Br.containsKey(t))}};var $y=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new a0(0),this.Kr=!1,this.Kr=!0,this.$r=new Ly,this.referenceDelegate=e(this),this.Ur=new By(this),this.indexManager=new My,this.remoteDocumentCache=function(i){return new Uy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Ry(t),this.Gr=new ky(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Vy(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);let i=new Hy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},Hy=class extends ty{constructor(e){super(),this.currentSequenceNumber=e}},zy=class n{constructor(e){this.persistence=e,this.Jr=new La,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw q()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),P.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=H.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,Z.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return P.or([()=>P.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var qy=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ue(),i=ue();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var Gy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Wy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Hb()?8:VU(Tt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Gy;return this.Xi(e,t,o).next(c=>{if(s.result=c,this.zi)return this.es(e,t,o,c.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Ta()<=ce.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",ws(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(Ta()<=ce.DEBUG&&L("QueryEngine","Query:",ws(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ta()<=ce.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",ws(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fn(t))):P.resolve())}Yi(e,t){if(LC(t))return P.resolve(null);let r=fn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=gy(t,null,"F"),r=fn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ue(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,c);return this.ns(t,l,o,u.readTime)?this.Yi(e,gy(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return LC(t)||i.isEqual(Z.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?P.resolve(null):(Ta()<=ce.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ws(t)),this.rs(e,o,t,OU(i,-1)).next(c=>c))})}ts(e,t){let r=new et(v0(e));return t.forEach((i,s)=>{Od(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return Ta()<=ce.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",ws(t)),this.Ji.getDocumentsMatchingQuery(e,t,ci.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Ky=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ne(pe),this._s=new yr(s=>Sv(s),Rv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Oy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function Rj(n,e,t,r){return new Ky(n,e,t,r)}function L0(n,e){return A(this,null,function*(){let t=K(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=ue();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function Mj(n,e){let t=K(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,h){let p=l.batch,m=p.keys(),v=P.resolve();return m.forEach(b=>{v=v.next(()=>h.getEntry(u,b)).next(M=>{let R=l.docVersions.get(b);ye(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ue();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function V0(n){let e=K(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Nj(n,e){let t=K(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let c=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;c.push(t.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(s,h.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(tt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,v,h)&&c.push(t.Ur.updateTargetData(s,v))});let u=Bn(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),c.push(xj(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(Z.min())){let h=t.Ur.getLastRemoteSnapshotVersion(s).next(p=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(h)}return P.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.os=i,s))}function xj(n,e,t){let r=ue(),i=ue();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Bn();return t.forEach((c,u)=>{let l=s.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Z.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):L("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function Pj(n,e){let t=K(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Oj(n,e){let t=K(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new ka(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Qy(n,e,t){return A(this,null,function*(){let r=K(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ha(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function KC(n,e,t){let r=K(n),i=Z.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=K(u),m=p._s.get(h);return m!==void 0?P.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,fn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:Z.min(),t?s:ue())).next(c=>(kj(r,YU(e),c),{documents:c,Ts:s})))}function kj(n,e,t){let r=n.us.get(e)||Z.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var pd=class{constructor(){this.activeTargetIds=nj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Yy=class{constructor(){this.so=new pd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new pd,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Jy=class{_o(e){}shutdown(){}};var gd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Zl=null;function zm(){return Zl===null?Zl=function(){return 268435456+Math.round(2147483648*Math.random())}():Zl++,"0x"+Zl.toString(16)}var Fj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Zy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Xe="WebChannelConnection",Xy=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let c=zm(),u=this.xo(t,r.toUriEncodedString());L("RestConnection",`Sending RPC '${t}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(t,u,l,i).then(h=>(L("RestConnection",`Received RPC '${t}' ${c}: `,h),h),h=>{throw As("RestConnection",`RPC '${t}' ${c} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,s,o,c){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=Fj[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=zm();return new Promise((o,c)=>{let u=new Vm;u.setWithCredentials(!0),u.listenOnce(Um.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Da.NO_ERROR:let h=u.getResponseJson();L(Xe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Da.TIMEOUT:L(Xe,`RPC '${e}' ${s} timed out`),c(new U(N.DEADLINE_EXCEEDED,"Request time out"));break;case Da.HTTP_ERROR:let p=u.getStatus();if(L(Xe,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let b=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(F)>=0?F:N.UNKNOWN}(v.status);c(new U(b,v.message))}else c(new U(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new U(N.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{L(Xe,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);L(Xe,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=zm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$m(),c=Bm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=s.join("");L(Xe,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,v=!1,b=new Zy({Io:R=>{v?L(Xe,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(L(Xe,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(Xe,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,F,B)=>{R.listen(F,$=>{try{B($)}catch(X){setTimeout(()=>{throw X},0)}})};return M(p,Is.EventType.OPEN,()=>{v||(L(Xe,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),M(p,Is.EventType.CLOSE,()=>{v||(v=!0,L(Xe,`RPC '${e}' stream ${i} transport closed`),b.So())}),M(p,Is.EventType.ERROR,R=>{v||(v=!0,As(Xe,`RPC '${e}' stream ${i} transport errored:`,R),b.So(new U(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,Is.EventType.MESSAGE,R=>{var F;if(!v){let B=R.data[0];ye(!!B);let $=B,X=$.error||((F=$[0])===null||F===void 0?void 0:F.error);if(X){L(Xe,`RPC '${e}' stream ${i} received error:`,X);let Te=X.status,Q=function(_){let w=ke[_];if(w!==void 0)return R0(w)}(Te),E=X.message;Q===void 0&&(Q=N.INTERNAL,E="Unknown error status: "+Te+" with message "+X.message),v=!0,b.So(new U(Q,E)),p.close()}else L(Xe,`RPC '${e}' stream ${i} received:`,B),b.bo(B)}}),M(c,jm.STAT_EVENT,R=>{R.stat===Yl.PROXY?L(Xe,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Yl.NOPROXY&&L(Xe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}};function qm(){return typeof document<"u"?document:null}function kd(n){return new Ty(n,!0)}var md=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var yd=class{constructor(e,t,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new md(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return A(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return A(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return A(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(Un(t.toString()),Un("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new U(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>A(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ev=class extends yd{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=yj(this.serializer,e),r=function(s){if(!("targetChange"in s))return Z.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?pn(o.readTime):Z.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Sy(this.serializer),t.addTarget=function(s,o){let c,u=o.target;if(c=py(u)?{documents:Ij(s,u)}:{query:wj(s,u)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=M0(s,o.resumeToken);let l=by(s,o.expectedCount);l!==null&&(c.expectedCount=l)}else if(o.snapshotVersion.compareTo(Z.min())>0){c.readTime=hd(s,o.snapshotVersion.toTimestamp());let l=by(s,o.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=Dj(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Sy(this.serializer),t.removeTarget=e,this.a_(t)}},tv=class extends yd{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ye(!!e.streamToken),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=_j(e.writeResults,e.commitTime),r=pn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=Sy(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>vj(this.serializer,r))};this.a_(t)}};var nv=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Cy(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(N.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Cy(t,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},rv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Un(t),this.D_=!1):L("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var iv=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>A(this,null,function*(){pi(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return A(this,null,function*(){let l=K(u);l.L_.add(4),yield za(l),l.q_.set("Unknown"),l.L_.delete(4),yield Fd(l)})}(this))}))}),this.q_=new rv(r,i)}};function Fd(n){return A(this,null,function*(){if(pi(n))for(let e of n.B_)yield e(!0)})}function za(n){return A(this,null,function*(){for(let e of n.B_)yield e(!1)})}function U0(n,e){let t=K(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Fv(t)?kv(t):$s(t).r_()&&Ov(t,e))}function Pv(n,e){let t=K(n),r=$s(t);t.N_.delete(e),r.r_()&&j0(t,e),t.N_.size===0&&(r.r_()?r.o_():pi(t)&&t.q_.set("Unknown"))}function Ov(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$s(n).A_(e)}function j0(n,e){n.Q_.xe(e),$s(n).R_(e)}function kv(n){n.Q_=new Dy({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),$s(n).start(),n.q_.v_()}function Fv(n){return pi(n)&&!$s(n).n_()&&n.N_.size>0}function pi(n){return K(n).L_.size===0}function B0(n){n.Q_=void 0}function Lj(n){return A(this,null,function*(){n.q_.set("Online")})}function Vj(n){return A(this,null,function*(){n.N_.forEach((e,t)=>{Ov(n,e)})})}function Uj(n,e){return A(this,null,function*(){B0(n),Fv(n)?(n.q_.M_(e),kv(n)):n.q_.set("Unknown")})}function jj(n,e,t){return A(this,null,function*(){if(n.q_.set("Online"),e instanceof ld&&e.state===2&&e.cause)try{yield function(i,s){return A(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})}(n,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield vd(n,r)}else if(e instanceof bs?n.Q_.Ke(e):e instanceof ud?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Z.min()))try{let r=yield V0(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(tt.EMPTY_BYTE_STRING,h.snapshotVersion)),j0(s,u);let p=new ka(h.target,u,l,h.sequenceNumber);Ov(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield vd(n,r)}})}function vd(n,e,t){return A(this,null,function*(){if(!Ha(e))throw e;n.L_.add(1),yield za(n),n.q_.set("Offline"),t||(t=()=>V0(n.localStore)),n.asyncQueue.enqueueRetryable(()=>A(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Fd(n)}))})}function $0(n,e){return e().catch(t=>vd(n,t,e))}function Ld(n){return A(this,null,function*(){let e=K(n),t=vr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Bj(e);)try{let i=yield Pj(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,$j(e,i)}catch(i){yield vd(e,i)}H0(e)&&z0(e)})}function Bj(n){return pi(n)&&n.O_.length<10}function $j(n,e){n.O_.push(e);let t=vr(n);t.r_()&&t.V_&&t.m_(e.mutations)}function H0(n){return pi(n)&&!vr(n).n_()&&n.O_.length>0}function z0(n){vr(n).start()}function Hj(n){return A(this,null,function*(){vr(n).p_()})}function zj(n){return A(this,null,function*(){let e=vr(n);for(let t of n.O_)e.m_(t.mutations)})}function qj(n,e,t){return A(this,null,function*(){let r=n.O_.shift(),i=_y.from(r,e,t);yield $0(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ld(n)})}function Gj(n,e){return A(this,null,function*(){e&&vr(n).V_&&(yield function(r,i){return A(this,null,function*(){if(function(o){return uj(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();vr(r).s_(),yield $0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Ld(r)}})}(n,e)),H0(n)&&z0(n)})}function QC(n,e){return A(this,null,function*(){let t=K(n);t.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=pi(t);t.L_.add(3),yield za(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Fd(t)})}function Wj(n,e){return A(this,null,function*(){let t=K(n);e?(t.L_.delete(2),yield Fd(t)):e||(t.L_.add(2),yield za(t),t.q_.set("Unknown"))})}function $s(n){return n.K_||(n.K_=function(t,r,i){let s=K(t);return s.w_(),new ev(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Lj.bind(null,n),Ro:Vj.bind(null,n),mo:Uj.bind(null,n),d_:jj.bind(null,n)}),n.B_.push(e=>A(this,null,function*(){e?(n.K_.s_(),Fv(n)?kv(n):n.q_.set("Unknown")):(yield n.K_.stop(),B0(n))}))),n.K_}function vr(n){return n.U_||(n.U_=function(t,r,i){let s=K(t);return s.w_(),new tv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Hj.bind(null,n),mo:Gj.bind(null,n),f_:zj.bind(null,n),g_:qj.bind(null,n)}),n.B_.push(e=>A(this,null,function*(){e?(n.U_.s_(),yield Ld(n)):(yield n.U_.stop(),n.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var sv=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,c=new n(e,t,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Lv(n,e){if(Un("AsyncQueue",`${e}: ${n}`),Ha(n))return new U(N.UNAVAILABLE,`${e}: ${n}`);throw n}var _d=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||H.comparator(t.key,r.key):(t,r)=>H.comparator(t.key,r.key),this.keyedMap=ba(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Id=class{constructor(){this.W_=new Ne(H.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):q():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Vs=class n{constructor(e,t,r,i,s,o,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new n(e,t,_d.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var ov=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},av=class{constructor(){this.queries=YC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=K(t),s=i.queries;i.queries=YC(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new U(N.ABORTED,"Firestore shutting down"))}};function YC(){return new yr(n=>y0(n),Pd)}function Kj(n,e){return A(this,null,function*(){let t=K(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new ov,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let c=Lv(o,`Initialization of query '${ws(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&Vv(t)})}function Qj(n,e){return A(this,null,function*(){let t=K(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Yj(n,e){let t=K(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&Vv(t)}function Jj(n,e,t){let r=K(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function Vv(n){n.Y_.forEach(e=>{e.next()})}var cv,JC;(JC=cv||(cv={})).ea="default",JC.Cache="cache";var uv=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Vs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==cv.Cache}};var wd=class{constructor(e){this.key=e}},Ed=class{constructor(e){this.key=e}},lv=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=v0(e),this.Ra=new _d(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Id,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=Od(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?b!==M&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(c=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(c=!0)),R&&(v?(o=o.add(v),s=M?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(v,b){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return M(v)-M(b)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Vs(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Id,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Ed(r))}),this.da.forEach(r=>{e.has(r)||t.push(new wd(r))}),t}ba(e){this.Ta=e.Ts,this.da=ue();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Vs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},dv=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},hv=class{constructor(e){this.key=e,this.va=!1}},fv=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new yr(c=>y0(c),Pd),this.Ma=new Map,this.xa=new Set,this.Oa=new Ne(H.comparator),this.Na=new Map,this.La=new La,this.Ba={},this.ka=new Map,this.qa=Fa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Zj(n,e,t=!0){return A(this,null,function*(){let r=Y0(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield q0(r,e,t,!0),i})}function Xj(n,e){return A(this,null,function*(){let t=Y0(n);yield q0(t,e,!0,!1)})}function q0(n,e,t,r){return A(this,null,function*(){let i=yield Oj(n.localStore,fn(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),c;return r&&(c=yield e2(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&U0(n.remoteStore,i),c})}function e2(n,e,t,r,i){return A(this,null,function*(){n.Ka=(p,m,v)=>function(M,R,F,B){return A(this,null,function*(){let $=R.view.ma(F);$.ns&&($=yield KC(M.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,$)));let X=B&&B.targetChanges.get(R.targetId),Te=B&&B.targetMismatches.get(R.targetId)!=null,Q=R.view.applyChanges($,M.isPrimaryClient,X,Te);return XC(M,R.targetId,Q.wa),Q.snapshot})}(n,p,m,v);let s=yield KC(n.localStore,e,!0),o=new lv(e,s.Ts),c=o.ma(s.documents),u=Oa.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=o.applyChanges(c,n.isPrimaryClient,u);XC(n,t,l.wa);let h=new dv(e,t,o);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function t2(n,e,t){return A(this,null,function*(){let r=K(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Pd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Qy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Pv(r.remoteStore,i.targetId),pv(r,i.targetId)}).catch($a))):(pv(r,i.targetId),yield Qy(r.localStore,i.targetId,!0))})}function n2(n,e){return A(this,null,function*(){let t=K(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Pv(t.remoteStore,r.targetId))})}function r2(n,e,t){return A(this,null,function*(){let r=l2(n);try{let i=yield function(o,c){let u=K(o),l=We.now(),h=c.reduce((v,b)=>v.add(b.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Bn(),M=ue();return u.cs.getEntries(v,h).next(R=>{b=R,b.forEach((F,B)=>{B.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,b)).next(R=>{p=R;let F=[];for(let B of c){let $=cj(B,p.get(B.key).overlayedDocument);$!=null&&F.push(new yn(B.key,$,d0($.value.mapValue),Vn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,F,c)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(v,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:I0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Ne(pe)),l=l.insert(c,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,t),yield qa(r,i.changes),yield Ld(r.remoteStore)}catch(i){let s=Lv(i,"Failed to persist write");t.reject(s)}})}function G0(n,e){return A(this,null,function*(){let t=K(n);try{let r=yield Nj(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ye(o.va):i.removedDocuments.size>0&&(ye(o.va),o.va=!1))}),yield qa(t,r,e)}catch(r){yield $a(r)}})}function ZC(n,e,t){let r=K(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=K(o);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(c)&&(l=!0)}),l&&Vv(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function i2(n,e,t){return A(this,null,function*(){let r=K(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ne(H.comparator);o=o.insert(s,Xt.newNoDocument(s,Z.min()));let c=ue().add(s),u=new cd(Z.min(),new Map,new Ne(pe),o,c);yield G0(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Uv(r)}else yield Qy(r.localStore,e,!1).then(()=>pv(r,e,t)).catch($a)})}function s2(n,e){return A(this,null,function*(){let t=K(n),r=e.batch.batchId;try{let i=yield Mj(t.localStore,e);K0(t,r,null),W0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield qa(t,i)}catch(i){yield $a(i)}})}function o2(n,e,t){return A(this,null,function*(){let r=K(n);try{let i=yield function(o,c){let u=K(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(ye(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);K0(r,e,t),W0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield qa(r,i)}catch(i){yield $a(i)}})}function W0(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function K0(n,e,t){let r=K(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function pv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||Q0(n,r)})}function Q0(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Pv(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Uv(n))}function XC(n,e,t){for(let r of t)r instanceof wd?(n.La.addReference(r.key,e),a2(n,r)):r instanceof Ed?(L("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||Q0(n,r.key)):q()}function a2(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(L("SyncEngine","New document in limbo: "+t),n.xa.add(r),Uv(n))}function Uv(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new H(Me.fromString(e)),r=n.qa.next();n.Na.set(r,new hv(t)),n.Oa=n.Oa.insert(t,r),U0(n.remoteStore,new ka(fn(Mv(t.path)),r,"TargetPurposeLimboResolution",a0.oe))}}function qa(n,e,t){return A(this,null,function*(){let r=K(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=qy.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return A(this,null,function*(){let h=K(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>P.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Ha(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),b=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(b);h.os=h.os.insert(m,M)}}})}(r.localStore,s))})}function c2(n,e){return A(this,null,function*(){let t=K(n);if(!t.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield L0(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new U(N.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield qa(t,r.hs)}})}function u2(n,e){let t=K(n),r=t.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let c=t.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function Y0(n){let e=K(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=G0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i2.bind(null,e),e.Ca.d_=Yj.bind(null,e.eventManager),e.Ca.$a=Jj.bind(null,e.eventManager),e}function l2(n){let e=K(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o2.bind(null,e),e}var e0=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return A(this,null,function*(){this.serializer=kd(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return Rj(this.persistence,new Wy,t.initialUser,this.serializer)}Ga(t){return new $y(zy.Zr,this.serializer)}Wa(t){return new Yy}terminate(){return A(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var d2=(()=>{class n{initialize(t,r){return A(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ZC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=c2.bind(null,this.syncEngine),yield Wj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new av}()}createDatastore(t){let r=kd(t.databaseInfo.databaseId),i=function(o){return new Xy(o)}(t.databaseInfo);return function(o,c,u,l){return new nv(o,c,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,c,u){return new iv(i,s,o,c,u)}(this.localStore,this.datastore,t.asyncQueue,r=>ZC(this.syncEngine,r,0),function(){return gd.D()?new gd:new Jy}())}createSyncEngine(t,r){return function(s,o,c,u,l,h,p){let m=new fv(s,o,c,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return A(this,null,function*(){var t,r;yield function(s){return A(this,null,function*(){let o=K(s);L("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield za(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var gv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Un("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var mv=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Be.UNAUTHENTICATED,this.clientId=nd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>A(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>A(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Lv(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Gm(n,e){return A(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>A(this,null,function*(){r.isEqual(i)||(yield L0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function t0(n,e){return A(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield h2(n);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>QC(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>QC(e.remoteStore,i)),n._onlineComponents=e})}function h2(n){return A(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Gm(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;As("Error using user provided cache. Falling back to memory cache: "+t),yield Gm(n,new e0)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield Gm(n,new e0);return n._offlineComponents})}function J0(n){return A(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield t0(n,n._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield t0(n,new d2))),n._onlineComponents})}function f2(n){return J0(n).then(e=>e.syncEngine)}function n0(n){return A(this,null,function*(){let e=yield J0(n),t=e.eventManager;return t.onListen=Zj.bind(null,e.syncEngine),t.onUnlisten=t2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Xj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=n2.bind(null,e.syncEngine),t})}function Z0(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var r0=new Map;function X0(n,e,t){if(!t)throw new U(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function p2(n,e,t,r){if(e===!0&&r===!0)throw new U(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function i0(n){if(!H.isDocumentKey(n))throw new U(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function s0(n){if(H.isDocumentKey(n))throw new U(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":q()}function pr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new U(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=jv(n);throw new U(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Dd=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Us=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new U(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Wm;switch(r.type){case"firstParty":return new Jm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return A(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=r0.get(t);r&&(L("ComponentProvider","Removing Datastore"),r0.delete(t),r.terminate())}(this),Promise.resolve()}};function eA(n,e,t,r={}){var i;let s=(n=pr(n,Us))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Be.MOCK_USER;else{c=Vb(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Be(l)}n._authCredentials=new Km(new td(c,u))}}var Td=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},At=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},gr=class n extends Td{constructor(e,t,r){super(e,t,Mv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new H(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function tA(n,e,...t){if(n=ot(n),X0("collection","path",e),n instanceof Us){let r=Me.fromString(e,...t);return s0(r),new gr(n,null,r)}{if(!(n instanceof At||n instanceof gr))throw new U(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Me.fromString(e,...t));return s0(r),new gr(n.firestore,null,r)}}function Bv(n,e,...t){if(n=ot(n),arguments.length===1&&(e=nd.newId()),X0("doc","path",e),n instanceof Us){let r=Me.fromString(e,...t);return i0(r),new At(n,null,new H(r))}{if(!(n instanceof At||n instanceof gr))throw new U(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Me.fromString(e,...t));return i0(r),new At(n.firestore,n instanceof gr?n.converter:null,new H(r))}}var bd=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new md(this,"async_queue_retry"),this.Vu=()=>{let r=qm();r&&L("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=qm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Ln;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return A(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ha(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Un("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=sv.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&q()}verifyOperationInProgress(){}wu(){return A(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function o0(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var _r=class extends Us{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new bd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return A(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new bd(e),this._firestoreClient=void 0,yield e}})}};function nA(n,e){let t=typeof n=="object"?n:fa(),r=typeof n=="string"?n:e||"(default)",i=vm(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Fb("firestore");s&&eA(i,...s)}return i}function rA(n){if(n._terminated)throw new U(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||g2(n),n._firestoreClient}function g2(n){var e,t,r;let i=n._freezeSettings(),s=function(c,u,l,h){return new ny(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Z0(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new mv(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(n._componentsProvider))}var Va=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(tt.fromBase64String(e))}catch(t){throw new U(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var js=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new U(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ua=class{constructor(e){this._methodName=e}};var ja=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new U(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new U(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}};var Ba=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var m2=/^__.*__$/,yv=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new yn(e,this.data,this.fieldMask,t,this.fieldTransforms):new hi(e,this.data,t,this.fieldTransforms)}},Cd=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new yn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function iA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}var vv=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Sd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(iA(this.Cu)&&m2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},_v=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||kd(e)}Qu(e,t,r,i=!1){return new vv({Cu:e,methodName:t,qu:r,path:Ct.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function sA(n){let e=n._freezeSettings(),t=kd(n._databaseId);return new _v(n._databaseId,!!e.ignoreUndefinedProperties,t)}function y2(n,e,t,r,i,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);$v("Data must be an object, but it was:",o,r);let c=oA(r,o),u,l;if(s.merge)u=new Vt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=Iv(e,p,t);if(!o.contains(m))throw new U(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);cA(h,m)||h.push(m)}u=new Vt(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new yv(new bt(c),u,l)}var Ad=class n extends Ua{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function v2(n,e,t,r){let i=n.Qu(1,e,t);$v("Data must be an object, but it was:",i,r);let s=[],o=bt.empty();fi(r,(u,l)=>{let h=Hv(e,u,t);l=ot(l);let p=i.Nu(h);if(l instanceof Ad)s.push(h);else{let m=Vd(l,p);m!=null&&(s.push(h),o.set(h,m))}});let c=new Vt(s);return new Cd(o,c,i.fieldTransforms)}function _2(n,e,t,r,i,s){let o=n.Qu(1,e,t),c=[Iv(e,r,t)],u=[i];if(s.length%2!=0)throw new U(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)c.push(Iv(e,s[m])),u.push(s[m+1]);let l=[],h=bt.empty();for(let m=c.length-1;m>=0;--m)if(!cA(l,c[m])){let v=c[m],b=u[m];b=ot(b);let M=o.Nu(v);if(b instanceof Ad)l.push(v);else{let R=Vd(b,M);R!=null&&(l.push(v),h.set(v,R))}}let p=new Vt(l);return new Cd(h,p,o.fieldTransforms)}function Vd(n,e){if(aA(n=ot(n)))return $v("Unsupported field value:",e,n),oA(n,e);if(n instanceof Ua)return function(r,i){if(!iA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=Vd(c,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=We.fromDate(r);return{timestampValue:hd(i.serializer,s)}}if(r instanceof We){let s=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hd(i.serializer,s)}}if(r instanceof ja)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Va)return{bytesValue:M0(i.serializer,r._byteString)};if(r instanceof At){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ba)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Nv(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${jv(r)}`)}(n,e)}function oA(n,e){let t={};return c0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fi(n,(r,i)=>{let s=Vd(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function aA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof We||n instanceof ja||n instanceof Va||n instanceof At||n instanceof Ua||n instanceof Ba)}function $v(n,e,t){if(!aA(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=jv(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function Iv(n,e,t){if((e=ot(e))instanceof js)return e._internalPath;if(typeof e=="string")return Hv(n,e);throw Sd("Field path arguments must be of type string or ",n,!1,void 0,t)}var I2=new RegExp("[~\\*/\\[\\]]");function Hv(n,e,t){if(e.search(I2)>=0)throw Sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new js(...e.split("."))._internalPath}catch{throw Sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sd(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new U(N.INVALID_ARGUMENT,c+n+u)}function cA(n,e){return n.some(t=>t.isEqual(e))}var Rd=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new wv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(uA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},wv=class extends Rd{data(){return super.data()}};function uA(n,e){return typeof e=="string"?Hv(n,e):e instanceof js?e._internalPath:e._delegate._internalPath}function w2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new U(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ev=class{convertValue(e,t="none"){switch(ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw q()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return fi(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>be(o.doubleValue));return new Ba(s)}convertGeoPoint(e){return new ja(be(e.latitude),be(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Cv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Na(e));default:return null}}convertTimestamp(e){let t=jn(e);return new We(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Me.fromString(e);ye(F0(r));let i=new od(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(t)||Un(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function E2(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var oi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Md=class extends Rd{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Cs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(uA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Cs=class extends Md{data(e={}){return super.data(e)}},Dv=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new oi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Cs(this._firestore,this._userDataWriter,r.key,r,new oi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new U(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new Cs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new oi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new Cs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new oi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),h=o.indexOf(c.doc.key)),{type:D2(c.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function D2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q()}}var Nd=class extends Ev{constructor(e){super(),this.firestore=e}convertBytes(e){return new Va(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}};function lA(n,e,t,...r){n=pr(n,At);let i=pr(n.firestore,_r),s=sA(i),o;return o=typeof(e=ot(e))=="string"||e instanceof js?_2(s,"updateDoc",n._key,e,t,r):v2(s,"updateDoc",n._key,e),qv(i,[o.toMutation(n._key,Vn.exists(!0))])}function dA(n){return qv(pr(n.firestore,_r),[new Pa(n._key,Vn.none())])}function hA(n,e){let t=pr(n.firestore,_r),r=Bv(n),i=E2(n.converter,e);return qv(t,[y2(sA(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Vn.exists(!1))]).then(()=>r)}function zv(n,...e){var t,r,i;n=ot(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||o0(e[o])||(s=e[o],o++);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(o0(e[o])){let p=e[o];e[o]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof At)l=pr(n.firestore,_r),h=Mv(n._key.path),u={next:p=>{e[o]&&e[o](T2(l,n,p))},error:e[o+1],complete:e[o+2]};else{let p=pr(n,Td);l=pr(p.firestore,_r),h=p._query;let m=new Nd(l);u={next:v=>{e[o]&&e[o](new Dv(l,m,p,v))},error:e[o+1],complete:e[o+2]},w2(n._query)}return function(m,v,b,M){let R=new gv(M),F=new uv(v,R,b);return m.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return Kj(yield n0(m),F)})),()=>{R.Za(),m.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return Qj(yield n0(m),F)}))}}(rA(l),h,c,u)}function qv(n,e){return function(r,i){let s=new Ln;return r.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return r2(yield f2(r),i,s)})),s.promise}(rA(n),e)}function T2(n,e,t){let r=t.docs.get(e._key),i=new Nd(n);return new Md(n,i,e._key,r,new oi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Bs=i})(ys),dr(new Lt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new _r(new Qm(r.getProvider("auth-internal")),new Xm(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new od(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),je(SC,"4.7.3",e),je(SC,"4.7.3","esm2017")})();var Ud=function(){return Ud=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ud.apply(this,arguments)};var A2={includeMetadataChanges:!1};function fA(n,e){return e===void 0&&(e=A2),new ie(function(t){var r=zv(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function pA(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Ud(Ud({},r),(t={},t[e.idField]=n.id,t))}function gA(n){return fA(n,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}function mA(n,e){return e===void 0&&(e={}),gA(n).pipe(ee(function(t){return t.map(function(r){return pA(r,e)})}))}var gi=class{constructor(e){return e}},yA="firestore",Gv=class{constructor(){return ga(yA)}};var Wv=new j("angularfire2.firestore-instances");function S2(n,e){let t=wm(yA,n,e);return t&&new gi(t)}function R2(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new gi(r)}}var M2={provide:Gv,deps:[[new Wt,Wv]]},N2={provide:gi,useFactory:S2,deps:[[new Wt,Wv],ti]};function vA(n,...e){return je("angularfire",_s.full,"fst"),Kt([N2,M2,{provide:Wv,useFactory:R2(n),multi:!0,deps:[_e,dt,ma,ya,[new Wt,Kl],[new Wt,pa],...e]}])}var _A=Zt(mA,!0);var IA=Zt(hA,!0);var Kv=Zt(tA,!0);var wA=Zt(dA,!0);var Qv=Zt(Bv,!0);var EA=Zt(nA,!0);var DA=Zt(lA,!0);var NA=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(Ee(ns),Ee(an))}}static{this.\u0275dir=_t({type:n})}}return n})(),x2=(()=>{class n extends NA{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Oo(n)))(i||n)}})()}static{this.\u0275dir=_t({type:n,features:[sr]})}}return n})(),xA=new j("");var P2={provide:xA,useExisting:Ki(()=>Wd),multi:!0};function O2(){let n=Nn()?Nn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var k2=new j(""),Wd=(()=>{class n extends NA{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!O2())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(Ee(ns),Ee(an),Ee(k2,8))}}static{this.\u0275dir=_t({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Mn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[rl([P2]),sr]})}}return n})();var PA=new j(""),OA=new j("");function kA(n){return n!=null}function FA(n){return or(n)?Ce(n):n}function LA(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function VA(n,e){return e.map(t=>t(n))}function F2(n){return!n.validate}function UA(n){return n.map(e=>F2(e)?e:t=>e.validate(t))}function L2(n){if(!n)return null;let e=n.filter(kA);return e.length==0?null:function(t){return LA(VA(t,e))}}function Jv(n){return n!=null?L2(UA(n)):null}function V2(n){if(!n)return null;let e=n.filter(kA);return e.length==0?null:function(t){let r=VA(t,e).map(FA);return Hh(r).pipe(ee(LA))}}function Zv(n){return n!=null?V2(UA(n)):null}function TA(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function U2(n){return n._rawValidators}function j2(n){return n._rawAsyncValidators}function Yv(n){return n?Array.isArray(n)?n:[n]:[]}function Bd(n,e){return Array.isArray(n)?n.includes(e):n===e}function bA(n,e){let t=Yv(e);return Yv(n).forEach(i=>{Bd(t,i)||t.push(i)}),t}function CA(n,e){return Yv(e).filter(t=>!Bd(n,t))}var $d=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},qs=class extends $d{get formDirective(){return null}get path(){return null}},Ja=class extends $d{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Hd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},B2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},p5=oe(k({},B2),{"[class.ng-submitted]":"isSubmitted"}),jA=(()=>{class n extends Hd{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Ee(Ja,2))}}static{this.\u0275dir=_t({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&el("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[sr]})}}return n})(),BA=(()=>{class n extends Hd{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Ee(qs,10))}}static{this.\u0275dir=_t({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&el("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[sr]})}}return n})();var Ga="VALID",jd="INVALID",Hs="PENDING",Wa="DISABLED",Gs=class{},zd=class extends Gs{constructor(e,t){super(),this.value=e,this.source=t}},Qa=class extends Gs{constructor(e,t){super(),this.pristine=e,this.source=t}},Ya=class extends Gs{constructor(e,t){super(),this.touched=e,this.source=t}},zs=class extends Gs{constructor(e,t){super(),this.status=e,this.source=t}};function $A(n){return(Kd(n)?n.validators:n)||null}function $2(n){return Array.isArray(n)?Jv(n):n||null}function HA(n,e){return(Kd(e)?e.asyncValidators:n)||null}function H2(n){return Array.isArray(n)?Zv(n):n||null}function Kd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function z2(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[t])throw new V(1001,"")}function q2(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new V(1002,"")})}var qd=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Uo(()=>this.statusReactive()),this.statusReactive=Lo(void 0),this._pristine=Uo(()=>this.pristineReactive()),this.pristineReactive=Lo(!0),this._touched=Uo(()=>this.touchedReactive()),this.touchedReactive=Lo(!1),this._events=new He,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Yt(this.statusReactive)}set status(e){Yt(()=>this.statusReactive.set(e))}get valid(){return this.status===Ga}get invalid(){return this.status===jd}get pending(){return this.status==Hs}get disabled(){return this.status===Wa}get enabled(){return this.status!==Wa}get pristine(){return Yt(this.pristineReactive)}set pristine(e){Yt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Yt(this.touchedReactive)}set touched(e){Yt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(CA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(CA(e,this._rawAsyncValidators))}hasValidator(e){return Bd(this._rawValidators,e)}hasAsyncValidator(e){return Bd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(oe(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ya(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ya(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(oe(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Qa(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Qa(!0,r))}markAsPending(e={}){this.status=Hs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(oe(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Wa,this.errors=null,this._forEachChild(i=>{i.disable(oe(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zd(this.value,r)),this._events.next(new zs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ga,this._forEachChild(r=>{r.enable(oe(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(oe(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ga||this.status===Hs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zd(this.value,t)),this._events.next(new zs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(oe(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wa:Ga}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Hs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=FA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new zs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?Wa:this.errors?jd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hs)?Hs:this._anyControlsHaveStatus(jd)?jd:Ga}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Qa(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ya(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Kd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=$2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=H2(this._rawAsyncValidators)}},Gd=class extends qd{constructor(e,t,r){super($A(t),HA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){q2(this,!0,e),Object.keys(e).forEach(r=>{z2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Xv=new j("CallSetDisabledState",{providedIn:"root",factory:()=>e_}),e_="always";function G2(n,e){return[...e.path,n]}function zA(n,e,t=e_){qA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),K2(n,e),Y2(n,e),Q2(n,e),W2(n,e)}function AA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function W2(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function qA(n,e){let t=U2(n);e.validator!==null?n.setValidators(TA(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=j2(n);e.asyncValidator!==null?n.setAsyncValidators(TA(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();AA(e._rawValidators,i),AA(e._rawAsyncValidators,i)}function K2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&GA(n,e)})}function Q2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&GA(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function GA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Y2(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function J2(n,e){n==null,qA(n,e)}function Z2(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function X2(n){return Object.getPrototypeOf(n.constructor)===x2}function eB(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function tB(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Wd?t=s:X2(s)?r=s:i=s}),i||r||t||null}var nB={provide:qs,useExisting:Ki(()=>t_)},Ka=Promise.resolve(),t_=(()=>{class n extends qs{get submitted(){return Yt(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Uo(()=>this.submittedReactive()),this.submittedReactive=Lo(!1),this._directives=new Set,this.ngSubmit=new Pe,this.form=new Gd({},Jv(t),Zv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ka.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),zA(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ka.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ka.then(()=>{let r=this._findContainer(t.path),i=new Gd({});J2(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ka.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ka.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),eB(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(Ee(PA,10),Ee(OA,10),Ee(Xv,8))}}static{this.\u0275dir=_t({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Mn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[rl([nB]),sr]})}}return n})();function SA(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function RA(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var rB=class extends qd{constructor(e=null,t,r){super($A(t),HA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(RA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){RA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var iB={provide:Ja,useExisting:Ki(()=>n_)},MA=Promise.resolve(),n_=(()=>{class n extends Ja{constructor(t,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new rB,this._registered=!1,this.name="",this.update=new Pe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=tB(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Z2(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){zA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){MA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ol(r);MA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?G2(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(Ee(qs,9),Ee(PA,10),Ee(OA,10),Ee(xA,10),Ee(ar,8),Ee(Xv,8))}}static{this.\u0275dir=_t({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[rl([iB]),sr,Ji]})}}return n})(),WA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=_t({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var sB=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=$r({type:n})}static{this.\u0275inj=Br({})}}return n})();var KA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Xv,useValue:t.callSetDisabledState??e_}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=$r({type:n})}static{this.\u0275inj=Br({imports:[sB]})}}return n})();var cB=["createTodoForm"];function uB(n,e){if(n&1){let t=Hp();It(0,"tr")(1,"td")(2,"input",7),nl("ngModelChange",function(i){let s=Zi(t).$implicit;return Wp(s.title,i)||(s.title=i),Xi(i)}),Ot()(),It(3,"td")(4,"input",7),nl("ngModelChange",function(i){let s=Zi(t).$implicit;return Wp(s.description,i)||(s.description=i),Xi(i)}),Ot()(),It(5,"td")(6,"button",8),Mn("click",function(){let i=Zi(t).$implicit,s=zp();return Xi(s.updateData(i.id,i.title,i.description))}),Gr(7,"Update"),Ot(),It(8,"button",8),Mn("click",function(){let i=Zi(t).$implicit,s=zp();return Xi(s.deleteData(i.id))}),Gr(9,"Delete"),Ot()()()}if(n&2){let t=e.$implicit;Gu(2),tl("ngModel",t.title),Gu(2),tl("ngModel",t.description)}}var Qd=class n{ngOnInit(){this.fetchData()}todoForm;todos$;updateData(e,t,r){let i=Qv(this.fireStore,`todoapp/${e}`);DA(i,{title:t,description:r}).then(()=>{alert("Updated Successfully")}).catch(s=>{console.error("Error updating document:",s)})}deleteData(e){let t=Qv(this.fireStore,`todoapp/${e}`);wA(t).then(()=>{alert(`${e} has been delete`)}).catch(r=>{console.error(r)})}fetchData(){let e=Kv(this.fireStore,"todoapp");this.todos$=_A(e,{idField:"id"})}fireStore=x(gi);saveData(){let e=Kv(this.fireStore,"todoapp");IA(e,{title:this.todoForm.value.title,description:this.todoForm.value.description})}clearForm(){this.todoForm.controls.title.setValue(""),this.todoForm.controls.description.setValue("")}constructor(){}submitForm(){this.todoForm?(alert("done submit"),this.saveData(),this.clearForm()):alert("Form not found!")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qi({type:n,selectors:[["app-todo"]],viewQuery:function(t,r){if(t&1&&sT(cB,5),t&2){let i;qp(i=Gp())&&(r.todoForm=i.first)}},standalone:!0,features:[rs],decls:20,vars:3,consts:[["createTodoForm","ngForm"],["action",""],["type","text","placeholder","title","name","title","ngModel",""],["type","text","placeholder","description","name","description","ngModel",""],["type","submit",3,"click"],[1,"todo-item"],[4,"ngFor","ngForOf"],[3,"ngModelChange","ngModel"],[3,"click"]],template:function(t,r){if(t&1){let i=Hp();It(0,"form",1,0)(2,"div"),qr(3,"input",2)(4,"input",3),It(5,"button",4),Mn("click",function(){return Zi(i),Xi(r.submitForm())}),Gr(6,"submit"),Ot()()(),It(7,"div",5)(8,"table")(9,"thead")(10,"tr")(11,"th"),Gr(12,"Title"),Ot(),It(13,"th"),Gr(14,"Description"),Ot(),It(15,"th"),Gr(16,"Action"),Ot()()(),It(17,"tbody"),Bp(18,uB,10,2,"tr",6),cT(19,"async"),Ot()()()}t&2&&(Gu(18),$p("ngForOf",uT(19,1,r.todos$)))},dependencies:[ng,AT,ST,KA,WA,Wd,jA,BA,n_,t_],styles:["button[_ngcontent-%COMP%]{background-color:#61642f;border:none;border-radius:5px;color:#fff;padding:10px 15px;margin:5px;cursor:pointer;transition:background-color .3s ease;font-size:16px}button[_ngcontent-%COMP%]:hover{background-color:#00008b}button[_ngcontent-%COMP%]:active{transform:scale(.98)}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;background-color:#f9f9f9;box-shadow:0 4px 8px #0000001a;border-radius:8px;overflow:hidden}thead[_ngcontent-%COMP%]{background-color:#430070;color:#fff}th[_ngcontent-%COMP%]{padding:12px;text-align:left}td[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #ddd}input[_ngcontent-%COMP%]{width:30vh;padding:8px;border:1px solid #ccc;border-radius:4px}td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.todo-item[_ngcontent-%COMP%]{width:100%;max-width:1000px;display:flex;justify-content:center;margin-left:auto;margin-right:auto}@media (max-width: 768px){table[_ngcontent-%COMP%]{width:100%;display:block}thead[_ngcontent-%COMP%]{display:none}tbody[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{display:block}tr[_ngcontent-%COMP%]{border-bottom:2px solid #ddd;margin-bottom:10px}td[_ngcontent-%COMP%]{text-align:left;padding:8px;position:relative}td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:700;display:block;color:#00f;margin-bottom:5px}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:5px}}"]})};var QA=[{path:"",pathMatch:"full",redirectTo:"todo"},{path:"todo",component:Qd}];var YA={providers:[gT({eventCoalescing:!0}),Nb(QA),KT(),oC(()=>aC({projectId:"todo-app-44a32",appId:"1:813176578629:web:bf59c9fc8e2bf336c5392c",databaseURL:"https://todo-app-44a32-default-rtdb.asia-southeast1.firebasedatabase.app",storageBucket:"todo-app-44a32.firebasestorage.app",apiKey:"AIzaSyC_1FLqkc6s0Oss4ptm4FsgnzUFXUVx_XI",authDomain:"todo-app-44a32.firebaseapp.com",messagingSenderId:"813176578629",measurementId:"G-L2X07TXH8K"})),vA(()=>EA())]};var Yd=class n{title="todoapp2";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qi({type:n,selectors:[["app-root"]],standalone:!0,features:[rs],decls:1,vars:0,template:function(t,r){t&1&&qr(0,"router-outlet")},dependencies:[qg]})};GT(Yd,YA).catch(n=>console.error(n));
